function W5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YO={exports:{}},zc={};var o_;function H5(){if(o_)return zc;o_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return zc.Fragment=e,zc.jsx=n,zc.jsxs=n,zc}var a_;function K5(){return a_||(a_=1,YO.exports=H5()),YO.exports}var y=K5(),GO={exports:{}},Ae={};var l_;function J5(){if(l_)return Ae;l_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function O(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function k(M,N,F){this.props=M,this.context=N,this.refs=C,this.updater=F||x}k.prototype.isReactComponent={},k.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=k.prototype;function R(M,N,F){this.props=M,this.context=N,this.refs=C,this.updater=F||x}var Q=R.prototype=new T;Q.constructor=R,S(Q,k.prototype),Q.isPureReactComponent=!0;var A=Array.isArray;function $(){}var P={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function B(M,N,F){var ie=F.ref;return{$$typeof:t,type:M,key:N,ref:ie!==void 0?ie:null,props:F}}function ee(M,N){return B(M.type,N,M.props)}function re(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function H(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(F){return N[F]})}var le=/\/+/g;function ae(M,N){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):N.toString(36)}function me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then($,$):(M.status="pending",M.then(function(N){M.status==="pending"&&(M.status="fulfilled",M.value=N)},function(N){M.status==="pending"&&(M.status="rejected",M.reason=N)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function I(M,N,F,ie,oe){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case t:case e:fe=!0;break;case d:return fe=M._init,I(fe(M._payload),N,F,ie,oe)}}if(fe)return oe=oe(M),fe=ie===""?"."+ae(M,0):ie,A(oe)?(F="",fe!=null&&(F=fe.replace(le,"$&/")+"/"),I(oe,N,F,"",function(_e){return _e})):oe!=null&&(re(oe)&&(oe=ee(oe,F+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(le,"$&/")+"/")+fe)),N.push(oe)),1;fe=0;var ze=ie===""?".":ie+":";if(A(M))for(var X=0;X<M.length;X++)ie=M[X],ce=ze+ae(ie,X),fe+=I(ie,N,F,ce,oe);else if(X=O(M),typeof X=="function")for(M=X.call(M),X=0;!(ie=M.next()).done;)ie=ie.value,ce=ze+ae(ie,X++),fe+=I(ie,N,F,ce,oe);else if(ce==="object"){if(typeof M.then=="function")return I(me(M),N,F,ie,oe);throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return fe}function L(M,N,F){if(M==null)return M;var ie=[],oe=0;return I(M,ie,"","",function(ce){return N.call(F,ce,oe++)}),ie}function K(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(F){(M._status===0||M._status===-1)&&(M._status=1,M._result=F)},function(F){(M._status===0||M._status===-1)&&(M._status=2,M._result=F)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var G=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},he={map:L,forEach:function(M,N,F){L(M,function(){N.apply(this,arguments)},F)},count:function(M){var N=0;return L(M,function(){N++}),N},toArray:function(M){return L(M,function(N){return N})||[]},only:function(M){if(!re(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=m,Ae.Children=he,Ae.Component=k,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=R,Ae.StrictMode=r,Ae.Suspense=u,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return P.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,N,F){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=S({},M.props),oe=M.key;if(N!=null)for(ce in N.key!==void 0&&(oe=""+N.key),N)!Z.call(N,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&N.ref===void 0||(ie[ce]=N[ce]);var ce=arguments.length-2;if(ce===1)ie.children=F;else if(1<ce){for(var fe=Array(ce),ze=0;ze<ce;ze++)fe[ze]=arguments[ze+2];ie.children=fe}return B(M.type,oe,ie)},Ae.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Ae.createElement=function(M,N,F){var ie,oe={},ce=null;if(N!=null)for(ie in N.key!==void 0&&(ce=""+N.key),N)Z.call(N,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(oe[ie]=N[ie]);var fe=arguments.length-2;if(fe===1)oe.children=F;else if(1<fe){for(var ze=Array(fe),X=0;X<fe;X++)ze[X]=arguments[X+2];oe.children=ze}if(M&&M.defaultProps)for(ie in fe=M.defaultProps,fe)oe[ie]===void 0&&(oe[ie]=fe[ie]);return B(M,ce,oe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:l,render:M}},Ae.isValidElement=re,Ae.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:K}},Ae.memo=function(M,N){return{$$typeof:f,type:M,compare:N===void 0?null:N}},Ae.startTransition=function(M){var N=P.T,F={};P.T=F;try{var ie=M(),oe=P.S;oe!==null&&oe(F,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then($,G)}catch(ce){G(ce)}finally{N!==null&&F.types!==null&&(N.types=F.types),P.T=N}},Ae.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ae.use=function(M){return P.H.use(M)},Ae.useActionState=function(M,N,F){return P.H.useActionState(M,N,F)},Ae.useCallback=function(M,N){return P.H.useCallback(M,N)},Ae.useContext=function(M){return P.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,N){return P.H.useDeferredValue(M,N)},Ae.useEffect=function(M,N){return P.H.useEffect(M,N)},Ae.useEffectEvent=function(M){return P.H.useEffectEvent(M)},Ae.useId=function(){return P.H.useId()},Ae.useImperativeHandle=function(M,N,F){return P.H.useImperativeHandle(M,N,F)},Ae.useInsertionEffect=function(M,N){return P.H.useInsertionEffect(M,N)},Ae.useLayoutEffect=function(M,N){return P.H.useLayoutEffect(M,N)},Ae.useMemo=function(M,N){return P.H.useMemo(M,N)},Ae.useOptimistic=function(M,N){return P.H.useOptimistic(M,N)},Ae.useReducer=function(M,N,F){return P.H.useReducer(M,N,F)},Ae.useRef=function(M){return P.H.useRef(M)},Ae.useState=function(M){return P.H.useState(M)},Ae.useSyncExternalStore=function(M,N,F){return P.H.useSyncExternalStore(M,N,F)},Ae.useTransition=function(){return P.H.useTransition()},Ae.version="19.2.3",Ae}var c_;function tb(){return c_||(c_=1,GO.exports=J5()),GO.exports}var w=tb();const Ms=yE(w),nb=W5({__proto__:null,default:Ms},[w]);var FO={exports:{}},Lc={},WO={exports:{}},HO={};var u_;function e3(){return u_||(u_=1,(function(t){function e(I,L){var K=I.length;I.push(L);e:for(;0<K;){var G=K-1>>>1,he=I[G];if(0<i(he,L))I[G]=L,I[K]=he,K=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var L=I[0],K=I.pop();if(K!==L){I[0]=K;e:for(var G=0,he=I.length,M=he>>>1;G<M;){var N=2*(G+1)-1,F=I[N],ie=N+1,oe=I[ie];if(0>i(F,K))ie<he&&0>i(oe,F)?(I[G]=oe,I[ie]=K,G=ie):(I[G]=F,I[N]=K,G=N);else if(ie<he&&0>i(oe,K))I[G]=oe,I[ie]=K,G=ie;else break e}}return L}function i(I,L){var K=I.sortIndex-L.sortIndex;return K!==0?K:I.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],d=1,m=null,g=3,O=!1,x=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function Q(I){for(var L=n(f);L!==null;){if(L.callback===null)r(f);else if(L.startTime<=I)r(f),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(f)}}function A(I){if(S=!1,Q(I),!x)if(n(u)!==null)x=!0,$||($=!0,H());else{var L=n(f);L!==null&&me(A,L.startTime-I)}}var $=!1,P=-1,Z=5,B=-1;function ee(){return C?!0:!(t.unstable_now()-B<Z)}function re(){if(C=!1,$){var I=t.unstable_now();B=I;var L=!0;try{e:{x=!1,S&&(S=!1,T(P),P=-1),O=!0;var K=g;try{t:{for(Q(I),m=n(u);m!==null&&!(m.expirationTime>I&&ee());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var he=G(m.expirationTime<=I);if(I=t.unstable_now(),typeof he=="function"){m.callback=he,Q(I),L=!0;break t}m===n(u)&&r(u),Q(I)}else r(u);m=n(u)}if(m!==null)L=!0;else{var M=n(f);M!==null&&me(A,M.startTime-I),L=!1}}break e}finally{m=null,g=K,O=!1}L=void 0}}finally{L?H():$=!1}}}var H;if(typeof R=="function")H=function(){R(re)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ae=le.port2;le.port1.onmessage=re,H=function(){ae.postMessage(null)}}else H=function(){k(re,0)};function me(I,L){P=k(function(){I(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(I){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var K=g;g=L;try{return I()}finally{g=K}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=g;g=I;try{return L()}finally{g=K}},t.unstable_scheduleCallback=function(I,L,K){var G=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?G+K:G):K=G,I){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,I={id:d++,callback:L,priorityLevel:I,startTime:K,expirationTime:he,sortIndex:-1},K>G?(I.sortIndex=K,e(f,I),n(u)===null&&I===n(f)&&(S?(T(P),P=-1):S=!0,me(A,K-G))):(I.sortIndex=he,e(u,I),x||O||(x=!0,$||($=!0,H()))),I},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(I){var L=g;return function(){var K=g;g=L;try{return I.apply(this,arguments)}finally{g=K}}}})(HO)),HO}var h_;function t3(){return h_||(h_=1,WO.exports=e3()),WO.exports}var KO={exports:{}},an={};var f_;function n3(){if(f_)return an;f_=1;var t=tb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,d)},an.flushSync=function(u){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=d,r.d.f()}},an.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},an.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},an.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,O=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:O}):d==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:O,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},an.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},an.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=l(d,f.crossOrigin);r.d.L(u,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},an.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},an.requestFormReset=function(u){r.d.r(u)},an.unstable_batchedUpdates=function(u,f){return u(f)},an.useFormState=function(u,f,d){return a.H.useFormState(u,f,d)},an.useFormStatus=function(){return a.H.useHostTransitionStatus()},an.version="19.2.3",an}var d_;function bE(){if(d_)return KO.exports;d_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KO.exports=n3(),KO.exports}var p_;function r3(){if(p_)return Lc;p_=1;var t=t3(),e=tb(),n=bE();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,p=c;;){var v=h.return;if(v===null)break;var b=v.alternate;if(b===null){if(p=v.return,p!==null){h=p;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===h)return u(v),o;if(b===p)return u(v),c;b=b.sibling}throw Error(r(188))}if(h.return!==p.return)h=v,p=b;else{for(var _=!1,E=v.child;E;){if(E===h){_=!0,h=v,p=b;break}if(E===p){_=!0,p=v,h=b;break}E=E.sibling}if(!_){for(E=b.child;E;){if(E===h){_=!0,h=b,p=v;break}if(E===p){_=!0,p=b,h=v;break}E=E.sibling}if(!_)throw Error(r(189))}}if(h.alternate!==p)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var le=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===le?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case $:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case R:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case Q:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:ae(o.type)||"Memo";case Z:c=o._payload,o=o._init;try{return ae(o(c))}catch{}}return null}var me=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},G=[],he=-1;function M(o){return{current:o}}function N(o){0>he||(o.current=G[he],G[he]=null,he--)}function F(o,c){he++,G[he]=o.current,o.current=c}var ie=M(null),oe=M(null),ce=M(null),fe=M(null);function ze(o,c){switch(F(ce,c),F(oe,o),F(ie,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?EC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=EC(c),o=QC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}N(ie),F(ie,o)}function X(){N(ie),N(oe),N(ce)}function _e(o){o.memoizedState!==null&&F(fe,o);var c=ie.current,h=QC(c,o.type);c!==h&&(F(oe,o),F(ie,h))}function De(o){oe.current===o&&(N(ie),N(oe)),fe.current===o&&(N(fe),Mc._currentValue=K)}var gt,Tt;function xi(o){if(gt===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);gt=c&&c[1]||"",Tt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+o+Tt}var Qm=!1;function Pm(o,c){if(!o||Qm)return"";Qm=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Y=W}Reflect.construct(o,[],se)}else{try{se.call()}catch(W){Y=W}o.call(se.prototype)}}else{try{throw Error()}catch(W){Y=W}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),_=b[0],E=b[1];if(_&&E){var D=_.split(`
`),U=E.split(`
`);for(v=p=0;p<D.length&&!D[p].includes("DetermineComponentFrameRoot");)p++;for(;v<U.length&&!U[v].includes("DetermineComponentFrameRoot");)v++;if(p===D.length||v===U.length)for(p=D.length-1,v=U.length-1;1<=p&&0<=v&&D[p]!==U[v];)v--;for(;1<=p&&0<=v;p--,v--)if(D[p]!==U[v]){if(p!==1||v!==1)do if(p--,v--,0>v||D[p]!==U[v]){var J=`
`+D[p].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=p&&0<=v);break}}}finally{Qm=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?xi(h):""}function TN(o,c){switch(o.tag){case 26:case 27:case 5:return xi(o.type);case 16:return xi("Lazy");case 13:return o.child!==c&&c!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Pm(o.type,!1);case 11:return Pm(o.type.render,!1);case 1:return Pm(o.type,!0);case 31:return xi("Activity");default:return""}}function ox(o){try{var c="",h=null;do c+=TN(o,h),h=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Am=Object.prototype.hasOwnProperty,$m=t.unstable_scheduleCallback,Mm=t.unstable_cancelCallback,RN=t.unstable_shouldYield,EN=t.unstable_requestPaint,Nn=t.unstable_now,QN=t.unstable_getCurrentPriorityLevel,ax=t.unstable_ImmediatePriority,lx=t.unstable_UserBlockingPriority,Ch=t.unstable_NormalPriority,PN=t.unstable_LowPriority,cx=t.unstable_IdlePriority,AN=t.log,$N=t.unstable_setDisableYieldValue,Ul=null,Dn=null;function as(o){if(typeof AN=="function"&&$N(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(Ul,o)}catch{}}var zn=Math.clz32?Math.clz32:NN,MN=Math.log,jN=Math.LN2;function NN(o){return o>>>=0,o===0?32:31-(MN(o)/jN|0)|0}var _h=256,kh=262144,Th=4194304;function lo(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Rh(o,c,h){var p=o.pendingLanes;if(p===0)return 0;var v=0,b=o.suspendedLanes,_=o.pingedLanes;o=o.warmLanes;var E=p&134217727;return E!==0?(p=E&~b,p!==0?v=lo(p):(_&=E,_!==0?v=lo(_):h||(h=E&~o,h!==0&&(v=lo(h))))):(E=p&~b,E!==0?v=lo(E):_!==0?v=lo(_):h||(h=p&~o,h!==0&&(v=lo(h)))),v===0?0:c!==0&&c!==v&&(c&b)===0&&(b=v&-v,h=c&-c,b>=h||b===32&&(h&4194048)!==0)?c:v}function Yl(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function DN(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(){var o=Th;return Th<<=1,(Th&62914560)===0&&(Th=4194304),o}function jm(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Gl(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function zN(o,c,h,p,v,b){var _=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var E=o.entanglements,D=o.expirationTimes,U=o.hiddenUpdates;for(h=_&~h;0<h;){var J=31-zn(h),se=1<<J;E[J]=0,D[J]=-1;var Y=U[J];if(Y!==null)for(U[J]=null,J=0;J<Y.length;J++){var W=Y[J];W!==null&&(W.lane&=-536870913)}h&=~se}p!==0&&hx(o,p,0),b!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=b&~(_&~c))}function hx(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-zn(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|h&261930}function fx(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var p=31-zn(h),v=1<<p;v&c|o[p]&c&&(o[p]|=c),h&=~v}}function dx(o,c){var h=c&-c;return h=(h&42)!==0?1:Nm(h),(h&(o.suspendedLanes|c))!==0?0:h}function Nm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Dm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function px(){var o=L.p;return o!==0?o:(o=window.event,o===void 0?32:JC(o.type))}function mx(o,c){var h=L.p;try{return L.p=o,c()}finally{L.p=h}}var ls=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ls,yn="__reactProps$"+ls,Jo="__reactContainer$"+ls,zm="__reactEvents$"+ls,LN="__reactListeners$"+ls,IN="__reactHandles$"+ls,gx="__reactResources$"+ls,Fl="__reactMarker$"+ls;function Lm(o){delete o[Ut],delete o[yn],delete o[zm],delete o[LN],delete o[IN]}function ea(o){var c=o[Ut];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Jo]||h[Ut]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=DC(o);o!==null;){if(h=o[Ut])return h;o=DC(o)}return c}o=h,h=o.parentNode}return null}function ta(o){if(o=o[Ut]||o[Jo]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Wl(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function na(o){var c=o[gx];return c||(c=o[gx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Zt(o){o[Fl]=!0}var Ox=new Set,vx={};function co(o,c){ra(o,c),ra(o+"Capture",c)}function ra(o,c){for(vx[o]=c,o=0;o<c.length;o++)Ox.add(c[o])}var XN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yx={},bx={};function ZN(o){return Am.call(bx,o)?!0:Am.call(yx,o)?!1:XN.test(o)?bx[o]=!0:(yx[o]=!0,!1)}function Eh(o,c,h){if(ZN(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Qh(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Si(o,c,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+p)}}function lr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wx(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function VN(o,c,h){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,b=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return v.call(this)},set:function(_){h=""+_,b.call(this,_)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Im(o){if(!o._valueTracker){var c=wx(o)?"checked":"value";o._valueTracker=VN(o,c,""+o[c])}}function xx(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return o&&(p=wx(o)?o.checked?"true":"false":o.value),o=p,o!==h?(c.setValue(o),!0):!1}function Ph(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var BN=/[\n"\\]/g;function cr(o){return o.replace(BN,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Xm(o,c,h,p,v,b,_,E){o.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?o.type=_:o.removeAttribute("type"),c!=null?_==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+lr(c)):o.value!==""+lr(c)&&(o.value=""+lr(c)):_!=="submit"&&_!=="reset"||o.removeAttribute("value"),c!=null?Zm(o,_,lr(c)):h!=null?Zm(o,_,lr(h)):p!=null&&o.removeAttribute("value"),v==null&&b!=null&&(o.defaultChecked=!!b),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?o.name=""+lr(E):o.removeAttribute("name")}function Sx(o,c,h,p,v,b,_,E){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),c!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||c!=null)){Im(o);return}h=h!=null?""+lr(h):"",c=c!=null?""+lr(c):h,E||c===o.value||(o.value=c),o.defaultValue=c}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=E?o.checked:!!p,o.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.name=_),Im(o)}function Zm(o,c,h){c==="number"&&Ph(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function ia(o,c,h,p){if(o=o.options,c){c={};for(var v=0;v<h.length;v++)c["$"+h[v]]=!0;for(h=0;h<o.length;h++)v=c.hasOwnProperty("$"+o[h].value),o[h].selected!==v&&(o[h].selected=v),v&&p&&(o[h].defaultSelected=!0)}else{for(h=""+lr(h),c=null,v=0;v<o.length;v++){if(o[v].value===h){o[v].selected=!0,p&&(o[v].defaultSelected=!0);return}c!==null||o[v].disabled||(c=o[v])}c!==null&&(c.selected=!0)}}function Cx(o,c,h){if(c!=null&&(c=""+lr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+lr(h):""}function _x(o,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(r(92));if(me(p)){if(1<p.length)throw Error(r(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=lr(c),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p),Im(o)}function sa(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var qN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kx(o,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,h):typeof h!="number"||h===0||qN.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Tx(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var v in c)p=c[v],c.hasOwnProperty(v)&&h[v]!==p&&kx(o,v,p)}else for(var b in c)c.hasOwnProperty(b)&&kx(o,b,c[b])}function Vm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ah(o){return YN.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ci(){}var Bm=null;function qm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var oa=null,aa=null;function Rx(o){var c=ta(o);if(c&&(o=c.stateNode)){var h=o[yn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Xm(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+cr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==o&&p.form===o.form){var v=p[yn]||null;if(!v)throw Error(r(90));Xm(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===o.form&&xx(p)}break e;case"textarea":Cx(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ia(o,!!h.multiple,c,!1)}}}var Um=!1;function Ex(o,c,h){if(Um)return o(c,h);Um=!0;try{var p=o(c);return p}finally{if(Um=!1,(oa!==null||aa!==null)&&(bf(),oa&&(c=oa,o=aa,aa=oa=null,Rx(c),o)))for(c=0;c<o.length;c++)Rx(o[c])}}function Hl(o,c){var h=o.stateNode;if(h===null)return null;var p=h[yn]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=!1;if(_i)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){Ym=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{Ym=!1}var cs=null,Gm=null,$h=null;function Qx(){if($h)return $h;var o,c=Gm,h=c.length,p,v="value"in cs?cs.value:cs.textContent,b=v.length;for(o=0;o<h&&c[o]===v[o];o++);var _=h-o;for(p=1;p<=_&&c[h-p]===v[b-p];p++);return $h=v.slice(o,1<p?1-p:void 0)}function Mh(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function jh(){return!0}function Px(){return!1}function bn(o){function c(h,p,v,b,_){this._reactName=h,this._targetInst=v,this.type=p,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var E in o)o.hasOwnProperty(E)&&(h=o[E],this[E]=h?h(b):b[E]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?jh:Px,this.isPropagationStopped=Px,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),c}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nh=bn(uo),Jl=m({},uo,{view:0,detail:0}),GN=bn(Jl),Fm,Wm,ec,Dh=m({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ec&&(ec&&o.type==="mousemove"?(Fm=o.screenX-ec.screenX,Wm=o.screenY-ec.screenY):Wm=Fm=0,ec=o),Fm)},movementY:function(o){return"movementY"in o?o.movementY:Wm}}),Ax=bn(Dh),FN=m({},Dh,{dataTransfer:0}),WN=bn(FN),HN=m({},Jl,{relatedTarget:0}),Hm=bn(HN),KN=m({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),JN=bn(KN),eD=m({},uo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tD=bn(eD),nD=m({},uo,{data:0}),$x=bn(nD),rD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oD(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=sD[o])?!!c[o]:!1}function Km(){return oD}var aD=m({},Jl,{key:function(o){if(o.key){var c=rD[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Mh(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?iD[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(o){return o.type==="keypress"?Mh(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Mh(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),lD=bn(aD),cD=m({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mx=bn(cD),uD=m({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),hD=bn(uD),fD=m({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),dD=bn(fD),pD=m({},Dh,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mD=bn(pD),gD=m({},uo,{newState:0,oldState:0}),OD=bn(gD),vD=[9,13,27,32],Jm=_i&&"CompositionEvent"in window,tc=null;_i&&"documentMode"in document&&(tc=document.documentMode);var yD=_i&&"TextEvent"in window&&!tc,jx=_i&&(!Jm||tc&&8<tc&&11>=tc),Nx=" ",Dx=!1;function zx(o,c){switch(o){case"keyup":return vD.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var la=!1;function bD(o,c){switch(o){case"compositionend":return Lx(c);case"keypress":return c.which!==32?null:(Dx=!0,Nx);case"textInput":return o=c.data,o===Nx&&Dx?null:o;default:return null}}function wD(o,c){if(la)return o==="compositionend"||!Jm&&zx(o,c)?(o=Qx(),$h=Gm=cs=null,la=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jx&&c.locale!=="ko"?null:c.data;default:return null}}var xD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!xD[o.type]:c==="textarea"}function Xx(o,c,h,p){oa?aa?aa.push(p):aa=[p]:oa=p,c=Tf(c,"onChange"),0<c.length&&(h=new Nh("onChange","change",null,h,p),o.push({event:h,listeners:c}))}var nc=null,rc=null;function SD(o){SC(o,0)}function zh(o){var c=Wl(o);if(xx(c))return o}function Zx(o,c){if(o==="change")return c}var Vx=!1;if(_i){var eg;if(_i){var tg="oninput"in document;if(!tg){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),tg=typeof Bx.oninput=="function"}eg=tg}else eg=!1;Vx=eg&&(!document.documentMode||9<document.documentMode)}function qx(){nc&&(nc.detachEvent("onpropertychange",Ux),rc=nc=null)}function Ux(o){if(o.propertyName==="value"&&zh(rc)){var c=[];Xx(c,rc,o,qm(o)),Ex(SD,c)}}function CD(o,c,h){o==="focusin"?(qx(),nc=c,rc=h,nc.attachEvent("onpropertychange",Ux)):o==="focusout"&&qx()}function _D(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zh(rc)}function kD(o,c){if(o==="click")return zh(c)}function TD(o,c){if(o==="input"||o==="change")return zh(c)}function RD(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ln=typeof Object.is=="function"?Object.is:RD;function ic(o,c){if(Ln(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var v=h[p];if(!Am.call(c,v)||!Ln(o[v],c[v]))return!1}return!0}function Yx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gx(o,c){var h=Yx(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=c&&p>=c)return{node:h,offset:c-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yx(h)}}function Fx(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Fx(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Wx(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Ph(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Ph(o.document)}return c}function ng(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var ED=_i&&"documentMode"in document&&11>=document.documentMode,ca=null,rg=null,sc=null,ig=!1;function Hx(o,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ig||ca==null||ca!==Ph(p)||(p=ca,"selectionStart"in p&&ng(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),sc&&ic(sc,p)||(sc=p,p=Tf(rg,"onSelect"),0<p.length&&(c=new Nh("onSelect","select",null,c,h),o.push({event:c,listeners:p}),c.target=ca)))}function ho(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var ua={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},sg={},Kx={};_i&&(Kx=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function fo(o){if(sg[o])return sg[o];if(!ua[o])return o;var c=ua[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Kx)return sg[o]=c[h];return o}var Jx=fo("animationend"),eS=fo("animationiteration"),tS=fo("animationstart"),QD=fo("transitionrun"),PD=fo("transitionstart"),AD=fo("transitioncancel"),nS=fo("transitionend"),rS=new Map,og="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");og.push("scrollEnd");function Pr(o,c){rS.set(o,c),co(c,[o])}var Lh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ur=[],ha=0,ag=0;function Ih(){for(var o=ha,c=ag=ha=0;c<o;){var h=ur[c];ur[c++]=null;var p=ur[c];ur[c++]=null;var v=ur[c];ur[c++]=null;var b=ur[c];if(ur[c++]=null,p!==null&&v!==null){var _=p.pending;_===null?v.next=v:(v.next=_.next,_.next=v),p.pending=v}b!==0&&iS(h,v,b)}}function Xh(o,c,h,p){ur[ha++]=o,ur[ha++]=c,ur[ha++]=h,ur[ha++]=p,ag|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function lg(o,c,h,p){return Xh(o,c,h,p),Zh(o)}function po(o,c){return Xh(o,null,null,c),Zh(o)}function iS(o,c,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var v=!1,b=o.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(v=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,v&&c!==null&&(v=31-zn(h),o=b.hiddenUpdates,p=o[v],p===null?o[v]=[c]:p.push(c),c.lane=h|536870912),b):null}function Zh(o){if(50<Tc)throw Tc=0,OO=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var fa={};function $D(o,c,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(o,c,h,p){return new $D(o,c,h,p)}function cg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ki(o,c){var h=o.alternate;return h===null?(h=In(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function sS(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Vh(o,c,h,p,v,b){var _=0;if(p=o,typeof o=="function")cg(o)&&(_=1);else if(typeof o=="string")_=z5(o,h,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=In(31,h,c,v),o.elementType=B,o.lanes=b,o;case S:return mo(h.children,v,b,c);case C:_=8,v|=24;break;case k:return o=In(12,h,c,v|2),o.elementType=k,o.lanes=b,o;case A:return o=In(13,h,c,v),o.elementType=A,o.lanes=b,o;case $:return o=In(19,h,c,v),o.elementType=$,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:_=10;break e;case T:_=9;break e;case Q:_=11;break e;case P:_=14;break e;case Z:_=16,p=null;break e}_=29,h=Error(r(130,o===null?"null":typeof o,"")),p=null}return c=In(_,h,c,v),c.elementType=o,c.type=p,c.lanes=b,c}function mo(o,c,h,p){return o=In(7,o,p,c),o.lanes=h,o}function ug(o,c,h){return o=In(6,o,null,c),o.lanes=h,o}function oS(o){var c=In(18,null,null,0);return c.stateNode=o,c}function hg(o,c,h){return c=In(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var aS=new WeakMap;function hr(o,c){if(typeof o=="object"&&o!==null){var h=aS.get(o);return h!==void 0?h:(c={value:o,source:c,stack:ox(c)},aS.set(o,c),c)}return{value:o,source:c,stack:ox(c)}}var da=[],pa=0,Bh=null,oc=0,fr=[],dr=0,us=null,Fr=1,Wr="";function Ti(o,c){da[pa++]=oc,da[pa++]=Bh,Bh=o,oc=c}function lS(o,c,h){fr[dr++]=Fr,fr[dr++]=Wr,fr[dr++]=us,us=o;var p=Fr;o=Wr;var v=32-zn(p)-1;p&=~(1<<v),h+=1;var b=32-zn(c)+v;if(30<b){var _=v-v%5;b=(p&(1<<_)-1).toString(32),p>>=_,v-=_,Fr=1<<32-zn(c)+v|h<<v|p,Wr=b+o}else Fr=1<<b|h<<v|p,Wr=o}function fg(o){o.return!==null&&(Ti(o,1),lS(o,1,0))}function dg(o){for(;o===Bh;)Bh=da[--pa],da[pa]=null,oc=da[--pa],da[pa]=null;for(;o===us;)us=fr[--dr],fr[dr]=null,Wr=fr[--dr],fr[dr]=null,Fr=fr[--dr],fr[dr]=null}function cS(o,c){fr[dr++]=Fr,fr[dr++]=Wr,fr[dr++]=us,Fr=c.id,Wr=c.overflow,us=o}var Yt=null,dt=null,Be=!1,hs=null,pr=!1,pg=Error(r(519));function fs(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ac(hr(c,o)),pg}function uS(o){var c=o.stateNode,h=o.type,p=o.memoizedProps;switch(c[Ut]=o,c[yn]=p,h){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(h=0;h<Ec.length;h++)Ie(Ec[h],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":Ie("invalid",c),Sx(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ie("invalid",c);break;case"textarea":Ie("invalid",c),_x(c,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||TC(c.textContent,h)?(p.popover!=null&&(Ie("beforetoggle",c),Ie("toggle",c)),p.onScroll!=null&&Ie("scroll",c),p.onScrollEnd!=null&&Ie("scrollend",c),p.onClick!=null&&(c.onclick=Ci),c=!0):c=!1,c||fs(o,!0)}function hS(o){for(Yt=o.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:Yt=Yt.return}}function ma(o){if(o!==Yt)return!1;if(!Be)return hS(o),Be=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||AO(o.type,o.memoizedProps)),h=!h),h&&dt&&fs(o),hS(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));dt=NC(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));dt=NC(o)}else c===27?(c=dt,ks(o.type)?(o=DO,DO=null,dt=o):dt=c):dt=Yt?gr(o.stateNode.nextSibling):null;return!0}function go(){dt=Yt=null,Be=!1}function mg(){var o=hs;return o!==null&&(Cn===null?Cn=o:Cn.push.apply(Cn,o),hs=null),o}function ac(o){hs===null?hs=[o]:hs.push(o)}var gg=M(null),Oo=null,Ri=null;function ds(o,c,h){F(gg,c._currentValue),c._currentValue=h}function Ei(o){o._currentValue=gg.current,N(gg)}function Og(o,c,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===h)break;o=o.return}}function vg(o,c,h,p){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var b=v.dependencies;if(b!==null){var _=v.child;b=b.firstContext;e:for(;b!==null;){var E=b;b=v;for(var D=0;D<c.length;D++)if(E.context===c[D]){b.lanes|=h,E=b.alternate,E!==null&&(E.lanes|=h),Og(b.return,h,o),p||(_=null);break e}b=E.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(r(341));_.lanes|=h,b=_.alternate,b!==null&&(b.lanes|=h),Og(_,h,o),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===o){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function ga(o,c,h,p){o=null;for(var v=c,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=v.type;Ln(v.pendingProps.value,_.value)||(o!==null?o.push(E):o=[E])}}else if(v===fe.current){if(_=v.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Mc):o=[Mc])}v=v.return}o!==null&&vg(c,o,h,p),c.flags|=262144}function qh(o){for(o=o.firstContext;o!==null;){if(!Ln(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vo(o){Oo=o,Ri=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Gt(o){return fS(Oo,o)}function Uh(o,c){return Oo===null&&vo(o),fS(o,c)}function fS(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ri===null){if(o===null)throw Error(r(308));Ri=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ri=Ri.next=c;return h}var MD=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},jD=t.unstable_scheduleCallback,ND=t.unstable_NormalPriority,Pt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yg(){return{controller:new MD,data:new Map,refCount:0}}function lc(o){o.refCount--,o.refCount===0&&jD(ND,function(){o.controller.abort()})}var cc=null,bg=0,Oa=0,va=null;function DD(o,c){if(cc===null){var h=cc=[];bg=0,Oa=SO(),va={status:"pending",value:void 0,then:function(p){h.push(p)}}}return bg++,c.then(dS,dS),c}function dS(){if(--bg===0&&cc!==null){va!==null&&(va.status="fulfilled");var o=cc;cc=null,Oa=0,va=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function zD(o,c){var h=[],p={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var v=0;v<h.length;v++)(0,h[v])(c)},function(v){for(p.status="rejected",p.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),p}var pS=I.S;I.S=function(o,c){H1=Nn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&DD(o,c),pS!==null&&pS(o,c)};var yo=M(null);function wg(){var o=yo.current;return o!==null?o:at.pooledCache}function Yh(o,c){c===null?F(yo,yo.current):F(yo,c.pool)}function mS(){var o=wg();return o===null?null:{parent:Pt._currentValue,pool:o}}var ya=Error(r(460)),xg=Error(r(474)),Gh=Error(r(542)),Fh={then:function(){}};function gS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function OS(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ci,Ci),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yS(o),o;default:if(typeof c.status=="string")c.then(Ci,Ci);else{if(o=at,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=p}},function(p){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yS(o),o}throw wo=c,ya}}function bo(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(wo=h,ya):h}}var wo=null;function vS(){if(wo===null)throw Error(r(459));var o=wo;return wo=null,o}function yS(o){if(o===ya||o===Gh)throw Error(r(483))}var ba=null,uc=0;function Wh(o){var c=uc;return uc+=1,ba===null&&(ba=[]),OS(ba,o,c)}function hc(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Hh(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function bS(o){function c(V,z){if(o){var q=V.deletions;q===null?(V.deletions=[z],V.flags|=16):q.push(z)}}function h(V,z){if(!o)return null;for(;z!==null;)c(V,z),z=z.sibling;return null}function p(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function v(V,z){return V=ki(V,z),V.index=0,V.sibling=null,V}function b(V,z,q){return V.index=q,o?(q=V.alternate,q!==null?(q=q.index,q<z?(V.flags|=67108866,z):q):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function _(V){return o&&V.alternate===null&&(V.flags|=67108866),V}function E(V,z,q,te){return z===null||z.tag!==6?(z=ug(q,V.mode,te),z.return=V,z):(z=v(z,q),z.return=V,z)}function D(V,z,q,te){var Ce=q.type;return Ce===S?J(V,z,q.props.children,te,q.key):z!==null&&(z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&bo(Ce)===z.type)?(z=v(z,q.props),hc(z,q),z.return=V,z):(z=Vh(q.type,q.key,q.props,null,V.mode,te),hc(z,q),z.return=V,z)}function U(V,z,q,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=hg(q,V.mode,te),z.return=V,z):(z=v(z,q.children||[]),z.return=V,z)}function J(V,z,q,te,Ce){return z===null||z.tag!==7?(z=mo(q,V.mode,te,Ce),z.return=V,z):(z=v(z,q),z.return=V,z)}function se(V,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ug(""+z,V.mode,q),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return q=Vh(z.type,z.key,z.props,null,V.mode,q),hc(q,z),q.return=V,q;case x:return z=hg(z,V.mode,q),z.return=V,z;case Z:return z=bo(z),se(V,z,q)}if(me(z)||H(z))return z=mo(z,V.mode,q,null),z.return=V,z;if(typeof z.then=="function")return se(V,Wh(z),q);if(z.$$typeof===R)return se(V,Uh(V,z),q);Hh(V,z)}return null}function Y(V,z,q,te){var Ce=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ce!==null?null:E(V,z,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===Ce?D(V,z,q,te):null;case x:return q.key===Ce?U(V,z,q,te):null;case Z:return q=bo(q),Y(V,z,q,te)}if(me(q)||H(q))return Ce!==null?null:J(V,z,q,te,null);if(typeof q.then=="function")return Y(V,z,Wh(q),te);if(q.$$typeof===R)return Y(V,z,Uh(V,q),te);Hh(V,q)}return null}function W(V,z,q,te,Ce){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get(q)||null,E(z,V,""+te,Ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return V=V.get(te.key===null?q:te.key)||null,D(z,V,te,Ce);case x:return V=V.get(te.key===null?q:te.key)||null,U(z,V,te,Ce);case Z:return te=bo(te),W(V,z,q,te,Ce)}if(me(te)||H(te))return V=V.get(q)||null,J(z,V,te,Ce,null);if(typeof te.then=="function")return W(V,z,q,Wh(te),Ce);if(te.$$typeof===R)return W(V,z,q,Uh(z,te),Ce);Hh(z,te)}return null}function ve(V,z,q,te){for(var Ce=null,Ye=null,ye=z,Me=z=0,Ve=null;ye!==null&&Me<q.length;Me++){ye.index>Me?(Ve=ye,ye=null):Ve=ye.sibling;var Ge=Y(V,ye,q[Me],te);if(Ge===null){ye===null&&(ye=Ve);break}o&&ye&&Ge.alternate===null&&c(V,ye),z=b(Ge,z,Me),Ye===null?Ce=Ge:Ye.sibling=Ge,Ye=Ge,ye=Ve}if(Me===q.length)return h(V,ye),Be&&Ti(V,Me),Ce;if(ye===null){for(;Me<q.length;Me++)ye=se(V,q[Me],te),ye!==null&&(z=b(ye,z,Me),Ye===null?Ce=ye:Ye.sibling=ye,Ye=ye);return Be&&Ti(V,Me),Ce}for(ye=p(ye);Me<q.length;Me++)Ve=W(ye,V,Me,q[Me],te),Ve!==null&&(o&&Ve.alternate!==null&&ye.delete(Ve.key===null?Me:Ve.key),z=b(Ve,z,Me),Ye===null?Ce=Ve:Ye.sibling=Ve,Ye=Ve);return o&&ye.forEach(function(Ps){return c(V,Ps)}),Be&&Ti(V,Me),Ce}function ke(V,z,q,te){if(q==null)throw Error(r(151));for(var Ce=null,Ye=null,ye=z,Me=z=0,Ve=null,Ge=q.next();ye!==null&&!Ge.done;Me++,Ge=q.next()){ye.index>Me?(Ve=ye,ye=null):Ve=ye.sibling;var Ps=Y(V,ye,Ge.value,te);if(Ps===null){ye===null&&(ye=Ve);break}o&&ye&&Ps.alternate===null&&c(V,ye),z=b(Ps,z,Me),Ye===null?Ce=Ps:Ye.sibling=Ps,Ye=Ps,ye=Ve}if(Ge.done)return h(V,ye),Be&&Ti(V,Me),Ce;if(ye===null){for(;!Ge.done;Me++,Ge=q.next())Ge=se(V,Ge.value,te),Ge!==null&&(z=b(Ge,z,Me),Ye===null?Ce=Ge:Ye.sibling=Ge,Ye=Ge);return Be&&Ti(V,Me),Ce}for(ye=p(ye);!Ge.done;Me++,Ge=q.next())Ge=W(ye,V,Me,Ge.value,te),Ge!==null&&(o&&Ge.alternate!==null&&ye.delete(Ge.key===null?Me:Ge.key),z=b(Ge,z,Me),Ye===null?Ce=Ge:Ye.sibling=Ge,Ye=Ge);return o&&ye.forEach(function(F5){return c(V,F5)}),Be&&Ti(V,Me),Ce}function st(V,z,q,te){if(typeof q=="object"&&q!==null&&q.type===S&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var Ce=q.key;z!==null;){if(z.key===Ce){if(Ce=q.type,Ce===S){if(z.tag===7){h(V,z.sibling),te=v(z,q.props.children),te.return=V,V=te;break e}}else if(z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&bo(Ce)===z.type){h(V,z.sibling),te=v(z,q.props),hc(te,q),te.return=V,V=te;break e}h(V,z);break}else c(V,z);z=z.sibling}q.type===S?(te=mo(q.props.children,V.mode,te,q.key),te.return=V,V=te):(te=Vh(q.type,q.key,q.props,null,V.mode,te),hc(te,q),te.return=V,V=te)}return _(V);case x:e:{for(Ce=q.key;z!==null;){if(z.key===Ce)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){h(V,z.sibling),te=v(z,q.children||[]),te.return=V,V=te;break e}else{h(V,z);break}else c(V,z);z=z.sibling}te=hg(q,V.mode,te),te.return=V,V=te}return _(V);case Z:return q=bo(q),st(V,z,q,te)}if(me(q))return ve(V,z,q,te);if(H(q)){if(Ce=H(q),typeof Ce!="function")throw Error(r(150));return q=Ce.call(q),ke(V,z,q,te)}if(typeof q.then=="function")return st(V,z,Wh(q),te);if(q.$$typeof===R)return st(V,z,Uh(V,q),te);Hh(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(h(V,z.sibling),te=v(z,q),te.return=V,V=te):(h(V,z),te=ug(q,V.mode,te),te.return=V,V=te),_(V)):h(V,z)}return function(V,z,q,te){try{uc=0;var Ce=st(V,z,q,te);return ba=null,Ce}catch(ye){if(ye===ya||ye===Gh)throw ye;var Ye=In(29,ye,null,V.mode);return Ye.lanes=te,Ye.return=V,Ye}}}var xo=bS(!0),wS=bS(!1),ps=!1;function Sg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cg(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ms(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function gs(o,c,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var v=p.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),p.pending=c,c=Zh(o),iS(o,null,h),c}return Xh(o,p,c,h),Zh(o)}function fc(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,fx(o,h)}}function _g(o,c){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var v=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var _={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?v=b=_:b=b.next=_,h=h.next}while(h!==null);b===null?v=b=c:b=b.next=c}else v=b=c;h={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var kg=!1;function dc(){if(kg){var o=va;if(o!==null)throw o}}function pc(o,c,h,p){kg=!1;var v=o.updateQueue;ps=!1;var b=v.firstBaseUpdate,_=v.lastBaseUpdate,E=v.shared.pending;if(E!==null){v.shared.pending=null;var D=E,U=D.next;D.next=null,_===null?b=U:_.next=U,_=D;var J=o.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==_&&(E===null?J.firstBaseUpdate=U:E.next=U,J.lastBaseUpdate=D))}if(b!==null){var se=v.baseState;_=0,J=U=D=null,E=b;do{var Y=E.lane&-536870913,W=Y!==E.lane;if(W?(Ze&Y)===Y:(p&Y)===Y){Y!==0&&Y===Oa&&(kg=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ve=o,ke=E;Y=c;var st=h;switch(ke.tag){case 1:if(ve=ke.payload,typeof ve=="function"){se=ve.call(st,se,Y);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ke.payload,Y=typeof ve=="function"?ve.call(st,se,Y):ve,Y==null)break e;se=m({},se,Y);break e;case 2:ps=!0}}Y=E.callback,Y!==null&&(o.flags|=64,W&&(o.flags|=8192),W=v.callbacks,W===null?v.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(U=J=W,D=se):J=J.next=W,_|=Y;if(E=E.next,E===null){if(E=v.shared.pending,E===null)break;W=E,E=W.next,W.next=null,v.lastBaseUpdate=W,v.shared.pending=null}}while(!0);J===null&&(D=se),v.baseState=D,v.firstBaseUpdate=U,v.lastBaseUpdate=J,b===null&&(v.shared.lanes=0),ws|=_,o.lanes=_,o.memoizedState=se}}function xS(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function SS(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)xS(h[o],c)}var wa=M(null),Kh=M(0);function CS(o,c){o=zi,F(Kh,o),F(wa,c),zi=o|c.baseLanes}function Tg(){F(Kh,zi),F(wa,wa.current)}function Rg(){zi=Kh.current,N(wa),N(Kh)}var Xn=M(null),mr=null;function Os(o){var c=o.alternate;F(Rt,Rt.current&1),F(Xn,o),mr===null&&(c===null||wa.current!==null||c.memoizedState!==null)&&(mr=o)}function Eg(o){F(Rt,Rt.current),F(Xn,o),mr===null&&(mr=o)}function _S(o){o.tag===22?(F(Rt,Rt.current),F(Xn,o),mr===null&&(mr=o)):vs()}function vs(){F(Rt,Rt.current),F(Xn,Xn.current)}function Zn(o){N(Xn),mr===o&&(mr=null),N(Rt)}var Rt=M(0);function Jh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||jO(h)||NO(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qi=0,$e=null,rt=null,At=null,ef=!1,xa=!1,So=!1,tf=0,mc=0,Sa=null,LD=0;function xt(){throw Error(r(321))}function Qg(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Ln(o[h],c[h]))return!1;return!0}function Pg(o,c,h,p,v,b){return Qi=b,$e=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,I.H=o===null||o.memoizedState===null?l1:Ug,So=!1,b=h(p,v),So=!1,xa&&(b=TS(c,h,p,v)),kS(o),b}function kS(o){I.H=vc;var c=rt!==null&&rt.next!==null;if(Qi=0,At=rt=$e=null,ef=!1,mc=0,Sa=null,c)throw Error(r(300));o===null||$t||(o=o.dependencies,o!==null&&qh(o)&&($t=!0))}function TS(o,c,h,p){$e=o;var v=0;do{if(xa&&(Sa=null),mc=0,xa=!1,25<=v)throw Error(r(301));if(v+=1,At=rt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}I.H=c1,b=c(h,p)}while(xa);return b}function ID(){var o=I.H,c=o.useState()[0];return c=typeof c.then=="function"?gc(c):c,o=o.useState()[0],(rt!==null?rt.memoizedState:null)!==o&&($e.flags|=1024),c}function Ag(){var o=tf!==0;return tf=0,o}function $g(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Mg(o){if(ef){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ef=!1}Qi=0,At=rt=$e=null,xa=!1,mc=tf=0,Sa=null}function dn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?$e.memoizedState=At=o:At=At.next=o,At}function Et(){if(rt===null){var o=$e.alternate;o=o!==null?o.memoizedState:null}else o=rt.next;var c=At===null?$e.memoizedState:At.next;if(c!==null)At=c,rt=o;else{if(o===null)throw $e.alternate===null?Error(r(467)):Error(r(310));rt=o,o={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},At===null?$e.memoizedState=At=o:At=At.next=o}return At}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(o){var c=mc;return mc+=1,Sa===null&&(Sa=[]),o=OS(Sa,o,c),c=$e,(At===null?c.memoizedState:At.next)===null&&(c=c.alternate,I.H=c===null||c.memoizedState===null?l1:Ug),o}function rf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return gc(o);if(o.$$typeof===R)return Gt(o)}throw Error(r(438,String(o)))}function jg(o){var c=null,h=$e.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=$e.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=nf(),$e.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),p=0;p<o;p++)h[p]=ee;return c.index++,h}function Pi(o,c){return typeof c=="function"?c(o):c}function sf(o){var c=Et();return Ng(c,rt,o)}function Ng(o,c,h){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=h;var v=o.baseQueue,b=p.pending;if(b!==null){if(v!==null){var _=v.next;v.next=b.next,b.next=_}c.baseQueue=v=b,p.pending=null}if(b=o.baseState,v===null)o.memoizedState=b;else{c=v.next;var E=_=null,D=null,U=c,J=!1;do{var se=U.lane&-536870913;if(se!==U.lane?(Ze&se)===se:(Qi&se)===se){var Y=U.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),se===Oa&&(J=!0);else if((Qi&Y)===Y){U=U.next,Y===Oa&&(J=!0);continue}else se={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(E=D=se,_=b):D=D.next=se,$e.lanes|=Y,ws|=Y;se=U.action,So&&h(b,se),b=U.hasEagerState?U.eagerState:h(b,se)}else Y={lane:se,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(E=D=Y,_=b):D=D.next=Y,$e.lanes|=se,ws|=se;U=U.next}while(U!==null&&U!==c);if(D===null?_=b:D.next=E,!Ln(b,o.memoizedState)&&($t=!0,J&&(h=va,h!==null)))throw h;o.memoizedState=b,o.baseState=_,o.baseQueue=D,p.lastRenderedState=b}return v===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Dg(o){var c=Et(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var p=h.dispatch,v=h.pending,b=c.memoizedState;if(v!==null){h.pending=null;var _=v=v.next;do b=o(b,_.action),_=_.next;while(_!==v);Ln(b,c.memoizedState)||($t=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),h.lastRenderedState=b}return[b,p]}function RS(o,c,h){var p=$e,v=Et(),b=Be;if(b){if(h===void 0)throw Error(r(407));h=h()}else h=c();var _=!Ln((rt||v).memoizedState,h);if(_&&(v.memoizedState=h,$t=!0),v=v.queue,Ig(PS.bind(null,p,v,o),[o]),v.getSnapshot!==c||_||At!==null&&At.memoizedState.tag&1){if(p.flags|=2048,Ca(9,{destroy:void 0},QS.bind(null,p,v,h,c),null),at===null)throw Error(r(349));b||(Qi&127)!==0||ES(p,c,h)}return h}function ES(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=$e.updateQueue,c===null?(c=nf(),$e.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function QS(o,c,h,p){c.value=h,c.getSnapshot=p,AS(c)&&$S(o)}function PS(o,c,h){return h(function(){AS(c)&&$S(o)})}function AS(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Ln(o,h)}catch{return!0}}function $S(o){var c=po(o,2);c!==null&&_n(c,o,2)}function zg(o){var c=dn();if(typeof o=="function"){var h=o;if(o=h(),So){as(!0);try{h()}finally{as(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:o},c}function MS(o,c,h,p){return o.baseState=h,Ng(o,rt,typeof p=="function"?p:Pi)}function XD(o,c,h,p,v){if(lf(o))throw Error(r(485));if(o=c.action,o!==null){var b={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};I.T!==null?h(!0):b.isTransition=!1,p(b),h=c.pending,h===null?(b.next=c.pending=b,jS(c,b)):(b.next=h.next,c.pending=h.next=b)}}function jS(o,c){var h=c.action,p=c.payload,v=o.state;if(c.isTransition){var b=I.T,_={};I.T=_;try{var E=h(v,p),D=I.S;D!==null&&D(_,E),NS(o,c,E)}catch(U){Lg(o,c,U)}finally{b!==null&&_.types!==null&&(b.types=_.types),I.T=b}}else try{b=h(v,p),NS(o,c,b)}catch(U){Lg(o,c,U)}}function NS(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){DS(o,c,p)},function(p){return Lg(o,c,p)}):DS(o,c,h)}function DS(o,c,h){c.status="fulfilled",c.value=h,zS(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,jS(o,h)))}function Lg(o,c,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,zS(c),c=c.next;while(c!==p)}o.action=null}function zS(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function LS(o,c){return c}function IS(o,c){if(Be){var h=at.formState;if(h!==null){e:{var p=$e;if(Be){if(dt){t:{for(var v=dt,b=pr;v.nodeType!==8;){if(!b){v=null;break t}if(v=gr(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){dt=gr(v.nextSibling),p=v.data==="F!";break e}}fs(p)}p=!1}p&&(c=h[0])}}return h=dn(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LS,lastRenderedState:c},h.queue=p,h=s1.bind(null,$e,p),p.dispatch=h,p=zg(!1),b=qg.bind(null,$e,!1,p.queue),p=dn(),v={state:c,dispatch:null,action:o,pending:null},p.queue=v,h=XD.bind(null,$e,v,b,h),v.dispatch=h,p.memoizedState=o,[c,h,!1]}function XS(o){var c=Et();return ZS(c,rt,o)}function ZS(o,c,h){if(c=Ng(o,c,LS)[0],o=sf(Pi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=gc(c)}catch(_){throw _===ya?Gh:_}else p=c;c=Et();var v=c.queue,b=v.dispatch;return h!==c.memoizedState&&($e.flags|=2048,Ca(9,{destroy:void 0},ZD.bind(null,v,h),null)),[p,b,o]}function ZD(o,c){o.action=c}function VS(o){var c=Et(),h=rt;if(h!==null)return ZS(c,h,o);Et(),c=c.memoizedState,h=Et();var p=h.queue.dispatch;return h.memoizedState=o,[c,p,!1]}function Ca(o,c,h,p){return o={tag:o,create:h,deps:p,inst:c,next:null},c=$e.updateQueue,c===null&&(c=nf(),$e.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,c.lastEffect=o),o}function BS(){return Et().memoizedState}function of(o,c,h,p){var v=dn();$e.flags|=o,v.memoizedState=Ca(1|c,{destroy:void 0},h,p===void 0?null:p)}function af(o,c,h,p){var v=Et();p=p===void 0?null:p;var b=v.memoizedState.inst;rt!==null&&p!==null&&Qg(p,rt.memoizedState.deps)?v.memoizedState=Ca(c,b,h,p):($e.flags|=o,v.memoizedState=Ca(1|c,b,h,p))}function qS(o,c){of(8390656,8,o,c)}function Ig(o,c){af(2048,8,o,c)}function VD(o){$e.flags|=4;var c=$e.updateQueue;if(c===null)c=nf(),$e.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function US(o){var c=Et().memoizedState;return VD({ref:c,nextImpl:o}),function(){if((He&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function YS(o,c){return af(4,2,o,c)}function GS(o,c){return af(4,4,o,c)}function FS(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function WS(o,c,h){h=h!=null?h.concat([o]):null,af(4,4,FS.bind(null,c,o),h)}function Xg(){}function HS(o,c){var h=Et();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&Qg(c,p[1])?p[0]:(h.memoizedState=[o,c],o)}function KS(o,c){var h=Et();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&Qg(c,p[1]))return p[0];if(p=o(),So){as(!0);try{o()}finally{as(!1)}}return h.memoizedState=[p,c],p}function Zg(o,c,h){return h===void 0||(Qi&1073741824)!==0&&(Ze&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=J1(),$e.lanes|=o,ws|=o,h)}function JS(o,c,h,p){return Ln(h,c)?h:wa.current!==null?(o=Zg(o,h,p),Ln(o,c)||($t=!0),o):(Qi&42)===0||(Qi&1073741824)!==0&&(Ze&261930)===0?($t=!0,o.memoizedState=h):(o=J1(),$e.lanes|=o,ws|=o,c)}function e1(o,c,h,p,v){var b=L.p;L.p=b!==0&&8>b?b:8;var _=I.T,E={};I.T=E,qg(o,!1,c,h);try{var D=v(),U=I.S;if(U!==null&&U(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=zD(D,p);Oc(o,c,J,qn(o))}else Oc(o,c,p,qn(o))}catch(se){Oc(o,c,{then:function(){},status:"rejected",reason:se},qn())}finally{L.p=b,_!==null&&E.types!==null&&(_.types=E.types),I.T=_}}function BD(){}function Vg(o,c,h,p){if(o.tag!==5)throw Error(r(476));var v=t1(o).queue;e1(o,v,c,K,h===null?BD:function(){return n1(o),h(p)})}function t1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:K},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function n1(o){var c=t1(o);c.next===null&&(c=o.alternate.memoizedState),Oc(o,c.next.queue,{},qn())}function Bg(){return Gt(Mc)}function r1(){return Et().memoizedState}function i1(){return Et().memoizedState}function qD(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=qn();o=ms(h);var p=gs(c,o,h);p!==null&&(_n(p,c,h),fc(p,c,h)),c={cache:yg()},o.payload=c;return}c=c.return}}function UD(o,c,h){var p=qn();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},lf(o)?o1(c,h):(h=lg(o,c,h,p),h!==null&&(_n(h,o,p),a1(h,c,p)))}function s1(o,c,h){var p=qn();Oc(o,c,h,p)}function Oc(o,c,h,p){var v={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(lf(o))o1(c,v);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var _=c.lastRenderedState,E=b(_,h);if(v.hasEagerState=!0,v.eagerState=E,Ln(E,_))return Xh(o,c,v,0),at===null&&Ih(),!1}catch{}if(h=lg(o,c,v,p),h!==null)return _n(h,o,p),a1(h,c,p),!0}return!1}function qg(o,c,h,p){if(p={lane:2,revertLane:SO(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},lf(o)){if(c)throw Error(r(479))}else c=lg(o,h,p,2),c!==null&&_n(c,o,2)}function lf(o){var c=o.alternate;return o===$e||c!==null&&c===$e}function o1(o,c){xa=ef=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function a1(o,c,h){if((h&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,fx(o,h)}}var vc={readContext:Gt,use:rf,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};vc.useEffectEvent=xt;var l1={readContext:Gt,use:rf,useCallback:function(o,c){return dn().memoizedState=[o,c===void 0?null:c],o},useContext:Gt,useEffect:qS,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,of(4194308,4,FS.bind(null,c,o),h)},useLayoutEffect:function(o,c){return of(4194308,4,o,c)},useInsertionEffect:function(o,c){of(4,2,o,c)},useMemo:function(o,c){var h=dn();c=c===void 0?null:c;var p=o();if(So){as(!0);try{o()}finally{as(!1)}}return h.memoizedState=[p,c],p},useReducer:function(o,c,h){var p=dn();if(h!==void 0){var v=h(c);if(So){as(!0);try{h(c)}finally{as(!1)}}}else v=c;return p.memoizedState=p.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},p.queue=o,o=o.dispatch=UD.bind(null,$e,o),[p.memoizedState,o]},useRef:function(o){var c=dn();return o={current:o},c.memoizedState=o},useState:function(o){o=zg(o);var c=o.queue,h=s1.bind(null,$e,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:Xg,useDeferredValue:function(o,c){var h=dn();return Zg(h,o,c)},useTransition:function(){var o=zg(!1);return o=e1.bind(null,$e,o.queue,!0,!1),dn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var p=$e,v=dn();if(Be){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),at===null)throw Error(r(349));(Ze&127)!==0||ES(p,c,h)}v.memoizedState=h;var b={value:h,getSnapshot:c};return v.queue=b,qS(PS.bind(null,p,b,o),[o]),p.flags|=2048,Ca(9,{destroy:void 0},QS.bind(null,p,b,h,c),null),h},useId:function(){var o=dn(),c=at.identifierPrefix;if(Be){var h=Wr,p=Fr;h=(p&~(1<<32-zn(p)-1)).toString(32)+h,c="_"+c+"R_"+h,h=tf++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=LD++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Bg,useFormState:IS,useActionState:IS,useOptimistic:function(o){var c=dn();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=qg.bind(null,$e,!0,h),h.dispatch=c,[o,c]},useMemoCache:jg,useCacheRefresh:function(){return dn().memoizedState=qD.bind(null,$e)},useEffectEvent:function(o){var c=dn(),h={impl:o};return c.memoizedState=h,function(){if((He&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Ug={readContext:Gt,use:rf,useCallback:HS,useContext:Gt,useEffect:Ig,useImperativeHandle:WS,useInsertionEffect:YS,useLayoutEffect:GS,useMemo:KS,useReducer:sf,useRef:BS,useState:function(){return sf(Pi)},useDebugValue:Xg,useDeferredValue:function(o,c){var h=Et();return JS(h,rt.memoizedState,o,c)},useTransition:function(){var o=sf(Pi)[0],c=Et().memoizedState;return[typeof o=="boolean"?o:gc(o),c]},useSyncExternalStore:RS,useId:r1,useHostTransitionStatus:Bg,useFormState:XS,useActionState:XS,useOptimistic:function(o,c){var h=Et();return MS(h,rt,o,c)},useMemoCache:jg,useCacheRefresh:i1};Ug.useEffectEvent=US;var c1={readContext:Gt,use:rf,useCallback:HS,useContext:Gt,useEffect:Ig,useImperativeHandle:WS,useInsertionEffect:YS,useLayoutEffect:GS,useMemo:KS,useReducer:Dg,useRef:BS,useState:function(){return Dg(Pi)},useDebugValue:Xg,useDeferredValue:function(o,c){var h=Et();return rt===null?Zg(h,o,c):JS(h,rt.memoizedState,o,c)},useTransition:function(){var o=Dg(Pi)[0],c=Et().memoizedState;return[typeof o=="boolean"?o:gc(o),c]},useSyncExternalStore:RS,useId:r1,useHostTransitionStatus:Bg,useFormState:VS,useActionState:VS,useOptimistic:function(o,c){var h=Et();return rt!==null?MS(h,rt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:jg,useCacheRefresh:i1};c1.useEffectEvent=US;function Yg(o,c,h,p){c=o.memoizedState,h=h(p,c),h=h==null?c:m({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Gg={enqueueSetState:function(o,c,h){o=o._reactInternals;var p=qn(),v=ms(p);v.payload=c,h!=null&&(v.callback=h),c=gs(o,v,p),c!==null&&(_n(c,o,p),fc(c,o,p))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var p=qn(),v=ms(p);v.tag=1,v.payload=c,h!=null&&(v.callback=h),c=gs(o,v,p),c!==null&&(_n(c,o,p),fc(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=qn(),p=ms(h);p.tag=2,c!=null&&(p.callback=c),c=gs(o,p,h),c!==null&&(_n(c,o,h),fc(c,o,h))}};function u1(o,c,h,p,v,b,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,b,_):c.prototype&&c.prototype.isPureReactComponent?!ic(h,p)||!ic(v,b):!0}function h1(o,c,h,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==o&&Gg.enqueueReplaceState(c,c.state,null)}function Co(o,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(o=o.defaultProps){h===c&&(h=m({},h));for(var v in o)h[v]===void 0&&(h[v]=o[v])}return h}function f1(o){Lh(o)}function d1(o){console.error(o)}function p1(o){Lh(o)}function cf(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function m1(o,c,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fg(o,c,h){return h=ms(h),h.tag=3,h.payload={element:null},h.callback=function(){cf(o,c)},h}function g1(o){return o=ms(o),o.tag=3,o}function O1(o,c,h,p){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var b=p.value;o.payload=function(){return v(b)},o.callback=function(){m1(c,h,p)}}var _=h.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){m1(c,h,p),typeof v!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=p.stack;this.componentDidCatch(p.value,{componentStack:E!==null?E:""})})}function YD(o,c,h,p,v){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&ga(c,h,v,!0),h=Xn.current,h!==null){switch(h.tag){case 31:case 13:return mr===null?wf():h.alternate===null&&St===0&&(St=3),h.flags&=-257,h.flags|=65536,h.lanes=v,p===Fh?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),bO(o,p,v)),!1;case 22:return h.flags|=65536,p===Fh?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),bO(o,p,v)),!1}throw Error(r(435,h.tag))}return bO(o,p,v),wf(),!1}if(Be)return c=Xn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,p!==pg&&(o=Error(r(422),{cause:p}),ac(hr(o,h)))):(p!==pg&&(c=Error(r(423),{cause:p}),ac(hr(c,h))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,p=hr(p,h),v=Fg(o.stateNode,p,v),_g(o,v),St!==4&&(St=2)),!1;var b=Error(r(520),{cause:p});if(b=hr(b,h),kc===null?kc=[b]:kc.push(b),St!==4&&(St=2),c===null)return!0;p=hr(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=v&-v,h.lanes|=o,o=Fg(h.stateNode,p,o),_g(h,o),!1;case 1:if(c=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xs===null||!xs.has(b))))return h.flags|=65536,v&=-v,h.lanes|=v,v=g1(v),O1(v,o,h,p),_g(h,v),!1}h=h.return}while(h!==null);return!1}var Wg=Error(r(461)),$t=!1;function Ft(o,c,h,p){c.child=o===null?wS(c,null,h,p):xo(c,o.child,h,p)}function v1(o,c,h,p,v){h=h.render;var b=c.ref;if("ref"in p){var _={};for(var E in p)E!=="ref"&&(_[E]=p[E])}else _=p;return vo(c),p=Pg(o,c,h,_,b,v),E=Ag(),o!==null&&!$t?($g(o,c,v),Ai(o,c,v)):(Be&&E&&fg(c),c.flags|=1,Ft(o,c,p,v),c.child)}function y1(o,c,h,p,v){if(o===null){var b=h.type;return typeof b=="function"&&!cg(b)&&b.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=b,b1(o,c,b,p,v)):(o=Vh(h.type,null,p,c,c.mode,v),o.ref=c.ref,o.return=c,c.child=o)}if(b=o.child,!iO(o,v)){var _=b.memoizedProps;if(h=h.compare,h=h!==null?h:ic,h(_,p)&&o.ref===c.ref)return Ai(o,c,v)}return c.flags|=1,o=ki(b,p),o.ref=c.ref,o.return=c,c.child=o}function b1(o,c,h,p,v){if(o!==null){var b=o.memoizedProps;if(ic(b,p)&&o.ref===c.ref)if($t=!1,c.pendingProps=p=b,iO(o,v))(o.flags&131072)!==0&&($t=!0);else return c.lanes=o.lanes,Ai(o,c,v)}return Hg(o,c,h,p,v)}function w1(o,c,h,p){var v=p.children,b=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,o!==null){for(p=c.child=o.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~b}else p=0,c.child=null;return x1(o,c,b,h,p)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Yh(c,b!==null?b.cachePool:null),b!==null?CS(c,b):Tg(),_S(c);else return p=c.lanes=536870912,x1(o,c,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(Yh(c,b.cachePool),CS(c,b),vs(),c.memoizedState=null):(o!==null&&Yh(c,null),Tg(),vs());return Ft(o,c,v,h),c.child}function yc(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function x1(o,c,h,p,v){var b=wg();return b=b===null?null:{parent:Pt._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},o!==null&&Yh(c,null),Tg(),_S(c),o!==null&&ga(o,c,p,!0),c.childLanes=v,null}function uf(o,c){return c=ff({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function S1(o,c,h){return xo(c,o.child,null,h),o=uf(c,c.pendingProps),o.flags|=2,Zn(c),c.memoizedState=null,o}function GD(o,c,h){var p=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Be){if(p.mode==="hidden")return o=uf(c,p),c.lanes=536870912,yc(null,o);if(Eg(c),(o=dt)?(o=jC(o,pr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:us!==null?{id:Fr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},h=oS(o),h.return=c,c.child=h,Yt=c,dt=null)):o=null,o===null)throw fs(c);return c.lanes=536870912,null}return uf(c,p)}var b=o.memoizedState;if(b!==null){var _=b.dehydrated;if(Eg(c),v)if(c.flags&256)c.flags&=-257,c=S1(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if($t||ga(o,c,h,!1),v=(h&o.childLanes)!==0,$t||v){if(p=at,p!==null&&(_=dx(p,h),_!==0&&_!==b.retryLane))throw b.retryLane=_,po(o,_),_n(p,o,_),Wg;wf(),c=S1(o,c,h)}else o=b.treeContext,dt=gr(_.nextSibling),Yt=c,Be=!0,hs=null,pr=!1,o!==null&&cS(c,o),c=uf(c,p),c.flags|=4096;return c}return o=ki(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function hf(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function Hg(o,c,h,p,v){return vo(c),h=Pg(o,c,h,p,void 0,v),p=Ag(),o!==null&&!$t?($g(o,c,v),Ai(o,c,v)):(Be&&p&&fg(c),c.flags|=1,Ft(o,c,h,v),c.child)}function C1(o,c,h,p,v,b){return vo(c),c.updateQueue=null,h=TS(c,p,h,v),kS(o),p=Ag(),o!==null&&!$t?($g(o,c,b),Ai(o,c,b)):(Be&&p&&fg(c),c.flags|=1,Ft(o,c,h,b),c.child)}function _1(o,c,h,p,v){if(vo(c),c.stateNode===null){var b=fa,_=h.contextType;typeof _=="object"&&_!==null&&(b=Gt(_)),b=new h(p,b),c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Gg,c.stateNode=b,b._reactInternals=c,b=c.stateNode,b.props=p,b.state=c.memoizedState,b.refs={},Sg(c),_=h.contextType,b.context=typeof _=="object"&&_!==null?Gt(_):fa,b.state=c.memoizedState,_=h.getDerivedStateFromProps,typeof _=="function"&&(Yg(c,h,_,p),b.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&Gg.enqueueReplaceState(b,b.state,null),pc(c,p,b,v),dc(),b.state=c.memoizedState),typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){b=c.stateNode;var E=c.memoizedProps,D=Co(h,E);b.props=D;var U=b.context,J=h.contextType;_=fa,typeof J=="object"&&J!==null&&(_=Gt(J));var se=h.getDerivedStateFromProps;J=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",E=c.pendingProps!==E,J||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E||U!==_)&&h1(c,b,p,_),ps=!1;var Y=c.memoizedState;b.state=Y,pc(c,p,b,v),dc(),U=c.memoizedState,E||Y!==U||ps?(typeof se=="function"&&(Yg(c,h,se,p),U=c.memoizedState),(D=ps||u1(c,h,D,p,Y,U,_))?(J||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(c.flags|=4194308)):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=U),b.props=p,b.state=U,b.context=_,p=D):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{b=c.stateNode,Cg(o,c),_=c.memoizedProps,J=Co(h,_),b.props=J,se=c.pendingProps,Y=b.context,U=h.contextType,D=fa,typeof U=="object"&&U!==null&&(D=Gt(U)),E=h.getDerivedStateFromProps,(U=typeof E=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==se||Y!==D)&&h1(c,b,p,D),ps=!1,Y=c.memoizedState,b.state=Y,pc(c,p,b,v),dc();var W=c.memoizedState;_!==se||Y!==W||ps||o!==null&&o.dependencies!==null&&qh(o.dependencies)?(typeof E=="function"&&(Yg(c,h,E,p),W=c.memoizedState),(J=ps||u1(c,h,J,p,Y,W,D)||o!==null&&o.dependencies!==null&&qh(o.dependencies))?(U||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,W,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,W,D)),typeof b.componentDidUpdate=="function"&&(c.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&Y===o.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&Y===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=W),b.props=p,b.state=W,b.context=D,p=J):(typeof b.componentDidUpdate!="function"||_===o.memoizedProps&&Y===o.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===o.memoizedProps&&Y===o.memoizedState||(c.flags|=1024),p=!1)}return b=p,hf(o,c),p=(c.flags&128)!==0,b||p?(b=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),c.flags|=1,o!==null&&p?(c.child=xo(c,o.child,null,v),c.child=xo(c,null,h,v)):Ft(o,c,h,v),c.memoizedState=b.state,o=c.child):o=Ai(o,c,v),o}function k1(o,c,h,p){return go(),c.flags|=256,Ft(o,c,h,p),c.child}var Kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jg(o){return{baseLanes:o,cachePool:mS()}}function eO(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Bn),o}function T1(o,c,h){var p=c.pendingProps,v=!1,b=(c.flags&128)!==0,_;if((_=b)||(_=o!==null&&o.memoizedState===null?!1:(Rt.current&2)!==0),_&&(v=!0,c.flags&=-129),_=(c.flags&32)!==0,c.flags&=-33,o===null){if(Be){if(v?Os(c):vs(),(o=dt)?(o=jC(o,pr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:us!==null?{id:Fr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},h=oS(o),h.return=c,c.child=h,Yt=c,dt=null)):o=null,o===null)throw fs(c);return NO(o)?c.lanes=32:c.lanes=536870912,null}var E=p.children;return p=p.fallback,v?(vs(),v=c.mode,E=ff({mode:"hidden",children:E},v),p=mo(p,v,h,null),E.return=c,p.return=c,E.sibling=p,c.child=E,p=c.child,p.memoizedState=Jg(h),p.childLanes=eO(o,_,h),c.memoizedState=Kg,yc(null,p)):(Os(c),tO(c,E))}var D=o.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(b)c.flags&256?(Os(c),c.flags&=-257,c=nO(o,c,h)):c.memoizedState!==null?(vs(),c.child=o.child,c.flags|=128,c=null):(vs(),E=p.fallback,v=c.mode,p=ff({mode:"visible",children:p.children},v),E=mo(E,v,h,null),E.flags|=2,p.return=c,E.return=c,p.sibling=E,c.child=p,xo(c,o.child,null,h),p=c.child,p.memoizedState=Jg(h),p.childLanes=eO(o,_,h),c.memoizedState=Kg,c=yc(null,p));else if(Os(c),NO(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var U=_.dgst;_=U,p=Error(r(419)),p.stack="",p.digest=_,ac({value:p,source:null,stack:null}),c=nO(o,c,h)}else if($t||ga(o,c,h,!1),_=(h&o.childLanes)!==0,$t||_){if(_=at,_!==null&&(p=dx(_,h),p!==0&&p!==D.retryLane))throw D.retryLane=p,po(o,p),_n(_,o,p),Wg;jO(E)||wf(),c=nO(o,c,h)}else jO(E)?(c.flags|=192,c.child=o.child,c=null):(o=D.treeContext,dt=gr(E.nextSibling),Yt=c,Be=!0,hs=null,pr=!1,o!==null&&cS(c,o),c=tO(c,p.children),c.flags|=4096);return c}return v?(vs(),E=p.fallback,v=c.mode,D=o.child,U=D.sibling,p=ki(D,{mode:"hidden",children:p.children}),p.subtreeFlags=D.subtreeFlags&65011712,U!==null?E=ki(U,E):(E=mo(E,v,h,null),E.flags|=2),E.return=c,p.return=c,p.sibling=E,c.child=p,yc(null,p),p=c.child,E=o.child.memoizedState,E===null?E=Jg(h):(v=E.cachePool,v!==null?(D=Pt._currentValue,v=v.parent!==D?{parent:D,pool:D}:v):v=mS(),E={baseLanes:E.baseLanes|h,cachePool:v}),p.memoizedState=E,p.childLanes=eO(o,_,h),c.memoizedState=Kg,yc(o.child,p)):(Os(c),h=o.child,o=h.sibling,h=ki(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,o!==null&&(_=c.deletions,_===null?(c.deletions=[o],c.flags|=16):_.push(o)),c.child=h,c.memoizedState=null,h)}function tO(o,c){return c=ff({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function ff(o,c){return o=In(22,o,null,c),o.lanes=0,o}function nO(o,c,h){return xo(c,o.child,null,h),o=tO(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function R1(o,c,h){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),Og(o.return,c,h)}function rO(o,c,h,p,v,b){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:v,treeForkCount:b}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=h,_.tailMode=v,_.treeForkCount=b)}function E1(o,c,h){var p=c.pendingProps,v=p.revealOrder,b=p.tail;p=p.children;var _=Rt.current,E=(_&2)!==0;if(E?(_=_&1|2,c.flags|=128):_&=1,F(Rt,_),Ft(o,c,p,h),p=Be?oc:0,!E&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&R1(o,h,c);else if(o.tag===19)R1(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(h=c.child,v=null;h!==null;)o=h.alternate,o!==null&&Jh(o)===null&&(v=h),h=h.sibling;h=v,h===null?(v=c.child,c.child=null):(v=h.sibling,h.sibling=null),rO(c,!1,v,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,v=c.child,c.child=null;v!==null;){if(o=v.alternate,o!==null&&Jh(o)===null){c.child=v;break}o=v.sibling,v.sibling=h,h=v,v=o}rO(c,!0,h,null,b,p);break;case"together":rO(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Ai(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ws|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(ga(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=ki(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=ki(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function iO(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&qh(o)))}function FD(o,c,h){switch(c.tag){case 3:ze(c,c.stateNode.containerInfo),ds(c,Pt,o.memoizedState.cache),go();break;case 27:case 5:_e(c);break;case 4:ze(c,c.stateNode.containerInfo);break;case 10:ds(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Eg(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Os(c),c.flags|=128,null):(h&c.child.childLanes)!==0?T1(o,c,h):(Os(c),o=Ai(o,c,h),o!==null?o.sibling:null);Os(c);break;case 19:var v=(o.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(ga(o,c,h,!1),p=(h&c.childLanes)!==0),v){if(p)return E1(o,c,h);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),F(Rt,Rt.current),p)break;return null;case 22:return c.lanes=0,w1(o,c,h,c.pendingProps);case 24:ds(c,Pt,o.memoizedState.cache)}return Ai(o,c,h)}function Q1(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)$t=!0;else{if(!iO(o,h)&&(c.flags&128)===0)return $t=!1,FD(o,c,h);$t=(o.flags&131072)!==0}else $t=!1,Be&&(c.flags&1048576)!==0&&lS(c,oc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=bo(c.elementType),c.type=o,typeof o=="function")cg(o)?(p=Co(o,p),c.tag=1,c=_1(null,c,o,p,h)):(c.tag=0,c=Hg(null,c,o,p,h));else{if(o!=null){var v=o.$$typeof;if(v===Q){c.tag=11,c=v1(null,c,o,p,h);break e}else if(v===P){c.tag=14,c=y1(null,c,o,p,h);break e}}throw c=ae(o)||o,Error(r(306,c,""))}}return c;case 0:return Hg(o,c,c.type,c.pendingProps,h);case 1:return p=c.type,v=Co(p,c.pendingProps),_1(o,c,p,v,h);case 3:e:{if(ze(c,c.stateNode.containerInfo),o===null)throw Error(r(387));p=c.pendingProps;var b=c.memoizedState;v=b.element,Cg(o,c),pc(c,p,null,h);var _=c.memoizedState;if(p=_.cache,ds(c,Pt,p),p!==b.cache&&vg(c,[Pt],h,!0),dc(),p=_.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:_.cache},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){c=k1(o,c,p,h);break e}else if(p!==v){v=hr(Error(r(424)),c),ac(v),c=k1(o,c,p,h);break e}else for(o=c.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,dt=gr(o.firstChild),Yt=c,Be=!0,hs=null,pr=!0,h=wS(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(go(),p===v){c=Ai(o,c,h);break e}Ft(o,c,p,h)}c=c.child}return c;case 26:return hf(o,c),o===null?(h=XC(c.type,null,c.pendingProps,null))?c.memoizedState=h:Be||(h=c.type,o=c.pendingProps,p=Rf(ce.current).createElement(h),p[Ut]=c,p[yn]=o,Wt(p,h,o),Zt(p),c.stateNode=p):c.memoizedState=XC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return _e(c),o===null&&Be&&(p=c.stateNode=zC(c.type,c.pendingProps,ce.current),Yt=c,pr=!0,v=dt,ks(c.type)?(DO=v,dt=gr(p.firstChild)):dt=v),Ft(o,c,c.pendingProps.children,h),hf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Be&&((v=p=dt)&&(p=_5(p,c.type,c.pendingProps,pr),p!==null?(c.stateNode=p,Yt=c,dt=gr(p.firstChild),pr=!1,v=!0):v=!1),v||fs(c)),_e(c),v=c.type,b=c.pendingProps,_=o!==null?o.memoizedProps:null,p=b.children,AO(v,b)?p=null:_!==null&&AO(v,_)&&(c.flags|=32),c.memoizedState!==null&&(v=Pg(o,c,ID,null,null,h),Mc._currentValue=v),hf(o,c),Ft(o,c,p,h),c.child;case 6:return o===null&&Be&&((o=h=dt)&&(h=k5(h,c.pendingProps,pr),h!==null?(c.stateNode=h,Yt=c,dt=null,o=!0):o=!1),o||fs(c)),null;case 13:return T1(o,c,h);case 4:return ze(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=xo(c,null,p,h):Ft(o,c,p,h),c.child;case 11:return v1(o,c,c.type,c.pendingProps,h);case 7:return Ft(o,c,c.pendingProps,h),c.child;case 8:return Ft(o,c,c.pendingProps.children,h),c.child;case 12:return Ft(o,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,ds(c,c.type,p.value),Ft(o,c,p.children,h),c.child;case 9:return v=c.type._context,p=c.pendingProps.children,vo(c),v=Gt(v),p=p(v),c.flags|=1,Ft(o,c,p,h),c.child;case 14:return y1(o,c,c.type,c.pendingProps,h);case 15:return b1(o,c,c.type,c.pendingProps,h);case 19:return E1(o,c,h);case 31:return GD(o,c,h);case 22:return w1(o,c,h,c.pendingProps);case 24:return vo(c),p=Gt(Pt),o===null?(v=wg(),v===null&&(v=at,b=yg(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=h),v=b),c.memoizedState={parent:p,cache:v},Sg(c),ds(c,Pt,v)):((o.lanes&h)!==0&&(Cg(o,c),pc(c,null,null,h),dc()),v=o.memoizedState,b=c.memoizedState,v.parent!==p?(v={parent:p,cache:p},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),ds(c,Pt,p)):(p=b.cache,ds(c,Pt,p),p!==v.cache&&vg(c,[Pt],h,!0))),Ft(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function $i(o){o.flags|=4}function sO(o,c,h,p,v){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(rC())o.flags|=8192;else throw wo=Fh,xg}else o.flags&=-16777217}function P1(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!UC(c))if(rC())o.flags|=8192;else throw wo=Fh,xg}function df(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?ux():536870912,o.lanes|=c,Ra|=c)}function bc(o,c){if(!Be)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function pt(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(c)for(var v=o.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=p,o.childLanes=h,c}function WD(o,c,h){var p=c.pendingProps;switch(dg(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(c),null;case 1:return pt(c),null;case 3:return h=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ei(Pt),X(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ma(c)?$i(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,mg())),pt(c),null;case 26:var v=c.type,b=c.memoizedState;return o===null?($i(c),b!==null?(pt(c),P1(c,b)):(pt(c),sO(c,v,null,p,h))):b?b!==o.memoizedState?($i(c),pt(c),P1(c,b)):(pt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&$i(c),pt(c),sO(c,v,o,p,h)),null;case 27:if(De(c),h=ce.current,v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&$i(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return pt(c),null}o=ie.current,ma(c)?uS(c):(o=zC(v,p,h),c.stateNode=o,$i(c))}return pt(c),null;case 5:if(De(c),v=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&$i(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return pt(c),null}if(b=ie.current,ma(c))uS(c);else{var _=Rf(ce.current);switch(b){case 1:b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=_.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?_.createElement(v,{is:p.is}):_.createElement(v)}}b[Ut]=c,b[yn]=p;e:for(_=c.child;_!==null;){if(_.tag===5||_.tag===6)b.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break e;for(;_.sibling===null;){if(_.return===null||_.return===c)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}c.stateNode=b;e:switch(Wt(b,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&$i(c)}}return pt(c),sO(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&$i(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(o=ce.current,ma(c)){if(o=c.stateNode,h=c.memoizedProps,p=null,v=Yt,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}o[Ut]=c,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||TC(o.nodeValue,h)),o||fs(c,!0)}else o=Rf(o).createTextNode(p),o[Ut]=c,c.stateNode=o}return pt(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(p=ma(c),h!==null){if(o===null){if(!p)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Ut]=c}else go(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pt(c),o=!1}else h=mg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Zn(c),c):(Zn(c),null);if((c.flags&128)!==0)throw Error(r(558))}return pt(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=ma(c),p!==null&&p.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Ut]=c}else go(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pt(c),v=!1}else v=mg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(Zn(c),c):(Zn(c),null)}return Zn(c),(c.flags&128)!==0?(c.lanes=h,c):(h=p!==null,o=o!==null&&o.memoizedState!==null,h&&(p=c.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==v&&(p.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),df(c,c.updateQueue),pt(c),null);case 4:return X(),o===null&&TO(c.stateNode.containerInfo),pt(c),null;case 10:return Ei(c.type),pt(c),null;case 19:if(N(Rt),p=c.memoizedState,p===null)return pt(c),null;if(v=(c.flags&128)!==0,b=p.rendering,b===null)if(v)bc(p,!1);else{if(St!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(b=Jh(o),b!==null){for(c.flags|=128,bc(p,!1),o=b.updateQueue,c.updateQueue=o,df(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)sS(h,o),h=h.sibling;return F(Rt,Rt.current&1|2),Be&&Ti(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&Nn()>vf&&(c.flags|=128,v=!0,bc(p,!1),c.lanes=4194304)}else{if(!v)if(o=Jh(b),o!==null){if(c.flags|=128,v=!0,o=o.updateQueue,c.updateQueue=o,df(c,o),bc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Be)return pt(c),null}else 2*Nn()-p.renderingStartTime>vf&&h!==536870912&&(c.flags|=128,v=!0,bc(p,!1),c.lanes=4194304);p.isBackwards?(b.sibling=c.child,c.child=b):(o=p.last,o!==null?o.sibling=b:c.child=b,p.last=b)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Nn(),o.sibling=null,h=Rt.current,F(Rt,v?h&1|2:h&1),Be&&Ti(c,p.treeForkCount),o):(pt(c),null);case 22:case 23:return Zn(c),Rg(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&(pt(c),c.subtreeFlags&6&&(c.flags|=8192)):pt(c),h=c.updateQueue,h!==null&&df(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),o!==null&&N(yo),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Ei(Pt),pt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function HD(o,c){switch(dg(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ei(Pt),X(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return De(c),null;case 31:if(c.memoizedState!==null){if(Zn(c),c.alternate===null)throw Error(r(340));go()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Zn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));go()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return N(Rt),null;case 4:return X(),null;case 10:return Ei(c.type),null;case 22:case 23:return Zn(c),Rg(),o!==null&&N(yo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ei(Pt),null;case 25:return null;default:return null}}function A1(o,c){switch(dg(c),c.tag){case 3:Ei(Pt),X();break;case 26:case 27:case 5:De(c);break;case 4:X();break;case 31:c.memoizedState!==null&&Zn(c);break;case 13:Zn(c);break;case 19:N(Rt);break;case 10:Ei(c.type);break;case 22:case 23:Zn(c),Rg(),o!==null&&N(yo);break;case 24:Ei(Pt)}}function wc(o,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var v=p.next;h=v;do{if((h.tag&o)===o){p=void 0;var b=h.create,_=h.inst;p=b(),_.destroy=p}h=h.next}while(h!==v)}}catch(E){et(c,c.return,E)}}function ys(o,c,h){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var b=v.next;p=b;do{if((p.tag&o)===o){var _=p.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,v=c;var D=h,U=E;try{U()}catch(J){et(v,D,J)}}}p=p.next}while(p!==b)}}catch(J){et(c,c.return,J)}}function $1(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{SS(c,h)}catch(p){et(o,o.return,p)}}}function M1(o,c,h){h.props=Co(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){et(o,c,p)}}function xc(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(v){et(o,c,v)}}function Hr(o,c){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(v){et(o,c,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){et(o,c,v)}else h.current=null}function j1(o){var c=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(v){et(o,o.return,v)}}function oO(o,c,h){try{var p=o.stateNode;y5(p,o.type,h,c),p[yn]=c}catch(v){et(o,o.return,v)}}function N1(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ks(o.type)||o.tag===4}function aO(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||N1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ks(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function lO(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ci));else if(p!==4&&(p===27&&ks(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(lO(o,c,h),o=o.sibling;o!==null;)lO(o,c,h),o=o.sibling}function pf(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(p!==4&&(p===27&&ks(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(pf(o,c,h),o=o.sibling;o!==null;)pf(o,c,h),o=o.sibling}function D1(o){var c=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);Wt(c,p,h),c[Ut]=o,c[yn]=h}catch(b){et(o,o.return,b)}}var Mi=!1,Mt=!1,cO=!1,z1=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function KD(o,c){if(o=o.containerInfo,QO=jf,o=Wx(o),ng(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var v=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var _=0,E=-1,D=-1,U=0,J=0,se=o,Y=null;t:for(;;){for(var W;se!==h||v!==0&&se.nodeType!==3||(E=_+v),se!==b||p!==0&&se.nodeType!==3||(D=_+p),se.nodeType===3&&(_+=se.nodeValue.length),(W=se.firstChild)!==null;)Y=se,se=W;for(;;){if(se===o)break t;if(Y===h&&++U===v&&(E=_),Y===b&&++J===p&&(D=_),(W=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=W}h=E===-1||D===-1?null:{start:E,end:D}}else h=null}h=h||{start:0,end:0}}else h=null;for(PO={focusedElem:o,selectionRange:h},jf=!1,Vt=c;Vt!==null;)if(c=Vt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Vt=o;else for(;Vt!==null;){switch(c=Vt,b=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)v=o[h],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,h=c,v=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var ve=Co(h.type,v);o=p.getSnapshotBeforeUpdate(ve,b),p.__reactInternalSnapshotBeforeUpdate=o}catch(ke){et(h,h.return,ke)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)MO(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":MO(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Vt=o;break}Vt=c.return}}function L1(o,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Ni(o,h),p&4&&wc(5,h);break;case 1:if(Ni(o,h),p&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(_){et(h,h.return,_)}else{var v=Co(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(v,c,o.__reactInternalSnapshotBeforeUpdate)}catch(_){et(h,h.return,_)}}p&64&&$1(h),p&512&&xc(h,h.return);break;case 3:if(Ni(o,h),p&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{SS(o,c)}catch(_){et(h,h.return,_)}}break;case 27:c===null&&p&4&&D1(h);case 26:case 5:Ni(o,h),c===null&&p&4&&j1(h),p&512&&xc(h,h.return);break;case 12:Ni(o,h);break;case 31:Ni(o,h),p&4&&Z1(o,h);break;case 13:Ni(o,h),p&4&&V1(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=a5.bind(null,h),T5(o,h))));break;case 22:if(p=h.memoizedState!==null||Mi,!p){c=c!==null&&c.memoizedState!==null||Mt,v=Mi;var b=Mt;Mi=p,(Mt=c)&&!b?Di(o,h,(h.subtreeFlags&8772)!==0):Ni(o,h),Mi=v,Mt=b}break;case 30:break;default:Ni(o,h)}}function I1(o){var c=o.alternate;c!==null&&(o.alternate=null,I1(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Lm(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ot=null,wn=!1;function ji(o,c,h){for(h=h.child;h!==null;)X1(o,c,h),h=h.sibling}function X1(o,c,h){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Ul,h)}catch{}switch(h.tag){case 26:Mt||Hr(h,c),ji(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mt||Hr(h,c);var p=Ot,v=wn;ks(h.type)&&(Ot=h.stateNode,wn=!1),ji(o,c,h),Pc(h.stateNode),Ot=p,wn=v;break;case 5:Mt||Hr(h,c);case 6:if(p=Ot,v=wn,Ot=null,ji(o,c,h),Ot=p,wn=v,Ot!==null)if(wn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(h.stateNode)}catch(b){et(h,c,b)}else try{Ot.removeChild(h.stateNode)}catch(b){et(h,c,b)}break;case 18:Ot!==null&&(wn?(o=Ot,$C(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Na(o)):$C(Ot,h.stateNode));break;case 4:p=Ot,v=wn,Ot=h.stateNode.containerInfo,wn=!0,ji(o,c,h),Ot=p,wn=v;break;case 0:case 11:case 14:case 15:ys(2,h,c),Mt||ys(4,h,c),ji(o,c,h);break;case 1:Mt||(Hr(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&M1(h,c,p)),ji(o,c,h);break;case 21:ji(o,c,h);break;case 22:Mt=(p=Mt)||h.memoizedState!==null,ji(o,c,h),Mt=p;break;default:ji(o,c,h)}}function Z1(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Na(o)}catch(h){et(c,c.return,h)}}}function V1(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Na(o)}catch(h){et(c,c.return,h)}}function JD(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new z1),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new z1),c;default:throw Error(r(435,o.tag))}}function mf(o,c){var h=JD(o);c.forEach(function(p){if(!h.has(p)){h.add(p);var v=l5.bind(null,o,p);p.then(v,v)}})}function xn(o,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var v=h[p],b=o,_=c,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){Ot=E.stateNode,wn=!1;break e}break;case 5:Ot=E.stateNode,wn=!1;break e;case 3:case 4:Ot=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(Ot===null)throw Error(r(160));X1(b,_,v),Ot=null,wn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)B1(c,o),c=c.sibling}var Ar=null;function B1(o,c){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:xn(c,o),Sn(o),p&4&&(ys(3,o,o.return),wc(3,o),ys(5,o,o.return));break;case 1:xn(c,o),Sn(o),p&512&&(Mt||h===null||Hr(h,h.return)),p&64&&Mi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var v=Ar;if(xn(c,o),Sn(o),p&512&&(Mt||h===null||Hr(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Fl]||b[Ut]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(p),v.head.insertBefore(b,v.querySelector("head > title"))),Wt(b,p,h),b[Ut]=o,Zt(b),p=b;break e;case"link":var _=BC("link","href",v).get(p+(h.href||""));if(_){for(var E=0;E<_.length;E++)if(b=_[E],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){_.splice(E,1);break t}}b=v.createElement(p),Wt(b,p,h),v.head.appendChild(b);break;case"meta":if(_=BC("meta","content",v).get(p+(h.content||""))){for(E=0;E<_.length;E++)if(b=_[E],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){_.splice(E,1);break t}}b=v.createElement(p),Wt(b,p,h),v.head.appendChild(b);break;default:throw Error(r(468,p))}b[Ut]=o,Zt(b),p=b}o.stateNode=p}else qC(v,o.type,o.stateNode);else o.stateNode=VC(v,p,o.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?qC(v,o.type,o.stateNode):VC(v,p,o.memoizedProps)):p===null&&o.stateNode!==null&&oO(o,o.memoizedProps,h.memoizedProps)}break;case 27:xn(c,o),Sn(o),p&512&&(Mt||h===null||Hr(h,h.return)),h!==null&&p&4&&oO(o,o.memoizedProps,h.memoizedProps);break;case 5:if(xn(c,o),Sn(o),p&512&&(Mt||h===null||Hr(h,h.return)),o.flags&32){v=o.stateNode;try{sa(v,"")}catch(ve){et(o,o.return,ve)}}p&4&&o.stateNode!=null&&(v=o.memoizedProps,oO(o,v,h!==null?h.memoizedProps:v)),p&1024&&(cO=!0);break;case 6:if(xn(c,o),Sn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch(ve){et(o,o.return,ve)}}break;case 3:if(Pf=null,v=Ar,Ar=Ef(c.containerInfo),xn(c,o),Ar=v,Sn(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Na(c.containerInfo)}catch(ve){et(o,o.return,ve)}cO&&(cO=!1,q1(o));break;case 4:p=Ar,Ar=Ef(o.stateNode.containerInfo),xn(c,o),Sn(o),Ar=p;break;case 12:xn(c,o),Sn(o);break;case 31:xn(c,o),Sn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,mf(o,p)));break;case 13:xn(c,o),Sn(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Of=Nn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,mf(o,p)));break;case 22:v=o.memoizedState!==null;var D=h!==null&&h.memoizedState!==null,U=Mi,J=Mt;if(Mi=U||v,Mt=J||D,xn(c,o),Mt=J,Mi=U,Sn(o),p&8192)e:for(c=o.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(h===null||D||Mi||Mt||_o(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){D=h=c;try{if(b=D.stateNode,v)_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=D.stateNode;var se=D.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){et(D,D.return,ve)}}}else if(c.tag===6){if(h===null){D=c;try{D.stateNode.nodeValue=v?"":D.memoizedProps}catch(ve){et(D,D.return,ve)}}}else if(c.tag===18){if(h===null){D=c;try{var W=D.stateNode;v?MC(W,!0):MC(D.stateNode,!1)}catch(ve){et(D,D.return,ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,mf(o,h))));break;case 19:xn(c,o),Sn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,mf(o,p)));break;case 30:break;case 21:break;default:xn(c,o),Sn(o)}}function Sn(o){var c=o.flags;if(c&2){try{for(var h,p=o.return;p!==null;){if(N1(p)){h=p;break}p=p.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var v=h.stateNode,b=aO(o);pf(o,b,v);break;case 5:var _=h.stateNode;h.flags&32&&(sa(_,""),h.flags&=-33);var E=aO(o);pf(o,E,_);break;case 3:case 4:var D=h.stateNode.containerInfo,U=aO(o);lO(o,U,D);break;default:throw Error(r(161))}}catch(J){et(o,o.return,J)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function q1(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;q1(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ni(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)L1(o,c.alternate,c),c=c.sibling}function _o(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ys(4,c,c.return),_o(c);break;case 1:Hr(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&M1(c,c.return,h),_o(c);break;case 27:Pc(c.stateNode);case 26:case 5:Hr(c,c.return),_o(c);break;case 22:c.memoizedState===null&&_o(c);break;case 30:_o(c);break;default:_o(c)}o=o.sibling}}function Di(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,v=o,b=c,_=b.flags;switch(b.tag){case 0:case 11:case 15:Di(v,b,h),wc(4,b);break;case 1:if(Di(v,b,h),p=b,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(U){et(p,p.return,U)}if(p=b,v=p.updateQueue,v!==null){var E=p.stateNode;try{var D=v.shared.hiddenCallbacks;if(D!==null)for(v.shared.hiddenCallbacks=null,v=0;v<D.length;v++)xS(D[v],E)}catch(U){et(p,p.return,U)}}h&&_&64&&$1(b),xc(b,b.return);break;case 27:D1(b);case 26:case 5:Di(v,b,h),h&&p===null&&_&4&&j1(b),xc(b,b.return);break;case 12:Di(v,b,h);break;case 31:Di(v,b,h),h&&_&4&&Z1(v,b);break;case 13:Di(v,b,h),h&&_&4&&V1(v,b);break;case 22:b.memoizedState===null&&Di(v,b,h),xc(b,b.return);break;case 30:break;default:Di(v,b,h)}c=c.sibling}}function uO(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&lc(h))}function hO(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&lc(o))}function $r(o,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)U1(o,c,h,p),c=c.sibling}function U1(o,c,h,p){var v=c.flags;switch(c.tag){case 0:case 11:case 15:$r(o,c,h,p),v&2048&&wc(9,c);break;case 1:$r(o,c,h,p);break;case 3:$r(o,c,h,p),v&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&lc(o)));break;case 12:if(v&2048){$r(o,c,h,p),o=c.stateNode;try{var b=c.memoizedProps,_=b.id,E=b.onPostCommit;typeof E=="function"&&E(_,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(D){et(c,c.return,D)}}else $r(o,c,h,p);break;case 31:$r(o,c,h,p);break;case 13:$r(o,c,h,p);break;case 23:break;case 22:b=c.stateNode,_=c.alternate,c.memoizedState!==null?b._visibility&2?$r(o,c,h,p):Sc(o,c):b._visibility&2?$r(o,c,h,p):(b._visibility|=2,_a(o,c,h,p,(c.subtreeFlags&10256)!==0||!1)),v&2048&&uO(_,c);break;case 24:$r(o,c,h,p),v&2048&&hO(c.alternate,c);break;default:$r(o,c,h,p)}}function _a(o,c,h,p,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var b=o,_=c,E=h,D=p,U=_.flags;switch(_.tag){case 0:case 11:case 15:_a(b,_,E,D,v),wc(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?_a(b,_,E,D,v):Sc(b,_):(J._visibility|=2,_a(b,_,E,D,v)),v&&U&2048&&uO(_.alternate,_);break;case 24:_a(b,_,E,D,v),v&&U&2048&&hO(_.alternate,_);break;default:_a(b,_,E,D,v)}c=c.sibling}}function Sc(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,p=c,v=p.flags;switch(p.tag){case 22:Sc(h,p),v&2048&&uO(p.alternate,p);break;case 24:Sc(h,p),v&2048&&hO(p.alternate,p);break;default:Sc(h,p)}c=c.sibling}}var Cc=8192;function ka(o,c,h){if(o.subtreeFlags&Cc)for(o=o.child;o!==null;)Y1(o,c,h),o=o.sibling}function Y1(o,c,h){switch(o.tag){case 26:ka(o,c,h),o.flags&Cc&&o.memoizedState!==null&&L5(h,Ar,o.memoizedState,o.memoizedProps);break;case 5:ka(o,c,h);break;case 3:case 4:var p=Ar;Ar=Ef(o.stateNode.containerInfo),ka(o,c,h),Ar=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Cc,Cc=16777216,ka(o,c,h),Cc=p):ka(o,c,h));break;default:ka(o,c,h)}}function G1(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function _c(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Vt=p,W1(p,o)}G1(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)F1(o),o=o.sibling}function F1(o){switch(o.tag){case 0:case 11:case 15:_c(o),o.flags&2048&&ys(9,o,o.return);break;case 3:_c(o);break;case 12:_c(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,gf(o)):_c(o);break;default:_c(o)}}function gf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Vt=p,W1(p,o)}G1(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ys(8,c,c.return),gf(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,gf(c));break;default:gf(c)}o=o.sibling}}function W1(o,c){for(;Vt!==null;){var h=Vt;switch(h.tag){case 0:case 11:case 15:ys(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lc(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Vt=p;else e:for(h=o;Vt!==null;){p=Vt;var v=p.sibling,b=p.return;if(I1(p),p===h){Vt=null;break e}if(v!==null){v.return=b,Vt=v;break e}Vt=b}}}var e5={getCacheForType:function(o){var c=Gt(Pt),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Gt(Pt).controller.signal}},t5=typeof WeakMap=="function"?WeakMap:Map,He=0,at=null,Le=null,Ze=0,Je=0,Vn=null,bs=!1,Ta=!1,fO=!1,zi=0,St=0,ws=0,ko=0,dO=0,Bn=0,Ra=0,kc=null,Cn=null,pO=!1,Of=0,H1=0,vf=1/0,yf=null,xs=null,zt=0,Ss=null,Ea=null,Li=0,mO=0,gO=null,K1=null,Tc=0,OO=null;function qn(){return(He&2)!==0&&Ze!==0?Ze&-Ze:I.T!==null?SO():px()}function J1(){if(Bn===0)if((Ze&536870912)===0||Be){var o=kh;kh<<=1,(kh&3932160)===0&&(kh=262144),Bn=o}else Bn=536870912;return o=Xn.current,o!==null&&(o.flags|=32),Bn}function _n(o,c,h){(o===at&&(Je===2||Je===9)||o.cancelPendingCommit!==null)&&(Qa(o,0),Cs(o,Ze,Bn,!1)),Gl(o,h),((He&2)===0||o!==at)&&(o===at&&((He&2)===0&&(ko|=h),St===4&&Cs(o,Ze,Bn,!1)),Kr(o))}function eC(o,c,h){if((He&6)!==0)throw Error(r(327));var p=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Yl(o,c),v=p?i5(o,c):yO(o,c,!0),b=p;do{if(v===0){Ta&&!p&&Cs(o,c,0,!1);break}else{if(h=o.current.alternate,b&&!n5(h)){v=yO(o,c,!1),b=!1;continue}if(v===2){if(b=c,o.errorRecoveryDisabledLanes&b)var _=0;else _=o.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){c=_;e:{var E=o;v=kc;var D=E.current.memoizedState.isDehydrated;if(D&&(Qa(E,_).flags|=256),_=yO(E,_,!1),_!==2){if(fO&&!D){E.errorRecoveryDisabledLanes|=b,ko|=b,v=4;break e}b=Cn,Cn=v,b!==null&&(Cn===null?Cn=b:Cn.push.apply(Cn,b))}v=_}if(b=!1,v!==2)continue}}if(v===1){Qa(o,0),Cs(o,c,0,!0);break}e:{switch(p=o,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Cs(p,c,Bn,!bs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(v=Of+300-Nn(),10<v)){if(Cs(p,c,Bn,!bs),Rh(p,0,!0)!==0)break e;Li=c,p.timeoutHandle=PC(tC.bind(null,p,h,Cn,yf,pO,c,Bn,ko,Ra,bs,b,"Throttled",-0,0),v);break e}tC(p,h,Cn,yf,pO,c,Bn,ko,Ra,bs,b,null,-0,0)}}break}while(!0);Kr(o)}function tC(o,c,h,p,v,b,_,E,D,U,J,se,Y,W){if(o.timeoutHandle=-1,se=c.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},Y1(c,b,se);var ve=(b&62914560)===b?Of-Nn():(b&4194048)===b?H1-Nn():0;if(ve=I5(se,ve),ve!==null){Li=b,o.cancelPendingCommit=ve(cC.bind(null,o,c,b,h,p,v,_,E,D,J,se,null,Y,W)),Cs(o,b,_,!U);return}}cC(o,c,b,h,p,v,_,E,D)}function n5(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var v=h[p],b=v.getSnapshot;v=v.value;try{if(!Ln(b(),v))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cs(o,c,h,p){c&=~dO,c&=~ko,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var v=c;0<v;){var b=31-zn(v),_=1<<b;p[b]=-1,v&=~_}h!==0&&hx(o,h,c)}function bf(){return(He&6)===0?(Rc(0),!1):!0}function vO(){if(Le!==null){if(Je===0)var o=Le.return;else o=Le,Ri=Oo=null,Mg(o),ba=null,uc=0,o=Le;for(;o!==null;)A1(o.alternate,o),o=o.return;Le=null}}function Qa(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,x5(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Li=0,vO(),at=o,Le=h=ki(o.current,null),Ze=c,Je=0,Vn=null,bs=!1,Ta=Yl(o,c),fO=!1,Ra=Bn=dO=ko=ws=St=0,Cn=kc=null,pO=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var v=31-zn(p),b=1<<v;c|=o[v],p&=~b}return zi=c,Ih(),h}function nC(o,c){$e=null,I.H=vc,c===ya||c===Gh?(c=vS(),Je=3):c===xg?(c=vS(),Je=4):Je=c===Wg?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Vn=c,Le===null&&(St=1,cf(o,hr(c,o.current)))}function rC(){var o=Xn.current;return o===null?!0:(Ze&4194048)===Ze?mr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?o===mr:!1}function iC(){var o=I.H;return I.H=vc,o===null?vc:o}function sC(){var o=I.A;return I.A=e5,o}function wf(){St=4,bs||(Ze&4194048)!==Ze&&Xn.current!==null||(Ta=!0),(ws&134217727)===0&&(ko&134217727)===0||at===null||Cs(at,Ze,Bn,!1)}function yO(o,c,h){var p=He;He|=2;var v=iC(),b=sC();(at!==o||Ze!==c)&&(yf=null,Qa(o,c)),c=!1;var _=St;e:do try{if(Je!==0&&Le!==null){var E=Le,D=Vn;switch(Je){case 8:vO(),_=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(c=!0);var U=Je;if(Je=0,Vn=null,Pa(o,E,D,U),h&&Ta){_=0;break e}break;default:U=Je,Je=0,Vn=null,Pa(o,E,D,U)}}r5(),_=St;break}catch(J){nC(o,J)}while(!0);return c&&o.shellSuspendCounter++,Ri=Oo=null,He=p,I.H=v,I.A=b,Le===null&&(at=null,Ze=0,Ih()),_}function r5(){for(;Le!==null;)oC(Le)}function i5(o,c){var h=He;He|=2;var p=iC(),v=sC();at!==o||Ze!==c?(yf=null,vf=Nn()+500,Qa(o,c)):Ta=Yl(o,c);e:do try{if(Je!==0&&Le!==null){c=Le;var b=Vn;t:switch(Je){case 1:Je=0,Vn=null,Pa(o,c,b,1);break;case 2:case 9:if(gS(b)){Je=0,Vn=null,aC(c);break}c=function(){Je!==2&&Je!==9||at!==o||(Je=7),Kr(o)},b.then(c,c);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:gS(b)?(Je=0,Vn=null,aC(c)):(Je=0,Vn=null,Pa(o,c,b,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var E=Le;if(_?UC(_):E.stateNode.complete){Je=0,Vn=null;var D=E.sibling;if(D!==null)Le=D;else{var U=E.return;U!==null?(Le=U,xf(U)):Le=null}break t}}Je=0,Vn=null,Pa(o,c,b,5);break;case 6:Je=0,Vn=null,Pa(o,c,b,6);break;case 8:vO(),St=6;break e;default:throw Error(r(462))}}s5();break}catch(J){nC(o,J)}while(!0);return Ri=Oo=null,I.H=p,I.A=v,He=h,Le!==null?0:(at=null,Ze=0,Ih(),St)}function s5(){for(;Le!==null&&!RN();)oC(Le)}function oC(o){var c=Q1(o.alternate,o,zi);o.memoizedProps=o.pendingProps,c===null?xf(o):Le=c}function aC(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=C1(h,c,c.pendingProps,c.type,void 0,Ze);break;case 11:c=C1(h,c,c.pendingProps,c.type.render,c.ref,Ze);break;case 5:Mg(c);default:A1(h,c),c=Le=sS(c,zi),c=Q1(h,c,zi)}o.memoizedProps=o.pendingProps,c===null?xf(o):Le=c}function Pa(o,c,h,p){Ri=Oo=null,Mg(c),ba=null,uc=0;var v=c.return;try{if(YD(o,v,c,h,Ze)){St=1,cf(o,hr(h,o.current)),Le=null;return}}catch(b){if(v!==null)throw Le=v,b;St=1,cf(o,hr(h,o.current)),Le=null;return}c.flags&32768?(Be||p===1?o=!0:Ta||(Ze&536870912)!==0?o=!1:(bs=o=!0,(p===2||p===9||p===3||p===6)&&(p=Xn.current,p!==null&&p.tag===13&&(p.flags|=16384))),lC(c,o)):xf(c)}function xf(o){var c=o;do{if((c.flags&32768)!==0){lC(c,bs);return}o=c.return;var h=WD(c.alternate,c,zi);if(h!==null){Le=h;return}if(c=c.sibling,c!==null){Le=c;return}Le=c=o}while(c!==null);St===0&&(St=5)}function lC(o,c){do{var h=HD(o.alternate,o);if(h!==null){h.flags&=32767,Le=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Le=o;return}Le=o=h}while(o!==null);St=6,Le=null}function cC(o,c,h,p,v,b,_,E,D){o.cancelPendingCommit=null;do Sf();while(zt!==0);if((He&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(b=c.lanes|c.childLanes,b|=ag,zN(o,h,b,_,E,D),o===at&&(Le=at=null,Ze=0),Ea=c,Ss=o,Li=h,mO=b,gO=v,K1=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,c5(Ch,function(){return pC(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=I.T,I.T=null,v=L.p,L.p=2,_=He,He|=4;try{KD(o,c,h)}finally{He=_,L.p=v,I.T=p}}zt=1,uC(),hC(),fC()}}function uC(){if(zt===1){zt=0;var o=Ss,c=Ea,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=I.T,I.T=null;var p=L.p;L.p=2;var v=He;He|=4;try{B1(c,o);var b=PO,_=Wx(o.containerInfo),E=b.focusedElem,D=b.selectionRange;if(_!==E&&E&&E.ownerDocument&&Fx(E.ownerDocument.documentElement,E)){if(D!==null&&ng(E)){var U=D.start,J=D.end;if(J===void 0&&(J=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(J,E.value.length);else{var se=E.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ve=E.textContent.length,ke=Math.min(D.start,ve),st=D.end===void 0?ke:Math.min(D.end,ve);!W.extend&&ke>st&&(_=st,st=ke,ke=_);var V=Gx(E,ke),z=Gx(E,st);if(V&&z&&(W.rangeCount!==1||W.anchorNode!==V.node||W.anchorOffset!==V.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var q=se.createRange();q.setStart(V.node,V.offset),W.removeAllRanges(),ke>st?(W.addRange(q),W.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),W.addRange(q))}}}}for(se=[],W=E;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var te=se[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}jf=!!QO,PO=QO=null}finally{He=v,L.p=p,I.T=h}}o.current=c,zt=2}}function hC(){if(zt===2){zt=0;var o=Ss,c=Ea,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=I.T,I.T=null;var p=L.p;L.p=2;var v=He;He|=4;try{L1(o,c.alternate,c)}finally{He=v,L.p=p,I.T=h}}zt=3}}function fC(){if(zt===4||zt===3){zt=0,EN();var o=Ss,c=Ea,h=Li,p=K1;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?zt=5:(zt=0,Ea=Ss=null,dC(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(xs=null),Dm(h),c=c.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Ul,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=I.T,v=L.p,L.p=2,I.T=null;try{for(var b=o.onRecoverableError,_=0;_<p.length;_++){var E=p[_];b(E.value,{componentStack:E.stack})}}finally{I.T=c,L.p=v}}(Li&3)!==0&&Sf(),Kr(o),v=o.pendingLanes,(h&261930)!==0&&(v&42)!==0?o===OO?Tc++:(Tc=0,OO=o):Tc=0,Rc(0)}}function dC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,lc(c)))}function Sf(){return uC(),hC(),fC(),pC()}function pC(){if(zt!==5)return!1;var o=Ss,c=mO;mO=0;var h=Dm(Li),p=I.T,v=L.p;try{L.p=32>h?32:h,I.T=null,h=gO,gO=null;var b=Ss,_=Li;if(zt=0,Ea=Ss=null,Li=0,(He&6)!==0)throw Error(r(331));var E=He;if(He|=4,F1(b.current),U1(b,b.current,_,h),He=E,Rc(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Ul,b)}catch{}return!0}finally{L.p=v,I.T=p,dC(o,c)}}function mC(o,c,h){c=hr(h,c),c=Fg(o.stateNode,c,2),o=gs(o,c,2),o!==null&&(Gl(o,2),Kr(o))}function et(o,c,h){if(o.tag===3)mC(o,o,h);else for(;c!==null;){if(c.tag===3){mC(c,o,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xs===null||!xs.has(p))){o=hr(h,o),h=g1(2),p=gs(c,h,2),p!==null&&(O1(h,p,c,o),Gl(p,2),Kr(p));break}}c=c.return}}function bO(o,c,h){var p=o.pingCache;if(p===null){p=o.pingCache=new t5;var v=new Set;p.set(c,v)}else v=p.get(c),v===void 0&&(v=new Set,p.set(c,v));v.has(h)||(fO=!0,v.add(h),o=o5.bind(null,o,c,h),c.then(o,o))}function o5(o,c,h){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,at===o&&(Ze&h)===h&&(St===4||St===3&&(Ze&62914560)===Ze&&300>Nn()-Of?(He&2)===0&&Qa(o,0):dO|=h,Ra===Ze&&(Ra=0)),Kr(o)}function gC(o,c){c===0&&(c=ux()),o=po(o,c),o!==null&&(Gl(o,c),Kr(o))}function a5(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),gC(o,h)}function l5(o,c){var h=0;switch(o.tag){case 31:case 13:var p=o.stateNode,v=o.memoizedState;v!==null&&(h=v.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),gC(o,h)}function c5(o,c){return $m(o,c)}var Cf=null,Aa=null,wO=!1,_f=!1,xO=!1,_s=0;function Kr(o){o!==Aa&&o.next===null&&(Aa===null?Cf=Aa=o:Aa=Aa.next=o),_f=!0,wO||(wO=!0,h5())}function Rc(o,c){if(!xO&&_f){xO=!0;do for(var h=!1,p=Cf;p!==null;){if(o!==0){var v=p.pendingLanes;if(v===0)var b=0;else{var _=p.suspendedLanes,E=p.pingedLanes;b=(1<<31-zn(42|o)+1)-1,b&=v&~(_&~E),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,bC(p,b))}else b=Ze,b=Rh(p,p===at?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||Yl(p,b)||(h=!0,bC(p,b));p=p.next}while(h);xO=!1}}function u5(){OC()}function OC(){_f=wO=!1;var o=0;_s!==0&&w5()&&(o=_s);for(var c=Nn(),h=null,p=Cf;p!==null;){var v=p.next,b=vC(p,c);b===0?(p.next=null,h===null?Cf=v:h.next=v,v===null&&(Aa=h)):(h=p,(o!==0||(b&3)!==0)&&(_f=!0)),p=v}zt!==0&&zt!==5||Rc(o),_s!==0&&(_s=0)}function vC(o,c){for(var h=o.suspendedLanes,p=o.pingedLanes,v=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var _=31-zn(b),E=1<<_,D=v[_];D===-1?((E&h)===0||(E&p)!==0)&&(v[_]=DN(E,c)):D<=c&&(o.expiredLanes|=E),b&=~E}if(c=at,h=Ze,h=Rh(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===c&&(Je===2||Je===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Mm(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Yl(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(p!==null&&Mm(p),Dm(h)){case 2:case 8:h=lx;break;case 32:h=Ch;break;case 268435456:h=cx;break;default:h=Ch}return p=yC.bind(null,o),h=$m(h,p),o.callbackPriority=c,o.callbackNode=h,c}return p!==null&&p!==null&&Mm(p),o.callbackPriority=2,o.callbackNode=null,2}function yC(o,c){if(zt!==0&&zt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Sf()&&o.callbackNode!==h)return null;var p=Ze;return p=Rh(o,o===at?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(eC(o,p,c),vC(o,Nn()),o.callbackNode!=null&&o.callbackNode===h?yC.bind(null,o):null)}function bC(o,c){if(Sf())return null;eC(o,c,!0)}function h5(){S5(function(){(He&6)!==0?$m(ax,u5):OC()})}function SO(){if(_s===0){var o=Oa;o===0&&(o=_h,_h<<=1,(_h&261888)===0&&(_h=256)),_s=o}return _s}function wC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ah(""+o)}function xC(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function f5(o,c,h,p,v){if(c==="submit"&&h&&h.stateNode===v){var b=wC((v[yn]||null).action),_=p.submitter;_&&(c=(c=_[yn]||null)?wC(c.formAction):_.getAttribute("formAction"),c!==null&&(b=c,_=null));var E=new Nh("action","action",null,p,v);o.push({event:E,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(_s!==0){var D=_?xC(v,_):new FormData(v);Vg(h,{pending:!0,data:D,method:v.method,action:b},null,D)}}else typeof b=="function"&&(E.preventDefault(),D=_?xC(v,_):new FormData(v),Vg(h,{pending:!0,data:D,method:v.method,action:b},b,D))},currentTarget:v}]})}}for(var CO=0;CO<og.length;CO++){var _O=og[CO],d5=_O.toLowerCase(),p5=_O[0].toUpperCase()+_O.slice(1);Pr(d5,"on"+p5)}Pr(Jx,"onAnimationEnd"),Pr(eS,"onAnimationIteration"),Pr(tS,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(QD,"onTransitionRun"),Pr(PD,"onTransitionStart"),Pr(AD,"onTransitionCancel"),Pr(nS,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),co("onBeforeInput",["compositionend","keypress","textInput","paste"]),co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ec));function SC(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],v=p.event;p=p.listeners;e:{var b=void 0;if(c)for(var _=p.length-1;0<=_;_--){var E=p[_],D=E.instance,U=E.currentTarget;if(E=E.listener,D!==b&&v.isPropagationStopped())break e;b=E,v.currentTarget=U;try{b(v)}catch(J){Lh(J)}v.currentTarget=null,b=D}else for(_=0;_<p.length;_++){if(E=p[_],D=E.instance,U=E.currentTarget,E=E.listener,D!==b&&v.isPropagationStopped())break e;b=E,v.currentTarget=U;try{b(v)}catch(J){Lh(J)}v.currentTarget=null,b=D}}}}function Ie(o,c){var h=c[zm];h===void 0&&(h=c[zm]=new Set);var p=o+"__bubble";h.has(p)||(CC(c,o,2,!1),h.add(p))}function kO(o,c,h){var p=0;c&&(p|=4),CC(h,o,p,c)}var kf="_reactListening"+Math.random().toString(36).slice(2);function TO(o){if(!o[kf]){o[kf]=!0,Ox.forEach(function(h){h!=="selectionchange"&&(m5.has(h)||kO(h,!1,o),kO(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[kf]||(c[kf]=!0,kO("selectionchange",!1,c))}}function CC(o,c,h,p){switch(JC(c)){case 2:var v=V5;break;case 8:v=B5;break;default:v=ZO}h=v.bind(null,c,h,o),v=void 0,!Ym||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),p?v!==void 0?o.addEventListener(c,h,{capture:!0,passive:v}):o.addEventListener(c,h,!0):v!==void 0?o.addEventListener(c,h,{passive:v}):o.addEventListener(c,h,!1)}function RO(o,c,h,p,v){var b=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var E=p.stateNode.containerInfo;if(E===v)break;if(_===4)for(_=p.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;E!==null;){if(_=ea(E),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){p=b=_;continue e}E=E.parentNode}}p=p.return}Ex(function(){var U=b,J=qm(h),se=[];e:{var Y=rS.get(o);if(Y!==void 0){var W=Nh,ve=o;switch(o){case"keypress":if(Mh(h)===0)break e;case"keydown":case"keyup":W=lD;break;case"focusin":ve="focus",W=Hm;break;case"focusout":ve="blur",W=Hm;break;case"beforeblur":case"afterblur":W=Hm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=WN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=hD;break;case Jx:case eS:case tS:W=JN;break;case nS:W=dD;break;case"scroll":case"scrollend":W=GN;break;case"wheel":W=mD;break;case"copy":case"cut":case"paste":W=tD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Mx;break;case"toggle":case"beforetoggle":W=OD}var ke=(c&4)!==0,st=!ke&&(o==="scroll"||o==="scrollend"),V=ke?Y!==null?Y+"Capture":null:Y;ke=[];for(var z=U,q;z!==null;){var te=z;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||V===null||(te=Hl(z,V),te!=null&&ke.push(Qc(z,te,q))),st)break;z=z.return}0<ke.length&&(Y=new W(Y,ve,null,h,J),se.push({event:Y,listeners:ke}))}}if((c&7)===0){e:{if(Y=o==="mouseover"||o==="pointerover",W=o==="mouseout"||o==="pointerout",Y&&h!==Bm&&(ve=h.relatedTarget||h.fromElement)&&(ea(ve)||ve[Jo]))break e;if((W||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ve=h.relatedTarget||h.toElement,W=U,ve=ve?ea(ve):null,ve!==null&&(st=s(ve),ke=ve.tag,ve!==st||ke!==5&&ke!==27&&ke!==6)&&(ve=null)):(W=null,ve=U),W!==ve)){if(ke=Ax,te="onMouseLeave",V="onMouseEnter",z="mouse",(o==="pointerout"||o==="pointerover")&&(ke=Mx,te="onPointerLeave",V="onPointerEnter",z="pointer"),st=W==null?Y:Wl(W),q=ve==null?Y:Wl(ve),Y=new ke(te,z+"leave",W,h,J),Y.target=st,Y.relatedTarget=q,te=null,ea(J)===U&&(ke=new ke(V,z+"enter",ve,h,J),ke.target=q,ke.relatedTarget=st,te=ke),st=te,W&&ve)t:{for(ke=g5,V=W,z=ve,q=0,te=V;te;te=ke(te))q++;te=0;for(var Ce=z;Ce;Ce=ke(Ce))te++;for(;0<q-te;)V=ke(V),q--;for(;0<te-q;)z=ke(z),te--;for(;q--;){if(V===z||z!==null&&V===z.alternate){ke=V;break t}V=ke(V),z=ke(z)}ke=null}else ke=null;W!==null&&_C(se,Y,W,ke,!1),ve!==null&&st!==null&&_C(se,st,ve,ke,!0)}}e:{if(Y=U?Wl(U):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ye=Zx;else if(Ix(Y))if(Vx)Ye=TD;else{Ye=_D;var ye=CD}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?U&&Vm(U.elementType)&&(Ye=Zx):Ye=kD;if(Ye&&(Ye=Ye(o,U))){Xx(se,Ye,h,J);break e}ye&&ye(o,Y,U),o==="focusout"&&U&&Y.type==="number"&&U.memoizedProps.value!=null&&Zm(Y,"number",Y.value)}switch(ye=U?Wl(U):window,o){case"focusin":(Ix(ye)||ye.contentEditable==="true")&&(ca=ye,rg=U,sc=null);break;case"focusout":sc=rg=ca=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,Hx(se,h,J);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":Hx(se,h,J)}var Me;if(Jm)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else la?zx(o,h)&&(Ve="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(jx&&h.locale!=="ko"&&(la||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&la&&(Me=Qx()):(cs=J,Gm="value"in cs?cs.value:cs.textContent,la=!0)),ye=Tf(U,Ve),0<ye.length&&(Ve=new $x(Ve,o,null,h,J),se.push({event:Ve,listeners:ye}),Me?Ve.data=Me:(Me=Lx(h),Me!==null&&(Ve.data=Me)))),(Me=yD?bD(o,h):wD(o,h))&&(Ve=Tf(U,"onBeforeInput"),0<Ve.length&&(ye=new $x("onBeforeInput","beforeinput",null,h,J),se.push({event:ye,listeners:Ve}),ye.data=Me)),f5(se,o,U,h,J)}SC(se,c)})}function Qc(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Tf(o,c){for(var h=c+"Capture",p=[];o!==null;){var v=o,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Hl(o,h),v!=null&&p.unshift(Qc(o,v,b)),v=Hl(o,c),v!=null&&p.push(Qc(o,v,b))),o.tag===3)return p;o=o.return}return[]}function g5(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function _C(o,c,h,p,v){for(var b=c._reactName,_=[];h!==null&&h!==p;){var E=h,D=E.alternate,U=E.stateNode;if(E=E.tag,D!==null&&D===p)break;E!==5&&E!==26&&E!==27||U===null||(D=U,v?(U=Hl(h,b),U!=null&&_.unshift(Qc(h,U,D))):v||(U=Hl(h,b),U!=null&&_.push(Qc(h,U,D)))),h=h.return}_.length!==0&&o.push({event:c,listeners:_})}var O5=/\r\n?/g,v5=/\u0000|\uFFFD/g;function kC(o){return(typeof o=="string"?o:""+o).replace(O5,`
`).replace(v5,"")}function TC(o,c){return c=kC(c),kC(o)===c}function it(o,c,h,p,v,b){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||sa(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&sa(o,""+p);break;case"className":Qh(o,"class",p);break;case"tabIndex":Qh(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qh(o,h,p);break;case"style":Tx(o,p,b);break;case"data":if(c!=="object"){Qh(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=Ah(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(c!=="input"&&it(o,c,"name",v.name,v,null),it(o,c,"formEncType",v.formEncType,v,null),it(o,c,"formMethod",v.formMethod,v,null),it(o,c,"formTarget",v.formTarget,v,null)):(it(o,c,"encType",v.encType,v,null),it(o,c,"method",v.method,v,null),it(o,c,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=Ah(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=Ci);break;case"onScroll":p!=null&&Ie("scroll",o);break;case"onScrollEnd":p!=null&&Ie("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=Ah(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":Ie("beforetoggle",o),Ie("toggle",o),Eh(o,"popover",p);break;case"xlinkActuate":Si(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Si(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Si(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Si(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Si(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Si(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Si(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Si(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Si(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Eh(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=UN.get(h)||h,Eh(o,h,p))}}function EO(o,c,h,p,v,b){switch(h){case"style":Tx(o,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof p=="string"?sa(o,p):(typeof p=="number"||typeof p=="bigint")&&sa(o,""+p);break;case"onScroll":p!=null&&Ie("scroll",o);break;case"onScrollEnd":p!=null&&Ie("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vx.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),c=h.slice(2,v?h.length-7:void 0),b=o[yn]||null,b=b!=null?b[h]:null,typeof b=="function"&&o.removeEventListener(c,b,v),typeof p=="function")){typeof b!="function"&&b!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,p,v);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):Eh(o,h,p)}}}function Wt(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",o),Ie("load",o);var p=!1,v=!1,b;for(b in h)if(h.hasOwnProperty(b)){var _=h[b];if(_!=null)switch(b){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:it(o,c,b,_,h,null)}}v&&it(o,c,"srcSet",h.srcSet,h,null),p&&it(o,c,"src",h.src,h,null);return;case"input":Ie("invalid",o);var E=b=_=v=null,D=null,U=null;for(p in h)if(h.hasOwnProperty(p)){var J=h[p];if(J!=null)switch(p){case"name":v=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":U=J;break;case"value":b=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,c));break;default:it(o,c,p,J,h,null)}}Sx(o,b,E,D,U,_,v,!1);return;case"select":Ie("invalid",o),p=_=b=null;for(v in h)if(h.hasOwnProperty(v)&&(E=h[v],E!=null))switch(v){case"value":b=E;break;case"defaultValue":_=E;break;case"multiple":p=E;default:it(o,c,v,E,h,null)}c=b,h=_,o.multiple=!!p,c!=null?ia(o,!!p,c,!1):h!=null&&ia(o,!!p,h,!0);return;case"textarea":Ie("invalid",o),b=v=p=null;for(_ in h)if(h.hasOwnProperty(_)&&(E=h[_],E!=null))switch(_){case"value":p=E;break;case"defaultValue":v=E;break;case"children":b=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:it(o,c,_,E,h,null)}_x(o,p,v,b);return;case"option":for(D in h)h.hasOwnProperty(D)&&(p=h[D],p!=null)&&(D==="selected"?o.selected=p&&typeof p!="function"&&typeof p!="symbol":it(o,c,D,p,h,null));return;case"dialog":Ie("beforetoggle",o),Ie("toggle",o),Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":Ie("load",o);break;case"video":case"audio":for(p=0;p<Ec.length;p++)Ie(Ec[p],o);break;case"image":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"embed":case"source":case"link":Ie("error",o),Ie("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in h)if(h.hasOwnProperty(U)&&(p=h[U],p!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:it(o,c,U,p,h,null)}return;default:if(Vm(c)){for(J in h)h.hasOwnProperty(J)&&(p=h[J],p!==void 0&&EO(o,c,J,p,h,void 0));return}}for(E in h)h.hasOwnProperty(E)&&(p=h[E],p!=null&&it(o,c,E,p,h,null))}function y5(o,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,_=null,E=null,D=null,U=null,J=null;for(W in h){var se=h[W];if(h.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=se;default:p.hasOwnProperty(W)||it(o,c,W,null,p,se)}}for(var Y in p){var W=p[Y];if(se=h[Y],p.hasOwnProperty(Y)&&(W!=null||se!=null))switch(Y){case"type":b=W;break;case"name":v=W;break;case"checked":U=W;break;case"defaultChecked":J=W;break;case"value":_=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,c));break;default:W!==se&&it(o,c,Y,W,p,se)}}Xm(o,_,E,D,U,J,b,v);return;case"select":W=_=E=Y=null;for(b in h)if(D=h[b],h.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":W=D;default:p.hasOwnProperty(b)||it(o,c,b,null,p,D)}for(v in p)if(b=p[v],D=h[v],p.hasOwnProperty(v)&&(b!=null||D!=null))switch(v){case"value":Y=b;break;case"defaultValue":E=b;break;case"multiple":_=b;default:b!==D&&it(o,c,v,b,p,D)}c=E,h=_,p=W,Y!=null?ia(o,!!h,Y,!1):!!p!=!!h&&(c!=null?ia(o,!!h,c,!0):ia(o,!!h,h?[]:"",!1));return;case"textarea":W=Y=null;for(E in h)if(v=h[E],h.hasOwnProperty(E)&&v!=null&&!p.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:it(o,c,E,null,p,v)}for(_ in p)if(v=p[_],b=h[_],p.hasOwnProperty(_)&&(v!=null||b!=null))switch(_){case"value":Y=v;break;case"defaultValue":W=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&it(o,c,_,v,p,b)}Cx(o,Y,W);return;case"option":for(var ve in h)Y=h[ve],h.hasOwnProperty(ve)&&Y!=null&&!p.hasOwnProperty(ve)&&(ve==="selected"?o.selected=!1:it(o,c,ve,null,p,Y));for(D in p)Y=p[D],W=h[D],p.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null)&&(D==="selected"?o.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":it(o,c,D,Y,p,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in h)Y=h[ke],h.hasOwnProperty(ke)&&Y!=null&&!p.hasOwnProperty(ke)&&it(o,c,ke,null,p,Y);for(U in p)if(Y=p[U],W=h[U],p.hasOwnProperty(U)&&Y!==W&&(Y!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,c));break;default:it(o,c,U,Y,p,W)}return;default:if(Vm(c)){for(var st in h)Y=h[st],h.hasOwnProperty(st)&&Y!==void 0&&!p.hasOwnProperty(st)&&EO(o,c,st,void 0,p,Y);for(J in p)Y=p[J],W=h[J],!p.hasOwnProperty(J)||Y===W||Y===void 0&&W===void 0||EO(o,c,J,Y,p,W);return}}for(var V in h)Y=h[V],h.hasOwnProperty(V)&&Y!=null&&!p.hasOwnProperty(V)&&it(o,c,V,null,p,Y);for(se in p)Y=p[se],W=h[se],!p.hasOwnProperty(se)||Y===W||Y==null&&W==null||it(o,c,se,Y,p,W)}function RC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b5(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var v=h[p],b=v.transferSize,_=v.initiatorType,E=v.duration;if(b&&E&&RC(_)){for(_=0,E=v.responseEnd,p+=1;p<h.length;p++){var D=h[p],U=D.startTime;if(U>E)break;var J=D.transferSize,se=D.initiatorType;J&&RC(se)&&(D=D.responseEnd,_+=J*(D<E?1:(E-U)/(D-U)))}if(--p,c+=8*(b+_)/(v.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var QO=null,PO=null;function Rf(o){return o.nodeType===9?o:o.ownerDocument}function EC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function AO(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var $O=null;function w5(){var o=window.event;return o&&o.type==="popstate"?o===$O?!1:($O=o,!0):($O=null,!1)}var PC=typeof setTimeout=="function"?setTimeout:void 0,x5=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,S5=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(o){return AC.resolve(null).then(o).catch(C5)}:PC;function C5(o){setTimeout(function(){throw o})}function ks(o){return o==="head"}function $C(o,c){var h=c,p=0;do{var v=h.nextSibling;if(o.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"||h==="/&"){if(p===0){o.removeChild(v),Na(c);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Pc(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,Pc(h);for(var b=h.firstChild;b;){var _=b.nextSibling,E=b.nodeName;b[Fl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=_}}else h==="body"&&Pc(o.ownerDocument.body);h=v}while(h);Na(c)}function MC(o,c){var h=o;o=0;do{var p=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=p}while(h)}function MO(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":MO(h),Lm(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function _5(o,c,h,p){for(;o.nodeType===1;){var v=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Fl])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=gr(o.nextSibling),o===null)break}return null}function k5(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=gr(o.nextSibling),o===null))return null;return o}function jC(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=gr(o.nextSibling),o===null))return null;return o}function jO(o){return o.data==="$?"||o.data==="$~"}function NO(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function T5(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function gr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var DO=null;function NC(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return gr(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function DC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function zC(o,c,h){switch(c=Rf(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Pc(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Lm(o)}var Or=new Map,LC=new Set;function Ef(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ii=L.d;L.d={f:R5,r:E5,D:Q5,C:P5,L:A5,m:$5,X:j5,S:M5,M:N5};function R5(){var o=Ii.f(),c=bf();return o||c}function E5(o){var c=ta(o);c!==null&&c.tag===5&&c.type==="form"?n1(c):Ii.r(o)}var $a=typeof document>"u"?null:document;function IC(o,c,h){var p=$a;if(p&&typeof c=="string"&&c){var v=cr(c);v='link[rel="'+o+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),LC.has(v)||(LC.add(v),o={rel:o,crossOrigin:h,href:c},p.querySelector(v)===null&&(c=p.createElement("link"),Wt(c,"link",o),Zt(c),p.head.appendChild(c)))}}function Q5(o){Ii.D(o),IC("dns-prefetch",o,null)}function P5(o,c){Ii.C(o,c),IC("preconnect",o,c)}function A5(o,c,h){Ii.L(o,c,h);var p=$a;if(p&&o&&c){var v='link[rel="preload"][as="'+cr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+cr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+cr(h.imageSizes)+'"]')):v+='[href="'+cr(o)+'"]';var b=v;switch(c){case"style":b=Ma(o);break;case"script":b=ja(o)}Or.has(b)||(o=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Or.set(b,o),p.querySelector(v)!==null||c==="style"&&p.querySelector(Ac(b))||c==="script"&&p.querySelector($c(b))||(c=p.createElement("link"),Wt(c,"link",o),Zt(c),p.head.appendChild(c)))}}function $5(o,c){Ii.m(o,c);var h=$a;if(h&&o){var p=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+cr(p)+'"][href="'+cr(o)+'"]',b=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ja(o)}if(!Or.has(b)&&(o=m({rel:"modulepreload",href:o},c),Or.set(b,o),h.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector($c(b)))return}p=h.createElement("link"),Wt(p,"link",o),Zt(p),h.head.appendChild(p)}}}function M5(o,c,h){Ii.S(o,c,h);var p=$a;if(p&&o){var v=na(p).hoistableStyles,b=Ma(o);c=c||"default";var _=v.get(b);if(!_){var E={loading:0,preload:null};if(_=p.querySelector(Ac(b)))E.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Or.get(b))&&zO(o,h);var D=_=p.createElement("link");Zt(D),Wt(D,"link",o),D._p=new Promise(function(U,J){D.onload=U,D.onerror=J}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qf(_,c,p)}_={type:"stylesheet",instance:_,count:1,state:E},v.set(b,_)}}}function j5(o,c){Ii.X(o,c);var h=$a;if(h&&o){var p=na(h).hoistableScripts,v=ja(o),b=p.get(v);b||(b=h.querySelector($c(v)),b||(o=m({src:o,async:!0},c),(c=Or.get(v))&&LO(o,c),b=h.createElement("script"),Zt(b),Wt(b,"link",o),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(v,b))}}function N5(o,c){Ii.M(o,c);var h=$a;if(h&&o){var p=na(h).hoistableScripts,v=ja(o),b=p.get(v);b||(b=h.querySelector($c(v)),b||(o=m({src:o,async:!0,type:"module"},c),(c=Or.get(v))&&LO(o,c),b=h.createElement("script"),Zt(b),Wt(b,"link",o),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(v,b))}}function XC(o,c,h,p){var v=(v=ce.current)?Ef(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ma(h.href),h=na(v).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Ma(h.href);var b=na(v).hoistableStyles,_=b.get(o);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,_),(b=v.querySelector(Ac(o)))&&!b._p&&(_.instance=b,_.state.loading=5),Or.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Or.set(o,h),b||D5(v,o,h,_.state))),c&&p===null)throw Error(r(528,""));return _}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ja(h),h=na(v).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ma(o){return'href="'+cr(o)+'"'}function Ac(o){return'link[rel="stylesheet"]['+o+"]"}function ZC(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function D5(o,c,h,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Wt(c,"link",h),Zt(c),o.head.appendChild(c))}function ja(o){return'[src="'+cr(o)+'"]'}function $c(o){return"script[async]"+o}function VC(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+cr(h.href)+'"]');if(p)return c.instance=p,Zt(p),p;var v=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Zt(p),Wt(p,"style",v),Qf(p,h.precedence,o),c.instance=p;case"stylesheet":v=Ma(h.href);var b=o.querySelector(Ac(v));if(b)return c.state.loading|=4,c.instance=b,Zt(b),b;p=ZC(h),(v=Or.get(v))&&zO(p,v),b=(o.ownerDocument||o).createElement("link"),Zt(b);var _=b;return _._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Wt(b,"link",p),c.state.loading|=4,Qf(b,h.precedence,o),c.instance=b;case"script":return b=ja(h.src),(v=o.querySelector($c(b)))?(c.instance=v,Zt(v),v):(p=h,(v=Or.get(b))&&(p=m({},h),LO(p,v)),o=o.ownerDocument||o,v=o.createElement("script"),Zt(v),Wt(v,"link",p),o.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,Qf(p,h.precedence,o));return c.instance}function Qf(o,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,b=v,_=0;_<p.length;_++){var E=p[_];if(E.dataset.precedence===c)b=E;else if(b!==v)break}b?b.parentNode.insertBefore(o,b.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function zO(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function LO(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Pf=null;function BC(o,c,h){if(Pf===null){var p=new Map,v=Pf=new Map;v.set(h,p)}else v=Pf,p=v.get(h),p||(p=new Map,v.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),v=0;v<h.length;v++){var b=h[v];if(!(b[Fl]||b[Ut]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(c)||"";_=o+_;var E=p.get(_);E?E.push(b):p.set(_,[b])}}return p}function qC(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function z5(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(o=c.disabled,typeof c.precedence=="string"&&o==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function UC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function L5(o,c,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var v=Ma(p.href),b=c.querySelector(Ac(v));if(b){c=b._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Af.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=b,Zt(b);return}b=c.ownerDocument||c,p=ZC(p),(v=Or.get(v))&&zO(p,v),b=b.createElement("link"),Zt(b);var _=b;_._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Wt(b,"link",p),h.instance=b}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Af.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var IO=0;function I5(o,c){return o.stylesheets&&o.count===0&&Mf(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var p=setTimeout(function(){if(o.stylesheets&&Mf(o,o.stylesheets),o.unsuspend){var b=o.unsuspend;o.unsuspend=null,b()}},6e4+c);0<o.imgBytes&&IO===0&&(IO=62500*b5());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Mf(o,o.stylesheets),o.unsuspend)){var b=o.unsuspend;o.unsuspend=null,b()}},(o.imgBytes>IO?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var $f=null;function Mf(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,$f=new Map,c.forEach(X5,o),$f=null,Af.call(o))}function X5(o,c){if(!(c.state.loading&4)){var h=$f.get(o);if(h)var p=h.get(null);else{h=new Map,$f.set(o,h);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var _=v[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(h.set(_.dataset.precedence,_),p=_)}p&&h.set(null,p)}v=c.instance,_=v.getAttribute("data-precedence"),b=h.get(_)||p,b===p&&h.set(null,v),h.set(_,v),this.count++,p=Af.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),b?b.parentNode.insertBefore(v,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),c.state.loading|=4}}var Mc={$$typeof:R,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Z5(o,c,h,p,v,b,_,E,D){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.hiddenUpdates=jm(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function YC(o,c,h,p,v,b,_,E,D,U,J,se){return o=new Z5(o,c,h,_,D,U,J,se,E),c=1,b===!0&&(c|=24),b=In(3,null,null,c),o.current=b,b.stateNode=o,c=yg(),c.refCount++,o.pooledCache=c,c.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:c},Sg(b),o}function GC(o){return o?(o=fa,o):fa}function FC(o,c,h,p,v,b){v=GC(v),p.context===null?p.context=v:p.pendingContext=v,p=ms(c),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=gs(o,p,c),h!==null&&(_n(h,o,c),fc(h,o,c))}function WC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function XO(o,c){WC(o,c),(o=o.alternate)&&WC(o,c)}function HC(o){if(o.tag===13||o.tag===31){var c=po(o,67108864);c!==null&&_n(c,o,67108864),XO(o,67108864)}}function KC(o){if(o.tag===13||o.tag===31){var c=qn();c=Nm(c);var h=po(o,c);h!==null&&_n(h,o,c),XO(o,c)}}var jf=!0;function V5(o,c,h,p){var v=I.T;I.T=null;var b=L.p;try{L.p=2,ZO(o,c,h,p)}finally{L.p=b,I.T=v}}function B5(o,c,h,p){var v=I.T;I.T=null;var b=L.p;try{L.p=8,ZO(o,c,h,p)}finally{L.p=b,I.T=v}}function ZO(o,c,h,p){if(jf){var v=VO(p);if(v===null)RO(o,c,p,Nf,h),e_(o,p);else if(U5(v,o,c,h,p))p.stopPropagation();else if(e_(o,p),c&4&&-1<q5.indexOf(o)){for(;v!==null;){var b=ta(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=lo(b.pendingLanes);if(_!==0){var E=b;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var D=1<<31-zn(_);E.entanglements[1]|=D,_&=~D}Kr(b),(He&6)===0&&(vf=Nn()+500,Rc(0))}}break;case 31:case 13:E=po(b,2),E!==null&&_n(E,b,2),bf(),XO(b,2)}if(b=VO(p),b===null&&RO(o,c,p,Nf,h),b===v)break;v=b}v!==null&&p.stopPropagation()}else RO(o,c,p,null,h)}}function VO(o){return o=qm(o),BO(o)}var Nf=null;function BO(o){if(Nf=null,o=ea(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===31){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Nf=o,null}function JC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QN()){case ax:return 2;case lx:return 8;case Ch:case PN:return 32;case cx:return 268435456;default:return 32}default:return 32}}var qO=!1,Ts=null,Rs=null,Es=null,jc=new Map,Nc=new Map,Qs=[],q5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(o,c){switch(o){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":jc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(c.pointerId)}}function Dc(o,c,h,p,v,b){return o===null||o.nativeEvent!==b?(o={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[v]},c!==null&&(c=ta(c),c!==null&&HC(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),o)}function U5(o,c,h,p,v){switch(c){case"focusin":return Ts=Dc(Ts,o,c,h,p,v),!0;case"dragenter":return Rs=Dc(Rs,o,c,h,p,v),!0;case"mouseover":return Es=Dc(Es,o,c,h,p,v),!0;case"pointerover":var b=v.pointerId;return jc.set(b,Dc(jc.get(b)||null,o,c,h,p,v)),!0;case"gotpointercapture":return b=v.pointerId,Nc.set(b,Dc(Nc.get(b)||null,o,c,h,p,v)),!0}return!1}function t_(o){var c=ea(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,mx(o.priority,function(){KC(h)});return}}else if(c===31){if(c=l(h),c!==null){o.blockedOn=c,mx(o.priority,function(){KC(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Df(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=VO(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);Bm=p,h.target.dispatchEvent(p),Bm=null}else return c=ta(h),c!==null&&HC(c),o.blockedOn=h,!1;c.shift()}return!0}function n_(o,c,h){Df(o)&&h.delete(c)}function Y5(){qO=!1,Ts!==null&&Df(Ts)&&(Ts=null),Rs!==null&&Df(Rs)&&(Rs=null),Es!==null&&Df(Es)&&(Es=null),jc.forEach(n_),Nc.forEach(n_)}function zf(o,c){o.blockedOn===c&&(o.blockedOn=null,qO||(qO=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y5)))}var Lf=null;function r_(o){Lf!==o&&(Lf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lf===o&&(Lf=null);for(var c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],v=o[c+2];if(typeof p!="function"){if(BO(p||h)===null)continue;break}var b=ta(h);b!==null&&(o.splice(c,3),c-=3,Vg(b,{pending:!0,data:v,method:h.method,action:p},p,v))}}))}function Na(o){function c(D){return zf(D,o)}Ts!==null&&zf(Ts,o),Rs!==null&&zf(Rs,o),Es!==null&&zf(Es,o),jc.forEach(c),Nc.forEach(c);for(var h=0;h<Qs.length;h++){var p=Qs[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Qs.length&&(h=Qs[0],h.blockedOn===null);)t_(h),h.blockedOn===null&&Qs.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var v=h[p],b=h[p+1],_=v[yn]||null;if(typeof b=="function")_||r_(h);else if(_){var E=null;if(b&&b.hasAttribute("formAction")){if(v=b,_=b[yn]||null)E=_.formAction;else if(BO(v)!==null)continue}else E=_.action;typeof E=="function"?h[p+1]=E:(h.splice(p,3),p-=3),r_(h)}}}function i_(){function o(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function UO(o){this._internalRoot=o}If.prototype.render=UO.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,p=qn();FC(h,p,o,c,null,null)},If.prototype.unmount=UO.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;FC(o.current,2,null,o,null,null),bf(),c[Jo]=null}};function If(o){this._internalRoot=o}If.prototype.unstable_scheduleHydration=function(o){if(o){var c=px();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Qs.length&&c!==0&&c<Qs[h].priority;h++);Qs.splice(h,0,o),h===0&&t_(o)}};var s_=e.version;if(s_!=="19.2.3")throw Error(r(527,s_,"19.2.3"));L.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var G5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Ul=Xf.inject(G5),Dn=Xf}catch{}}return Lc.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,p="",v=f1,b=d1,_=p1;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(b=c.onCaughtError),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=YC(o,1,!1,null,null,h,p,null,v,b,_,i_),o[Jo]=c.current,TO(o),new UO(c)},Lc.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var p=!1,v="",b=f1,_=d1,E=p1,D=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(_=h.onCaughtError),h.onRecoverableError!==void 0&&(E=h.onRecoverableError),h.formState!==void 0&&(D=h.formState)),c=YC(o,1,!0,c,h??null,p,v,D,b,_,E,i_),c.context=GC(null),h=c.current,p=qn(),p=Nm(p),v=ms(p),v.callback=null,gs(h,v,p),h=p,c.current.lanes=h,Gl(c,h),Kr(c),o[Jo]=c.current,TO(o),new If(c)},Lc.version="19.2.3",Lc}var m_;function i3(){if(m_)return FO.exports;m_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),FO.exports=r3(),FO.exports}var s3=i3(),Ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},o3={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},a3=class{#e=o3;#n=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},by=new a3;function l3(t){setTimeout(t,0)}var Np=typeof window>"u"||"Deno"in globalThis;function vr(){}function c3(t,e){return typeof t=="function"?t(e):t}function u3(t){return typeof t=="number"&&t>=0&&t!==1/0}function h3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function wy(t,e){return typeof t=="function"?t(e):t}function f3(t,e){return typeof t=="function"?t(e):t}function g_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==rb(a,e.options))return!1}else if(!bu(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function O_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Vo(e.options.mutationKey)!==Vo(s))return!1}else if(!bu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function rb(t,e){return(e?.queryKeyHashFn||Vo)(t)}function Vo(t){return JSON.stringify(t,(e,n)=>xy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bu(t[n],e[n])):!1}var d3=Object.prototype.hasOwnProperty;function wE(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=v_(t)&&v_(e);if(!r&&!(xy(t)&&xy(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),l=a.length,u=r?new Array(l):{};let f=0;for(let d=0;d<l;d++){const m=r?d:a[d],g=t[m],O=e[m];if(g===O){u[m]=g,(r?d<s:d3.call(t,m))&&f++;continue}if(g===null||O===null||typeof g!="object"||typeof O!="object"){u[m]=O;continue}const x=wE(g,O,n+1);u[m]=x,x===g&&f++}return s===l&&f===s?t:u}function p3(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function v_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xy(t){if(!y_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y_(t){return Object.prototype.toString.call(t)==="[object Object]"}function m3(t){return new Promise(e=>{by.setTimeout(e,t)})}function g3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wE(t,e):e}function O3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function v3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ib=Symbol();function xE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ib?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function y3(t,e){return typeof t=="function"?t(...e):!!t}function b3(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var w3=class extends Ku{#e;#n;#t;constructor(){super(),this.#t=t=>{if(!Np&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},SE=new w3;function x3(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var S3=l3;function C3(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=S3;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var tn=C3(),_3=class extends Ku{#e=!0;#n;#t;constructor(){super(),this.#t=t=>{if(!Np&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Bd=new _3;function k3(t){return Math.min(1e3*2**t,3e4)}function CE(t){return(t??"online")==="online"?Bd.isOnline():!0}var Sy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function _E(t){let e=!1,n=0,r;const i=x3(),s=()=>i.status!=="pending",a=S=>{if(!s()){const C=new Sy(S);g(C),t.onCancel?.(C)}},l=()=>{e=!0},u=()=>{e=!1},f=()=>SE.isFocused()&&(t.networkMode==="always"||Bd.isOnline())&&t.canRun(),d=()=>CE(t.networkMode)&&t.canRun(),m=S=>{s()||(r?.(),i.resolve(S))},g=S=>{s()||(r?.(),i.reject(S))},O=()=>new Promise(S=>{r=C=>{(s()||f())&&S(C)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),x=()=>{if(s())return;let S;const C=n===0?t.initialPromise:void 0;try{S=C??t.fn()}catch(k){S=Promise.reject(k)}Promise.resolve(S).then(m).catch(k=>{if(s())return;const T=t.retry??(Np?0:3),R=t.retryDelay??k3,Q=typeof R=="function"?R(n,k):R,A=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,k);if(e||!A){g(k);return}n++,t.onFail?.(n,k),m3(Q).then(()=>f()?void 0:O()).then(()=>{e?g(k):x()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?x():O().then(x),i)}}var kE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),u3(this.gcTime)&&(this.#e=by.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Np?1/0:300*1e3))}clearGcTimeout(){this.#e&&(by.clearTimeout(this.#e),this.#e=void 0)}},T3=class extends kE{#e;#n;#t;#i;#r;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#t=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=w_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=w_(this.options);e.data!==void 0&&(this.setState(b_(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const n=g3(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>f3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ib||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!h3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const l=xE(this.options,e),f=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#a=!1,this.options.persister?this.options.persister(l,f,this):l(f)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=_E({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof Sy&&l.revert&&this.setState({...this.#n,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#t.config.onSuccess?.(l,this),this.#t.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Sy){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#t.config.onError?.(l,this),this.#t.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R3(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...b_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),tn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function R3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function b_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function w_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function x_(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const f=async()=>{let d=!1;const m=x=>{b3(x,()=>e.signal,()=>d=!0)},g=xE(e.options,e.fetchOptions),O=async(x,S,C)=>{if(d)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const $={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return m($),$})(),R=await g(T),{maxPages:Q}=e.options,A=C?v3:O3;return{pages:A(x.pages,R,Q),pageParams:A(x.pageParams,S,Q)}};if(i&&s.length){const x=i==="backward",S=x?E3:S_,C={pages:s,pageParams:a},k=S(r,C);l=await O(C,k,x)}else{const x=t??s.length;do{const S=u===0?a[0]??r.initialPageParam:S_(r,l);if(u>0&&S==null)break;l=await O(l,S),u++}while(u<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function S_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function E3(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Q3=class extends kE{#e;#n;#t;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#n=[],this.state=t.state||TE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#n.includes(t)||(this.#n.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#n=this.#n.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=_E({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#t.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{await this.#t.config.onError?.(s,t,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(s,t,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,s,t,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:s}),s}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),tn.batch(()=>{this.#n.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function TE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var P3=class extends Ku{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(t,e,n){const r=new Q3({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Zf(t);if(typeof e=="string"){const n=this.#n.get(e);n?n.push(t):this.#n.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Zf(t);if(typeof e=="string"){const n=this.#n.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#n.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Zf(t);if(typeof e=="string"){const r=this.#n.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Zf(t);return typeof e=="string"?this.#n.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){tn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>O_(e,n))}findAll(t={}){return this.getAll().filter(e=>O_(t,e))}notify(t){tn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return tn.batch(()=>Promise.all(t.map(e=>e.continue().catch(vr))))}};function Zf(t){return t.options.scope?.id}var A3=class extends Ku{#e;#n=void 0;#t;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),p3(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),n?.mutationKey&&this.options.mutationKey&&Vo(n.mutationKey)!==Vo(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#n}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#o()}mutate(e,n){return this.#i=n,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){const e=this.#t?.state??TE();this.#n={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){tn.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#n.variables,r=this.#n.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(e.data,null,n,r,i)}catch(s){Promise.reject(s)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,n,r,i)}catch(s){Promise.reject(s)}try{this.#i.onSettled?.(void 0,e.error,n,r,i)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#n)})})}},$3=class extends Ku{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??rb(r,e);let s=this.get(i);return s||(s=new T3({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>g_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>g_(t,n)):e}notify(t){tn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},M3=class{#e;#n;#t;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new $3,this.#n=t.mutationCache||new P3,this.#t=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=SE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(wy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=c3(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return tn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(t,e={}){return tn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(vr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(wy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=x_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=x_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bd.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#i.set(Vo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{bu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Vo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{bu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ib&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},RE=w.createContext(void 0),j3=t=>{const e=w.useContext(RE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},N3=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(RE.Provider,{value:t,children:e}));function Jn(t,e){const n=j3(),[r]=w.useState(()=>new A3(n,t));w.useEffect(()=>{r.setOptions(t)},[r,t]);const i=w.useSyncExternalStore(w.useCallback(a=>r.subscribe(tn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=w.useCallback((a,l)=>{r.mutate(a,l).catch(vr)},[r]);if(i.error&&y3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var C_="popstate";function D3(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return Cy("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wu(i)}return L3(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z3(){return Math.random().toString(36).substring(2,10)}function __(t,e){return{usr:t.state,key:t.key,idx:e}}function Cy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||r||z3()}}function wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function L3(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,f=d();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function d(){return(a.state||{idx:null}).idx}function m(){l="POP";let C=d(),k=C==null?null:C-f;f=C,u&&u({action:l,location:S.location,delta:k})}function g(C,k){l="PUSH";let T=Cy(S.location,C,k);f=d()+1;let R=__(T,f),Q=S.createHref(T);try{a.pushState(R,"",Q)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(Q)}s&&u&&u({action:l,location:S.location,delta:1})}function O(C,k){l="REPLACE";let T=Cy(S.location,C,k);f=d();let R=__(T,f),Q=S.createHref(T);a.replaceState(R,"",Q),s&&u&&u({action:l,location:S.location,delta:0})}function x(C){return I3(C)}let S={get action(){return l},get location(){return t(i,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(C_,m),u=C,()=>{i.removeEventListener(C_,m),u=null}},createHref(C){return e(i,C)},createURL:x,encodeLocation(C){let k=x(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:O,go(C){return a.go(C)}};return S}function I3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EE(t,e,n="/"){return X3(t,e,n,!1)}function X3(t,e,n,r){let i=typeof e=="string"?Al(e):e,s=Ki(i.pathname||"/",n);if(s==null)return null;let a=QE(t);Z3(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=J3(s);l=H3(a[u],f,r)}return l}function QE(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=Gi([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),QE(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:F3(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of PE(a.path))s(a,l,!0,u)}),e}function PE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=PE(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Z3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var V3=/^:[\w-]+$/,B3=3,q3=2,U3=1,Y3=10,G3=-2,k_=t=>t==="*";function F3(t,e){let n=t.split("/"),r=n.length;return n.some(k_)&&(r+=G3),e&&(r+=q3),n.filter(i=>!k_(i)).reduce((i,s)=>i+(V3.test(s)?B3:s===""?U3:Y3),r)}function W3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function H3(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=qd({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=qd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Gi([s,m.pathname]),pathnameBase:rz(Gi([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Gi([s,m.pathnameBase]))}return a}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let x=l[g]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const O=l[g];return m&&!O?f[d]=void 0:f[d]=(O||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function K3(t,e=!1,n=!0){Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ez=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function tz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Al(t):t,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=T_(n.substring(1),"/"):s=T_(n,e)):s=e,{pathname:s,search:iz(r),hash:sz(i)}}function T_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function JO(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sb(t){let e=nz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ob(t,e,n,r=!1){let i;typeof t=="string"?i=Al(t):(i={...t},bt(!i.pathname||!i.pathname.includes("?"),JO("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),JO("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),JO("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=tz(i,l),f=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Gi=t=>t.join("/").replace(/\/\/+/g,"/"),rz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,oz=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function az(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lz(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $E(t,e){let n=t;if(typeof n!="string"||!ez.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(AE)try{let s=new URL(window.location.href),a=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=Ki(a.pathname,e);a.origin===s.origin&&l!=null?n=l+a.search+a.hash:i=!0}catch{Xr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var cz=["GET",...ME];new Set(cz);var $l=w.createContext(null);$l.displayName="DataRouter";var Dp=w.createContext(null);Dp.displayName="DataRouterState";var uz=w.createContext(!1),jE=w.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var hz=w.createContext(new Map);hz.displayName="Fetchers";var fz=w.createContext(null);fz.displayName="Await";var or=w.createContext(null);or.displayName="Navigation";var Ju=w.createContext(null);Ju.displayName="Location";var Rr=w.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var ab=w.createContext(null);ab.displayName="RouteError";var NE="REACT_ROUTER_ERROR",dz="REDIRECT",pz="ROUTE_ERROR_RESPONSE";function mz(t){if(t.startsWith(`${NE}:${dz}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gz(t){if(t.startsWith(`${NE}:${pz}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oz(e.status,e.statusText,e.data)}catch{}}function Oz(t,{relative:e}={}){bt(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(or),{hash:i,pathname:s,search:a}=eh(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Gi([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Ml(){return w.useContext(Ju)!=null}function Oi(){return bt(Ml(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ju).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zE(t){w.useContext(or).static||w.useLayoutEffect(t)}function ro(){let{isDataRoute:t}=w.useContext(Rr);return t?$z():vz()}function vz(){bt(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext($l),{basename:e,navigator:n}=w.useContext(or),{matches:r}=w.useContext(Rr),{pathname:i}=Oi(),s=JSON.stringify(sb(r)),a=w.useRef(!1);return zE(()=>{a.current=!0}),w.useCallback((u,f={})=>{if(Xr(a.current,DE),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ob(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gi([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,s,i,t])}var yz=w.createContext(null);function bz(t){let e=w.useContext(Rr).outlet;return w.useMemo(()=>e&&w.createElement(yz.Provider,{value:t},e),[e,t])}function wz(){let{matches:t}=w.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function eh(t,{relative:e}={}){let{matches:n}=w.useContext(Rr),{pathname:r}=Oi(),i=JSON.stringify(sb(n));return w.useMemo(()=>ob(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function xz(t,e){return LE(t,e)}function LE(t,e,n,r,i){bt(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(or),{matches:a}=w.useContext(Rr),l=a[a.length-1],u=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let T=m&&m.path||"";XE(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Oi(),O;if(e){let T=typeof e=="string"?Al(e):e;bt(d==="/"||T.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),O=T}else O=g;let x=O.pathname||"/",S=x;if(d!=="/"){let T=d.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=EE(t,{pathname:S});Xr(m||C!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Xr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Tz(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Gi([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Gi([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,n,r,i);return e&&k?w.createElement(Ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},k):k}function Sz(){let t=Az(),e=az(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,a)}var Cz=w.createElement(Sz,null),IE=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gz(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Rr.Provider,{value:this.props.routeContext},w.createElement(ab.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(_z,{error:t},e):e}};IE.contextType=uz;var ev=new WeakMap;function _z({children:t,error:e}){let{basename:n}=w.useContext(or);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=mz(e.digest);if(r){let i=ev.get(e);if(i)throw i;let s=$E(r.location,n);if(AE&&!ev.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw ev.set(e,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function kz({routeContext:t,match:e,children:n}){let r=w.useContext($l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Rr.Provider,{value:t},n)}function Tz(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:O}=n,x=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!O||O[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let f=n&&r?(d,m)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:lz(n.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let O,x=!1,S=null,C=null;n&&(O=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||Cz,l&&(u<0&&g===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,C=null):u===g&&(x=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,g+1)),T=()=>{let R;return O?R=S:x?R=C:m.route.Component?R=w.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,w.createElement(kz,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(IE,{location:n.location,revalidation:n.revalidation,component:S,error:O,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):T()},null)}function lb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rz(t){let e=w.useContext($l);return bt(e,lb(t)),e}function Ez(t){let e=w.useContext(Dp);return bt(e,lb(t)),e}function Qz(t){let e=w.useContext(Rr);return bt(e,lb(t)),e}function cb(t){let e=Qz(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Pz(){return cb("useRouteId")}function Az(){let t=w.useContext(ab),e=Ez("useRouteError"),n=cb("useRouteError");return t!==void 0?t:e.errors?.[n]}function $z(){let{router:t}=Rz("useNavigate"),e=cb("useNavigate"),n=w.useRef(!1);return zE(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{Xr(n.current,DE),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var R_={};function XE(t,e,n){!e&&!R_[t]&&(R_[t]=!0,Xr(!1,n))}w.memo(Mz);function Mz({routes:t,future:e,state:n,onError:r}){return LE(t,void 0,n,r,e)}function jz({to:t,replace:e,state:n,relative:r}){bt(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(or);Xr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Rr),{pathname:a}=Oi(),l=ro(),u=ob(t,sb(s),a,r==="path"),f=JSON.stringify(u);return w.useEffect(()=>{l(JSON.parse(f),{replace:e,state:n,relative:r})},[l,f,r,e,n]),null}function ZE(t){return bz(t.context)}function Vi(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){bt(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[l,i,s,a]);typeof n=="string"&&(n=Al(n));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:O="default"}=n,x=w.useMemo(()=>{let S=Ki(f,l);return S==null?null:{location:{pathname:S,search:d,hash:m,state:g,key:O},navigationType:r}},[l,f,d,m,g,O,r]);return Xr(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(or.Provider,{value:u},w.createElement(Ju.Provider,{children:e,value:x}))}function Dz({children:t,location:e}){return xz(_y(t),e)}function _y(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,_y(r.props.children,s));return}bt(r.type===Vi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_y(r.props.children,s)),n.push(a)}),n}var kd="get",Td="application/x-www-form-urlencoded";function zp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zz(t){return zp(t)&&t.tagName.toLowerCase()==="button"}function Lz(t){return zp(t)&&t.tagName.toLowerCase()==="form"}function Iz(t){return zp(t)&&t.tagName.toLowerCase()==="input"}function Xz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zz(t,e){return t.button===0&&(!e||e==="_self")&&!Xz(t)}var Vf=null;function Vz(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var Bz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tv(t){return t!=null&&!Bz.has(t)?(Xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):t}function qz(t,e){let n,r,i,s,a;if(Lz(t)){let l=t.getAttribute("action");r=l?Ki(l,e):null,n=t.getAttribute("method")||kd,i=tv(t.getAttribute("enctype"))||Td,s=new FormData(t)}else if(zz(t)||Iz(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ki(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||kd,i=tv(t.getAttribute("formenctype"))||tv(l.getAttribute("enctype"))||Td,s=new FormData(l,t),!Vz()){let{name:f,type:d,value:m}=t;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(zp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kd,r=null,i=Td,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ub(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uz(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ki(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Yz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Fz(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Yz(s,n);return a.links?a.links():[]}return[]}));return Jz(r.flat(1).filter(Gz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E_(t,e,n,r,i,s){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,f)=>a(u,f)||l(u,f)):s==="data"?e.filter((u,f)=>{let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Wz(t,e,{includeHydrateFallback:n}={}){return Hz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Hz(t){return[...new Set(t)]}function Kz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jz(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Kz(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function VE(){let t=w.useContext($l);return ub(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eL(){let t=w.useContext(Dp);return ub(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hb=w.createContext(void 0);hb.displayName="FrameworkContext";function BE(){let t=w.useContext(hb);return ub(t,"You must render this element inside a <HydratedRouter> element"),t}function tL(t,e){let n=w.useContext(hb),[r,i]=w.useState(!1),[s,a]=w.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=w.useRef(null);w.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=k=>{k.forEach(T=>{a(T.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let O=()=>{i(!0)},x=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Ic(l,O),onBlur:Ic(u,x),onMouseEnter:Ic(f,O),onMouseLeave:Ic(d,x),onTouchStart:Ic(m,O)}]:[!1,g,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nL({page:t,...e}){let{router:n}=VE(),r=w.useMemo(()=>EE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(iL,{page:t,matches:r,...e}):null}function rL(t){let{manifest:e,routeModules:n}=BE(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return Fz(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function iL({page:t,matches:e,...n}){let r=Oi(),{future:i,manifest:s,routeModules:a}=BE(),{basename:l}=VE(),{loaderData:u,matches:f}=eL(),d=w.useMemo(()=>E_(t,e,f,s,r,"data"),[t,e,f,s,r]),m=w.useMemo(()=>E_(t,e,f,s,r,"assets"),[t,e,f,s,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,C=!1;if(e.forEach(T=>{let R=s.routes[T.route.id];!R||!R.hasLoader||(!d.some(Q=>Q.route.id===T.route.id)&&T.route.id in u&&a[T.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:S.add(T.route.id))}),S.size===0)return[];let k=Uz(t,l,i.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&k.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[k.pathname+k.search]},[l,i.unstable_trailingSlashAwareDataRequests,u,r,s,d,e,t,a]),O=w.useMemo(()=>Wz(m,s),[m,s]),x=rL(m);return w.createElement(w.Fragment,null,g.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),O.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:C})=>w.createElement("link",{key:S,nonce:n.nonce,...C,crossOrigin:C.crossOrigin??n.crossOrigin})))}function sL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oL&&(window.__reactRouterVersion="7.13.0")}catch{}function aL({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=D3({window:r,v5Compat:!0}));let s=i.current,[a,l]=w.useState({action:s.action,location:s.location}),u=w.useCallback(f=>{n===!1?l(f):w.startTransition(()=>l(f))},[n]);return w.useLayoutEffect(()=>s.listen(u),[s,u]),w.createElement(Nz,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UE=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...O},x){let{basename:S,unstable_useTransitions:C}=w.useContext(or),k=typeof f=="string"&&qE.test(f),T=$E(f,S);f=T.to;let R=Oz(f,{relative:i}),[Q,A,$]=tL(r,O),P=hL(f,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function Z(ee){e&&e(ee),ee.defaultPrevented||P(ee)}let B=w.createElement("a",{...O,...$,href:T.absoluteURL||R,onClick:T.isExternal||s?e:Z,ref:sL(x,A),target:u,"data-discover":!k&&n==="render"?"true":void 0});return Q&&!k?w.createElement(w.Fragment,null,B,w.createElement(nL,{page:R})):B});UE.displayName="Link";var lL=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...f},d){let m=eh(a,{relative:f.relative}),g=Oi(),O=w.useContext(Dp),{navigator:x,basename:S}=w.useContext(or),C=O!=null&&gL(m)&&l===!0,k=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,T=g.pathname,R=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,k=k.toLowerCase()),R&&S&&(R=Ki(R,S)||R);const Q=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=T===k||!i&&T.startsWith(k)&&T.charAt(Q)==="/",$=R!=null&&(R===k||!i&&R.startsWith(k)&&R.charAt(k.length)==="/"),P={isActive:A,isPending:$,isTransitioning:C},Z=A?e:void 0,B;typeof r=="function"?B=r(P):B=[r,A?"active":null,$?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof s=="function"?s(P):s;return w.createElement(UE,{...f,"aria-current":Z,className:B,ref:d,style:ee,to:a,viewTransition:l},typeof u=="function"?u(P):u)});lL.displayName="NavLink";var cL=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=kd,action:l,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g,...O},x)=>{let{unstable_useTransitions:S}=w.useContext(or),C=pL(),k=mL(l,{relative:f}),T=a.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&qE.test(l),Q=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,P=$?.getAttribute("formmethod")||a,Z=()=>C($||A.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:g});S&&n!==!1?w.startTransition(()=>Z()):Z()};return w.createElement("form",{ref:x,method:T,action:k,onSubmit:r?u:Q,...O,"data-discover":!R&&t==="render"?"true":void 0})});cL.displayName="Form";function uL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(t){let e=w.useContext($l);return bt(e,uL(t)),e}function hL(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let f=ro(),d=Oi(),m=eh(t,{relative:s});return w.useCallback(g=>{if(Zz(g,e)){g.preventDefault();let O=n!==void 0?n:wu(d)===wu(m),x=()=>f(t,{replace:O,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:l});u?w.startTransition(()=>x()):x()}},[d,f,m,n,r,e,t,i,s,a,l,u])}var fL=0,dL=()=>`__${String(++fL)}__`;function pL(){let{router:t}=YE("useSubmit"),{basename:e}=w.useContext(or),n=Pz(),r=t.fetch,i=t.navigate;return w.useCallback(async(s,a={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=qz(s,e);if(a.navigate===!1){let g=a.fetcherKey||dL();await r(g,n,a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await i(a.action||l,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function mL(t,{relative:e}={}){let{basename:n}=w.useContext(or),r=w.useContext(Rr);bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...eh(t||".",{relative:e})},a=Oi();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Gi([n,s.pathname])),wu(s)}function gL(t,{relative:e}={}){let n=w.useContext(jE);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YE("useViewTransitionState"),i=eh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qd(i.pathname,a)!=null||qd(i.pathname,s)!=null}var Fi=bE();const OL=yE(Fi);function GE({clientId:t,scope:e,callback:n}){const r=window.google?.accounts?.oauth2;if(!r?.initTokenClient)throw new Error("Google Identity Services not loaded.");const i=async s=>{if(s.error||!s.access_token){n(s);return}try{const a=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${s.access_token}`}});if(a.ok){const l=await a.json();n({...s,email:l.email,displayName:l.name,avatarUrl:l.picture})}else{const l=await a.json();console.error("Dtails erreur Google UserInfo:",l),n(s)}}catch(a){console.error("Erreur lors de la rcupration de l'email:",a),n(s)}};return r.initTokenClient({client_id:t,scope:e,callback:i})}var ri=function(){return ri=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ri.apply(this,arguments)};function jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vL(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{f(r.next(d))}catch(m){a(m)}}function u(d){try{f(r.throw(d))}catch(m){a(m)}}function f(d){d.done?s(d.value):i(d.value).then(l,u)}f((r=r.apply(t,e||[])).next())})}function yL(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const bL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class wL extends fb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q_ extends fb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class P_ extends fb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ky;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ky||(ky={}));class xL{constructor(e,{headers:n={},customFetch:r,region:i=ky.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=bL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return vL(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:l,method:u,body:f,signal:d,timeout:m}=r;let g={},{region:O}=r;O||(O=this.region);const x=new URL(`${this.url}/${n}`);O&&O!=="any"&&(g["x-region"]=O,x.searchParams.set("forceFunctionRegion",O));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(g["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(g["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let C=d;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),d?(C=a.signal,d.addEventListener("abort",()=>a.abort())):C=a.signal);const k=yield this.fetch(x.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:S,signal:C}).catch(A=>{throw new wL(A)}),T=k.headers.get("x-relay-error");if(T&&T==="true")throw new Q_(k);if(!k.ok)throw new P_(k);let R=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),Q;return R==="application/json"?Q=yield k.json():R==="application/octet-stream"||R==="application/pdf"?Q=yield k.blob():R==="text/event-stream"?Q=k:R==="multipart/form-data"?Q=yield k.formData():Q=yield k.text(),{data:Q,error:null,response:k}}catch(l){return{data:null,error:l,response:l instanceof P_||l instanceof Q_?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var SL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},CL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,l=null,u=null,f=s.status,d=s.statusText;if(s.ok){var m,g;if(n.method!=="HEAD"){var O;const k=await s.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((O=n.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?l=k:l=JSON.parse(k))}const S=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),C=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&C&&C.length>1&&(u=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,f=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const S=await s.text();try{a=JSON.parse(S),Array.isArray(a)&&s.status===404&&(l=[],a=null,f=200,d="OK")}catch{s.status===404&&S===""?(f=204,d="No Content"):a={message:S}}if(a&&n.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,f=200,d="OK"),a&&n.shouldThrowOnError)throw new SL(a)}return{error:a,data:l,count:u,status:f,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let l="";const u=s?.cause;if(u){var f,d,m,g;const x=(f=u?.message)!==null&&f!==void 0?f:"",S=(d=u?.code)!==null&&d!==void 0?d:"";l=`${(m=s?.name)!==null&&m!==void 0?m:"FetchError"}: ${s?.message}`,l+=`

Caused by: ${(g=u?.name)!==null&&g!==void 0?g:"Error"}: ${x}`,S&&(l+=` (${S})`),u?.stack&&(l+=`
${u.stack}`)}else{var O;l=(O=s?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},_L=class extends CL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const A_=new RegExp("[,()]");var Ya=class extends _L{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&A_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&A_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},kL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",a),r&&u.append("Prefer",`count=${r}`),new Ya({method:i,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);s.searchParams.set("columns",u.join(","))}}return new Ya({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&l.searchParams.set("on_conflict",e),r&&u.append("Prefer",`count=${r}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(f.length>0){const d=[...new Set(f)].map(m=>`"${m}"`);l.searchParams.set("columns",d.join(","))}}return new Ya({method:a,url:l,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ya({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ya({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},TL=class FE{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new FE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let l;const u=new URL(`${this.url}/rpc/${e}`);let f;const d=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(d)),m=r&&Object.values(n).some(d);m?(l="POST",f=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([O,x])=>x!==void 0).map(([O,x])=>[O,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([O,x])=>{u.searchParams.append(O,x)})):(l="POST",f=n);const g=new Headers(this.headers);return m?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new Ya({method:l,url:u,headers:g,schema:this.schemaName,body:f,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class RL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const EL="2.91.0",QL=`realtime-js/${EL}`,PL="1.0.0",WE="2.0.0",$_=WE,Ty=1e4,AL=1e3,$L=100;var Ns;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ns||(Ns={}));var Lt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Lt||(Lt={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var Ry;(function(t){t.websocket="websocket"})(Ry||(Ry={}));var Ao;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ao||(Ao={}));class ML{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",u=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+f.length+m.length,O=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(O),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,u.length),x.setUint8(S++,l.length),x.setUint8(S++,a.length),x.setUint8(S++,f.length),x.setUint8(S++,m.length),x.setUint8(S++,n),Array.from(u,k=>x.setUint8(S++,k.charCodeAt(0))),Array.from(l,k=>x.setUint8(S++,k.charCodeAt(0))),Array.from(a,k=>x.setUint8(S++,k.charCodeAt(0))),Array.from(f,k=>x.setUint8(S++,k.charCodeAt(0))),Array.from(m,k=>x.setUint8(S++,k.charCodeAt(0)));var C=new Uint8Array(O.byteLength+r.byteLength);return C.set(new Uint8Array(O),0),C.set(new Uint8Array(r),O.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,l,u]=r;return n({join_ref:i,ref:s,topic:a,event:l,payload:u})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(e.slice(u,u+i));u=u+i;const d=r.decode(e.slice(u,u+s));u=u+s;const m=r.decode(e.slice(u,u+a));u=u+a;const g=e.slice(u,e.byteLength),O=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,x={type:this.BROADCAST_EVENT,event:d,payload:O};return a>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class HE{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ht||(ht={}));const M_=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=jL(a,t,e,i),s),{}):{}},jL=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?KE(s,a):Ey(a)},KE=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return LL(e,n)}switch(t){case ht.bool:return NL(e);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return DL(e);case ht.json:case ht.jsonb:return zL(e);case ht.timestamp:return IL(e);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Ey(e);default:return Ey(e)}},Ey=t=>t,NL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},zL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},LL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>KE(e,l))}return t},IL=t=>typeof t=="string"?t.replace(" ","T"):t,JE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class nv{constructor(e,n,r={},i=Ty){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(j_||(j_={}));class cu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=cu.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cu.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(s,(f,d)=>{a[f]||(u[f]=d)}),this.map(a,(f,d)=>{const m=s[f];if(m){const g=d.map(C=>C.presence_ref),O=m.map(C=>C.presence_ref),x=d.filter(C=>O.indexOf(C.presence_ref)<0),S=m.filter(C=>g.indexOf(C.presence_ref)<0);x.length>0&&(l[f]=x),S.length>0&&(u[f]=S)}else l[f]=d}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var f;const d=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(u),d.length>0){const m=e[l].map(O=>O.presence_ref),g=d.filter(O=>m.indexOf(O.presence_ref)<0);e[l].unshift(...g)}r(l,d,u)}),this.map(a,(l,u)=>{let f=e[l];if(!f)return;const d=u.map(m=>m.presence_ref);f=f.filter(m=>d.indexOf(m.presence_ref)<0),e[l]=f,i(l,f,u),f.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(N_||(N_={}));var uu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uu||(uu={}));var Bi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bi||(Bi={}));class el{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nv(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new HE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new cu(this),this.broadcastEndpointURL=JE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(O=>O.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[uu.PRESENCE]&&this.bindings[uu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(O=>e?.(Bi.CHANNEL_ERROR,O)),this._onClose(()=>e?.(Bi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:O})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){e?.(Bi.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(x=S?.length)!==null&&x!==void 0?x:0,k=[];for(let T=0;T<C;T++){const R=S[T],{filter:{event:Q,schema:A,table:$,filter:P}}=R,Z=O&&O[T];if(Z&&Z.event===Q&&el.isFilterValueEqual(Z.schema,A)&&el.isFilterValueEqual(Z.table,$)&&el.isFilterValueEqual(Z.filter,P))k.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),this.state=Lt.errored,e?.(Bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Bi.SUBSCRIBED);return}}).receive("error",O=>{this.state=Lt.errored,e?.(Bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{e?.(Bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Lt.joined&&e===uu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const f=await l.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new nv(this,Nr.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nv(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$L){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:f,join:d}=Nr;if(r&&[l,u,f,d].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(O=>{var x,S,C;return((x=O.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(S=O.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(O=>O.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(O=>{var x,S,C,k,T,R,Q,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in O){const $=O.id,P=(x=O.filter)===null||x===void 0?void 0:x.event;return $&&((S=n.ids)===null||S===void 0?void 0:S.includes($))&&(P==="*"||P?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((k=O.filter)===null||k===void 0)&&k.table)||O.filter.table===((T=n.data)===null||T===void 0?void 0:T.table))}else{const $=(Q=(R=O?.filter)===null||R===void 0?void 0:R.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return $==="*"||$===((A=n?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===a}).map(O=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:S,table:C,commit_timestamp:k,type:T,errors:R}=x;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:k,eventType:T,new:{},old:{},errors:R}),this._getPayloadRecords(x))}O.callback(g,r)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&el.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=M_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=M_(e.columns,e.old_record)),n}}const rv=()=>{},Bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XL=[1e3,2e3,5e3,1e4],ZL=1e4,VL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ty,this.transport=null,this.heartbeatIntervalMs=Bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rv,this.ref=0,this.reconnectTimer=null,this.vsn=$_,this.logger=rv,this.conn=null,this.sendBuffer=[],this.serializer=new ML,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ry.websocket}`,this.httpEndpoint=JE(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return Ao.Connecting;case Ns.open:return Ao.Open;case Ns.closing:return Ao.Closing;default:return Ao.Closed}}isConnected(){return this.connectionState()===Ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new el(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${l}`.trim(),s),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ns.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ns.open||this.conn.readyState===Ns.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:QL};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new HE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,l,u,f,d,m,g,O;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ty,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Bf.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:rv,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:$_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>XL[x-1]||ZL),this.vsn){case PL:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((x,S)=>S(JSON.stringify(x))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((x,S)=>S(JSON.parse(x)));break;case WE:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(O=e?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var xu=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qL(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function UL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function YL(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const l=qL(t.baseUrl,r,i),u=await UL(t.auth),f=await e(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),d=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),g=m&&d?JSON.parse(d):d;if(!f.ok){const O=m?g:void 0,x=O?.error;throw new xu(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:O})}return{status:f.status,headers:f.headers,data:g}}}}function qf(t){return t.join("")}var GL=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:qf(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qf(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qf(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qf(t.namespace)}`}),!0}catch(e){if(e instanceof xu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof xu&&n.status===409)return;throw n}}};function Da(t){return t.join("")}var FL=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Da(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof xu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof xu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},WL=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=YL({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new GL(this.client,e),this.tableOps=new FL(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Lp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var HL=class extends Lp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qy=class extends Lp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KL=()=>Response,Py=t=>{if(Array.isArray(t))return t.map(n=>Py(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Py(r)}),e},JL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},e4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function t4(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n4(t){var e=t4(t,"string");return Su(e)=="symbol"?e:e+""}function r4(t,e,n){return(e=n4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const iv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},i4=async(t,e,n)=>{t instanceof await KL()&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,s=r?.statusCode||i+"";e(new HL(iv(r),i,s))}).catch(r=>{e(new Qy(iv(r),r))}):e(new Qy(iv(t),t))},s4=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(JL(r)?(i.headers=Qe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Qe(Qe({},i),n))};async function th(t,e,n,r,i,s){return new Promise((a,l)=>{t(n,s4(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>i4(u,l,r))})}async function Cu(t,e,n,r){return th(t,"GET",e,n,r)}async function jr(t,e,n,r,i){return th(t,"POST",e,r,i,n)}async function Ay(t,e,n,r,i){return th(t,"PUT",e,r,i,n)}async function o4(t,e,n,r){return th(t,"HEAD",e,Qe(Qe({},n),{},{noResolveJson:!0}),r)}async function pb(t,e,n,r,i){return th(t,"DELETE",e,r,i,n)}var a4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};let eQ;eQ=Symbol.toStringTag;var l4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[eQ]="BlobDownloadBuilder",this.promise=null}asStream(){return new a4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}}};const c4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var u4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=db(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let s;const a=Qe(Qe({},z_),r);let l=Qe(Qe({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(l=Qe(Qe({},l),r.headers));const f=i._removeEmptyFolders(e),d=i._getFinalPath(f),m=await(t=="PUT"?Ay:jr)(i.fetch,`${i.url}/object/${d}`,s,Qe({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(wt(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${a}`);l.searchParams.set("token",e);try{let u;const f=Qe({upsert:z_.upsert},r),d=Qe(Qe({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType),{data:{path:s,fullPath:(await Ay(i.fetch,l.toString(),u,{headers:d})).Key},error:null}}catch(u){if(i.shouldThrowOnError)throw u;if(wt(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Qe({},n.headers);e?.upsert&&(i["x-upsert"]="true");const s=await jr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),l=a.searchParams.get("token");if(!l)throw new Lp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await jr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await jr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),s=await jr(r.fetch,`${r.url}/object/sign/${i}`,Qe({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await jr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Qe(Qe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),a=()=>Cu(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new l4(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Py(await Cu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await o4(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(wt(r)&&r instanceof Qy){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}async remove(t){var e=this;try{return{data:await pb(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Qe(Qe(Qe({},c4),e),{},{prefix:t||""});return{data:await jr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Qe({},t);return{data:await jr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const tQ="2.91.0",nQ={"X-Client-Info":`storage-js/${tQ}`};var h4=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Qe(Qe({},nQ),e),this.fetch=db(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Cu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Cu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await jr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Ay(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await jr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},f4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},nQ),e),this.fetch=db(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await jr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Cu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pb(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!e4(t))throw new Lp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new WL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(i,l),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const mb={"X-Client-Info":`storage-js/${tQ}`,"Content-Type":"application/json"};var rQ=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function er(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var sv=class extends rQ{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},d4=class extends rQ{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const gb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),p4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},L_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),m4=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const a=s?.statusCode||s?.code||r+"";e(new sv(L_(s),r,a))}).catch(()=>{const s=r+"";e(new sv(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new sv(i.statusText||`HTTP ${r} error`,r,s))}}else e(new d4(L_(t),t))},g4=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(p4(r)?(i.headers=Qe({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,Qe(Qe({},i),n)):i};async function O4(t,e,n,r,i,s){return new Promise((a,l)=>{t(n,g4(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r?.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>m4(u,l,r))})}async function tr(t,e,n,r,i){return O4(t,"POST",e,r,i,n)}var v4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},mb),e),this.fetch=gb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await tr(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await tr(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}},y4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},mb),e),this.fetch=gb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await tr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}},b4=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},mb),e),this.fetch=gb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await tr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await tr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}},w4=class extends b4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new x4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},x4=class extends v4{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new S4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},S4=class extends y4{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Qe(Qe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},C4=class extends h4{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new u4(this.url,this.headers,t,this.fetch)}get vectors(){return new w4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f4(this.url+"/iceberg",this.headers,this.fetch)}};const iQ="2.91.0",Ga=30*1e3,$y=3,ov=$y*Ga,_4="http://localhost:9999",k4="supabase.auth.token",T4={"X-Client-Info":`gotrue-js/${iQ}`},My="X-Supabase-Api-Version",sQ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E4=600*1e3;class _u extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function we(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Q4 extends _u{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P4(t){return we(t)&&t.name==="AuthApiError"}class $o extends _u{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ss extends _u{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Fn extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A4(t){return we(t)&&t.name==="AuthSessionMissingError"}class za extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uf extends ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yf extends ss{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $4(t){return we(t)&&t.name==="AuthImplicitGrantRedirectError"}class I_ extends ss{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class M4 extends ss{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jy extends ss{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function av(t){return we(t)&&t.name==="AuthRetryableFetchError"}class X_ extends ss{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ny extends ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z_=` 	
\r=`.split(""),j4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Z_.length;e+=1)t[Z_[e].charCodeAt(0)]=-2;for(let e=0;e<Ud.length;e+=1)t[Ud[e].charCodeAt(0)]=e;return t})();function V_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ud[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ud[r]),e.queuedBits-=6}}function oQ(t,e,n){const r=j4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B_(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{z4(a,r,n)};for(let a=0;a<t.length;a+=1)oQ(t.charCodeAt(a),i,s);return e.join("")}function N4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}N4(r,e)}}function z4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function sl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)oQ(t.charCodeAt(i),n,r);return new Uint8Array(e)}function L4(t){const e=[];return D4(t,n=>e.push(n)),new Uint8Array(e)}function No(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>V_(i,n,r)),V_(null,n,r),e.join("")}function I4(t){return Math.round(Date.now()/1e3)+t}function X4(){return Symbol("auth-callback")}const Kt=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},aQ=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function Z4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const lQ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),V4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ro=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ht=async(t,e)=>{await t.removeItem(e)};class Ip{constructor(){this.promise=new Ip.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ip.promiseConstructor=Promise;function lv(t){const e=t.split(".");if(e.length!==3)throw new Ny("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!R4.test(e[r]))throw new Ny("JWT not in base64url format");return{header:JSON.parse(B_(e[0])),payload:JSON.parse(B_(e[1])),signature:sl(e[2]),raw:{header:e[0],payload:e[1]}}}async function B4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q4(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function U4(t){return("0"+t.toString(16)).substr(-2)}function Y4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,U4).join("")}async function G4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function F4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await G4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function La(t,e,n=!1){const r=Y4();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Fa(t,`${e}-code-verifier`,i);const s=await F4(r);return[s,r===s?"plain":"s256"]}const W4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H4(t){const e=t.headers.get(My);if(!e||!e.match(W4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function J4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ia(t){if(!eI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tI(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function q_(t){return JSON.parse(JSON.stringify(t))}const Qo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nI=[502,503,504];async function U_(t){var e;if(!V4(t))throw new jy(Qo(t),0);if(nI.includes(t.status))throw new jy(Qo(t),t.status);let n;try{n=await t.json()}catch(s){throw new $o(Qo(s),s)}let r;const i=H4(t);if(i&&i.getTime()>=sQ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new X_(Qo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new X_(Qo(n),t.status,n.weak_password.reasons);throw new Q4(Qo(n),t.status||500,r)}const rI=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[My]||(s[My]=sQ["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await iI(t,e,n+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function iI(t,e,n,r,i,s){const a=rI(e,r,i,s);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new jy(Qo(u),0)}if(l.ok||await U_(l),r?.noResolveJson)return l;try{return await l.json()}catch(u){await U_(u)}}function Mr(t){var e;let n=null;aI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=I4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Y_(t){const e=Mr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ls(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sI(t){return{data:t,error:null}}function oI(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=jl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function G_(t){return t}function aI(t){return t.access_token&&t.refresh_token&&t.expires_in}const uv=["global","local","others"];class lI{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=lQ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=uv[0]){if(uv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uv.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ls})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=jl(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oI,redirectTo:n?.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ls})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,l,u;try{const f={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:G_});if(d.error)throw d.error;const m=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(we(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ia(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ls})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ia(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ls})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ia(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ls})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ia(e.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ia(e.userId),Ia(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,l,u;try{const f={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:G_});if(d.error)throw d.error;const m=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,O=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return O.length>0&&(O.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);f[`${C}Page`]=S}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(we(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}}function F_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Xa={debug:!!(globalThis&&aQ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cQ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cI extends cQ{}async function uI(t,e,n){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function hI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uQ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fI(t){return parseInt(t,16)}function dI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function pI(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:f,scheme:d,uri:m,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const O=uQ(t.address),x=d?`${d}://${r}`:r,S=t.statement?`${t.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${O}

${S}`;let k=`URI: ${m}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),l&&(k+=`
Not Before: ${l.toISOString()}`),u&&(k+=`
Request ID: ${u}`),f){let T=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);T+=`
- ${R}`}k+=T}return`${C}
${k}`}class jt extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Yd extends jt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mI({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(hQ(a)){if(s.rp.id!==a)return new jt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gI({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(hQ(r)){if(n.rpId!==r)return new jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class OI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vI=new OI;function yI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=jl(t,["challenge","user","excludeCredentials"]),s=sl(e).buffer,a=Object.assign(Object.assign({},n),{id:sl(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];l.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:sl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function bI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=jl(t,["challenge","allowCredentials"]),i=sl(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:sl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function wI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:No(new Uint8Array(t.response.attestationObject)),clientDataJSON:No(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:No(new Uint8Array(i.authenticatorData)),clientDataJSON:No(new Uint8Array(i.clientDataJSON)),signature:No(new Uint8Array(i.signature)),userHandle:i.userHandle?No(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hQ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function W_(){var t,e;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:mI({error:e,options:t})}}}async function CI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",e)}:{data:null,error:new Yd("Empty credential response",e)}}catch(e){return{data:null,error:gI({error:e,options:t})}}}const _I={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const l=r[s];e(l)?r[s]=Gd(l,a):r[s]=Gd(a)}else r[s]=a}return r}function TI(t,e){return Gd(_I,t,e||{})}function RI(t,e){return Gd(kI,t,e||{})}class EI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??vI.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:f}=a.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(a.webauthn.type){case"create":{const f=TI(a.webauthn.credential_options.publicKey,s?.create),{data:d,error:m}=await SI({publicKey:f,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const f=RI(a.webauthn.credential_options.publicKey,s?.request),{data:d,error:m}=await CI(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(a){return we(a)?{data:null,error:a}:{data:null,error:new $o("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new _u("rpId is required for WebAuthn authentication")};try{if(!W_())return{data:null,error:new $o("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return we(a)?{data:null,error:a}:{data:null,error:new $o("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new _u("rpId is required for WebAuthn registration")};try{if(!W_())return{data:null,error:new $o("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:u,error:f}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(a){return we(a)?{data:null,error:a}:{data:null,error:new $o("Unexpected error in register",a)}}}}hI();const QI={url:_4,storageKey:k4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function H_(t,e,n){return await n()}const Za={};class ku{get jwks(){var e,n;return(n=(e=Za[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Za[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Za[this.storageKey]=Object.assign(Object.assign({},Za[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},QI),e);if(this.storageKey=s.storageKey,this.instanceID=(n=ku.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ku.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Kt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lQ(s.fetch),this.lock=s.lock||H_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Kt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=uI:this.lock=H_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:aQ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F_(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=F_(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iQ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Kt()&&(n=Z4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Kt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$4(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?this._returnResult({error:n}):this._returnResult({error:new $o("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mr}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:m,options:g}=e;let O=null,x=null;this.flowType==="pkce"&&([O,x]=await La(this.storage,this.storageKey)),s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:O,code_challenge_method:x},xform:Mr})}else if("phone"in e){const{phone:d,password:m,options:g}=e;s=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Mr})}else throw new Uf("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return await Ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Y_})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Y_})}else throw new Uf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new za;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,l,u,f,d,m,g;let O,x;if("message"in e)O=e.message,x=e.signature;else{const{chain:S,wallet:C,statement:k,options:T}=e;let R;if(Kt())if(typeof C=="object")R=C;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")R=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const Q=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),A=await R.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=uQ(A[0]);let P=(r=T?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const B=await R.request({method:"eth_chainId"});P=fI(B)}const Z={domain:Q.host,address:$,statement:k,uri:Q.href,version:"1",chainId:P,nonce:(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.resources};O=pI(Z),x=await R.request({method:"personal_sign",params:[dI(O),$]})}try{const{data:S,error:C}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Mr});if(C)throw C;if(!S||!S.session||!S.user){const k=new za;return this._returnResult({data:{user:null,session:null},error:k})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(we(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,r,i,s,a,l,u,f,d,m,g,O;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:C,wallet:k,statement:T,options:R}=e;let Q;if(Kt())if(typeof k=="object")Q=k;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))Q=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=k}const A=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in Q&&Q.signIn){const $=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),T?{statement:T}:null));let P;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")P=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)P=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${A.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((a=R?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(d=R?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const $=await Q.signMessage(new TextEncoder().encode(x),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=$}}try{const{data:C,error:k}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:No(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Mr});if(k)throw k;if(!C||!C.session||!C.user){const T=new za;return this._returnResult({data:{user:null,session:null},error:T})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(we(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new M4;const{data:s,error:a}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Mr});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new za;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",s.session)},0)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Mr}),{data:u,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const d=new za;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:l,options:u}=e;let f=null,d=null;this.flowType==="pkce"&&([f,d]=await La(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:f,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:l,options:u}=e,{data:f,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:d})}throw new Uf("You must provide either an email or phone number.")}catch(l){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Mr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,f=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(i){if(we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await La(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:sI});return!((s=f.data)===null||s===void 0)&&s.url&&Kt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(we(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:l}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Uf("You must provide either an email or phone number and a type")}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ov:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Ro(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=cv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=tI(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ls}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ls})})}catch(n){if(we(n))return A4(n)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Fn;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await La(this.storage,this.storageKey));const{data:f,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Ls});if(d)throw d;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fn;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=lv(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Fn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Kt())throw new Yf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I_("No code detected.");const{data:T,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:f}=e;if(!s||!l||!a||!f)throw new Yf("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let g=d+m;u&&(g=parseInt(u));const O=g-d;O*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${m}s`);const x=g-m;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:S,error:C}=await this._getUser(s);if(C)throw C;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:g,refresh_token:a,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ro(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(P4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=X4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await La(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,u,f,d;const{data:m,error:g}=s;if(g)throw g;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",O,{headers:this.headers,jwt:(d=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Kt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(we(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:l,token:u,access_token:f,nonce:d}=e,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:u,access_token:f,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Mr}),{data:g,error:O}=m;return O?this._returnResult({data:{user:null,session:null},error:O}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new za}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:O}))}catch(i){if(await Ht(this.storage,`${this.storageKey}-code-verifier`),we(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q4(async i=>(i>0&&await B4(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mr})),(i,s)=>{const a=200*Math.pow(2,i);return s&&av(s)&&Date.now()+a-r<Ga})}catch(r){if(this._debug(n,"error",r),we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ro(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Fa(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:cv()}else if(i&&!i.user&&!i.user){const a=await Ro(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Ht(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,i)):i.user=cv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ov;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ov}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),av(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ip;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Fn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),we(s)){const a={data:null,error:s};return av(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ht(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=q_(i);await Fa(this.storage,this.storageKey,s)}else{const i=q_(n);await Fa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ga}ms, refresh threshold is ${$y} ticks`),i<=$y&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cQ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await La(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?wI(e.webauthn.credential_response):xI(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yI(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bI(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lv(r.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fn});const a=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fn});const a=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Kt()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(e){if(we(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+E4>i)return r;const{data:s,error:a}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:O,error:x}=await this.getSession();if(x||!O.session)return this._returnResult({data:null,error:x});r=O.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=lv(r);n?.allowExpired||K4(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:s,header:i,signature:a},error:null}}const d=J4(i.alg),m=await crypto.subtle.importKey("jwk",f,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,a,L4(`${l}.${u}`)))throw new Ny("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}}ku.nextInstanceID={};const PI=ku,AI="2.91.0";let Jc="";typeof Deno<"u"?Jc="deno":typeof document<"u"?Jc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jc="react-native":Jc="node";const $I={"X-Client-Info":`supabase-js-${Jc}/${AI}`},MI={headers:$I},jI={schema:"public"},NI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DI={};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function zI(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LI(t){var e=zI(t,"string");return Tu(e)=="symbol"?e:e+""}function II(t,e,n){return(e=LI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){II(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const XI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZI=()=>Headers,VI=(t,e,n)=>{const r=XI(n),i=ZI();return async(s,a)=>{var l;const u=(l=await e())!==null&&l!==void 0?l:t;let f=new i(a?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(s,Ct(Ct({},a),{},{headers:f}))}};function BI(t){return t.endsWith("/")?t:t+"/"}function qI(t,e){var n,r;const{db:i,auth:s,realtime:a,global:l}=t,{db:u,auth:f,realtime:d,global:m}=e,g={db:Ct(Ct({},u),i),auth:Ct(Ct({},f),s),realtime:Ct(Ct({},d),a),storage:{},global:Ct(Ct(Ct({},m),l),{},{headers:Ct(Ct({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function UI(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YI=class extends PI{constructor(t){super(t)}},GI=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=UI(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:jI,realtime:DI,auth:Ct(Ct({},NI),{},{storageKey:a}),global:MI},u=qI(n??{},l);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=u.auth)!==null&&f!==void 0?f:{},this.headers,u.global.fetch)}this.fetch=VI(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new TL(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new C4(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new xL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:l,debug:u,throwOnError:f},d,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YI({url:this.authUrl.href,headers:Ct(Ct({},g),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new BL(this.realtimeUrl.href,Ct(Ct({},t),{},{params:Ct(Ct({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const FI=(t,e,n)=>new GI(t,e,n);function WI(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}WI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HI="https://ixwaprjprfcmxlyphsau.supabase.co",KI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I",kr=FI(HI,KI);async function JI(t){try{const{data:e,error:n}=await kr.from("users").upsert({email:t,created_at:new Date().toISOString()},{onConflict:"email"}).select().single();return n?(console.error("Database error:",n),{success:!1,message:`Failed to create/update user: ${n.message}`}):(console.log("User created/updated:",e),{success:!0,data:e})}catch(e){return console.error("Unexpected error:",e),{success:!1,message:e instanceof Error?e.message:"Unexpected error"}}}function J_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mn(...t){return e=>{let n=!1;const r=t.map(i=>{const s=J_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():J_(t[i],null)}}}}function ut(...t){return w.useCallback(Mn(...t),t)}var eX=Symbol.for("react.lazy"),Fd=nb[" use ".trim().toString()];function tX(t){return typeof t=="object"&&t!==null&&"then"in t}function fQ(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===eX&&"_payload"in t&&tX(t._payload)}function Ob(t){const e=nX(t),n=w.forwardRef((r,i)=>{let{children:s,...a}=r;fQ(s)&&typeof Fd=="function"&&(s=Fd(s._payload));const l=w.Children.toArray(s),u=l.find(iX);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Nl=Ob("Slot");function nX(t){const e=w.forwardRef((n,r)=>{let{children:i,...s}=n;if(fQ(i)&&typeof Fd=="function"&&(i=Fd(i._payload)),w.isValidElement(i)){const a=oX(i),l=sX(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rX=Symbol("radix.slottable");function iX(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rX}function sX(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function oX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dQ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dQ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pQ(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dQ(t))&&(r&&(r+=" "),r+=e);return r}const ek=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tk=pQ,nh=(t,e)=>n=>{var r;if(e?.variants==null)return tk(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(f=>{const d=n?.[f],m=s?.[f];if(d===null)return null;const g=ek(d)||ek(m);return i[f][g]}),l=n&&Object.entries(n).reduce((f,d)=>{let[m,g]=d;return g===void 0||(f[m]=g),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,d)=>{let{class:m,className:g,...O}=d;return Object.entries(O).every(x=>{let[S,C]=x;return Array.isArray(C)?C.includes({...s,...l}[S]):{...s,...l}[S]===C})?[...f,m,g]:f},[]);return tk(t,a,u,n?.class,n?.className)},vb="-",aX=t=>{const e=cX(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(vb);return l[0]===""&&l.length!==1&&l.shift(),mQ(l,e)||lX(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},mQ=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?mQ(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(vb);return e.validators.find(({validator:a})=>a(s))?.classGroupId},nk=/^\[(.+)\]$/,lX=t=>{if(nk.test(t)){const e=nk.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cX=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hX(Object.entries(t.classGroups),n).forEach(([s,a])=>{Dy(a,r,s,e)}),r},Dy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:rk(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(uX(i)){Dy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Dy(a,rk(e,s),n,r)})})},rk=(t,e)=>{let n=t;return e.split(vb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uX=t=>t.isThemeGetter,hX=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,fX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},gQ="!",dX=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const u=[];let f=0,d=0,m;for(let C=0;C<l.length;C++){let k=l[C];if(f===0){if(k===i&&(r||l.slice(C,C+s)===e)){u.push(l.slice(d,C)),d=C+s;continue}if(k==="/"){m=C;continue}}k==="["?f++:k==="]"&&f--}const g=u.length===0?l:l.substring(d),O=g.startsWith(gQ),x=O?g.substring(1):g,S=m&&m>d?m-d:void 0;return{modifiers:u,hasImportantModifier:O,baseClassName:x,maybePostfixModifierPosition:S}};return n?l=>n({className:l,parseClassName:a}):a},pX=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mX=t=>({cache:fX(t.cacheSize),parseClassName:dX(t),...aX(t)}),gX=/\s+/,OX=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(gX);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{modifiers:d,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:O}=n(f);let x=!!O,S=r(x?g.substring(0,O):g);if(!S){if(!x){l=f+(l.length>0?" "+l:l);continue}if(S=r(g),!S){l=f+(l.length>0?" "+l:l);continue}x=!1}const C=pX(d).join(":"),k=m?C+gQ:C,T=k+S;if(s.includes(T))continue;s.push(T);const R=i(S,x);for(let Q=0;Q<R.length;++Q){const A=R[Q];s.push(k+A)}l=f+(l.length>0?" "+l:l)}return l};function vX(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OQ(e))&&(r&&(r+=" "),r+=n);return r}const OQ=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OQ(t[r]))&&(n&&(n+=" "),n+=e);return n};function yX(t,...e){let n,r,i,s=a;function a(u){const f=e.reduce((d,m)=>m(d),t());return n=mX(f),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const f=r(u);if(f)return f;const d=OX(u,n);return i(u,d),d}return function(){return s(vX.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vQ=/^\[(?:([a-z-]+):)?(.+)\]$/i,bX=/^\d+\/\d+$/,wX=new Set(["px","full","screen"]),xX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_X=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=t=>ol(t)||wX.has(t)||bX.test(t),As=t=>Dl(t,"length",MX),ol=t=>!!t&&!Number.isNaN(Number(t)),hv=t=>Dl(t,"number",ol),Xc=t=>!!t&&Number.isInteger(Number(t)),TX=t=>t.endsWith("%")&&ol(t.slice(0,-1)),je=t=>vQ.test(t),$s=t=>xX.test(t),RX=new Set(["length","size","percentage"]),EX=t=>Dl(t,RX,yQ),QX=t=>Dl(t,"position",yQ),PX=new Set(["image","url"]),AX=t=>Dl(t,PX,NX),$X=t=>Dl(t,"",jX),Zc=()=>!0,Dl=(t,e,n)=>{const r=vQ.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MX=t=>SX.test(t)&&!CX.test(t),yQ=()=>!1,jX=t=>_X.test(t),NX=t=>kX.test(t),DX=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),i=mt("borderColor"),s=mt("borderRadius"),a=mt("borderSpacing"),l=mt("borderWidth"),u=mt("contrast"),f=mt("grayscale"),d=mt("hueRotate"),m=mt("invert"),g=mt("gap"),O=mt("gradientColorStops"),x=mt("gradientColorStopPositions"),S=mt("inset"),C=mt("margin"),k=mt("opacity"),T=mt("padding"),R=mt("saturate"),Q=mt("scale"),A=mt("sepia"),$=mt("skew"),P=mt("space"),Z=mt("translate"),B=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",je,e],H=()=>[je,e],le=()=>["",Xi,As],ae=()=>["auto",ol,je],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",je],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[ol,je];return{cacheSize:500,separator:":",theme:{colors:[Zc],spacing:[Xi,As],blur:["none","",$s,je],brightness:M(),borderColor:[t],borderRadius:["none","","full",$s,je],borderSpacing:H(),borderWidth:le(),contrast:M(),grayscale:G(),hueRotate:M(),invert:G(),gap:H(),gradientColorStops:[t],gradientColorStopPositions:[TX,As],inset:re(),margin:re(),opacity:M(),padding:H(),saturate:M(),scale:M(),sepia:G(),skew:M(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),je]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xc,je]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Xc,je]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Xc,je]},je]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Xc,je]},je]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hv]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",ol,hv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xi,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xi,As]}],"underline-offset":[{"underline-offset":["auto",Xi,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),QX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[O]}],"gradient-via":[{via:[O]}],"gradient-to":[{to:[O]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:I()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Xi,je]}],"outline-w":[{outline:[Xi,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Xi,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,$X]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$s,je]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[R]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[Xc,je]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xi,As,hv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zX=yX(DX);function ue(...t){return zX(pQ(t))}const LX=nh("inline-flex items-center justify-center gap-2 rounded-full text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-transparent hover:bg-muted hover:text-foreground",ghost:"hover:bg-muted hover:text-foreground",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-6",sm:"h-9 px-4",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Nl:"button";return y.jsx(a,{className:ue(LX({variant:e,size:n,className:t})),ref:s,...i})});Fe.displayName="Button";function bQ({className:t,subtitle:e,size:n="sm"}){const r=n==="lg";return y.jsxs("div",{className:ue("inline-flex flex-col items-center gap-0",t),children:[y.jsx("span",{className:ue("font-light tracking-wide text-foreground",r?"text-2xl":"text-sm"),children:"Agence Matrimoniale"}),y.jsx("span",{className:ue("border-b-2 border-terracotta pb-0.5 font-medium uppercase tracking-[0.25em] text-terracotta",r?"text-sm":"text-[10px]"),children:"Martinique"}),e?y.jsx("span",{className:ue("mt-1 text-muted-foreground",r?"text-sm":"text-[10px]"),children:e}):null]})}const en=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ue("rounded-xl border bg-card text-card-foreground",t),...e}));en.displayName="Card";const Tn=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));Tn.displayName="CardHeader";const Hn=w.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));Hn.displayName="CardTitle";const yr=w.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));yr.displayName="CardDescription";const rr=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));rr.displayName="CardContent";const IX=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));IX.displayName="CardFooter";const Xp="amm_user_session";function XX(t,e){const r={sessionId:`session_${Date.now()}_${Math.random().toString(36).substring(7)}`,accessToken:t,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+36e5).toISOString(),email:e?.email,displayName:e?.displayName,avatarUrl:e?.avatarUrl};return localStorage.setItem(Xp,JSON.stringify(r)),r}function qs(){try{const t=localStorage.getItem(Xp);if(!t)return null;const e=JSON.parse(t);return new Date(e.expiresAt)<new Date?(Zp(),null):e}catch(t){return console.error("Erreur lors de la rcupration de la session:",t),null}}function Zp(){localStorage.removeItem(Xp)}function ZX(t){const e=qs();if(!e)return null;const n={...e,accessToken:t,expiresAt:new Date(Date.now()+36e5).toISOString()};return localStorage.setItem(Xp,JSON.stringify(n)),n}function VX(t){let e=t.replace("#","");e.length===3&&(e=e.split("").map(r=>r+r).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}class BX{canvas;gl;meshes=[];commonUniforms={};width=0;height=0;Uniform;Material;PlaneGeometry;Mesh;constructor(e){this.canvas=e;const n=e.getContext("webgl",{antialias:!0});if(!n)throw new Error("WebGL not supported");this.gl=n;const r=n,i=this;class s{type=r.FLOAT;normalized=!1;buffer;target;size;values;constructor(g){this.target=g.target,this.size=g.size,g.type!==void 0&&(this.type=g.type),this.buffer=r.createBuffer(),this.update()}update(){this.values&&(r.bindBuffer(this.target,this.buffer),r.bufferData(this.target,this.values,r.STATIC_DRAW))}attach(g,O){const x=r.getAttribLocation(O,g);return this.target===r.ARRAY_BUFFER&&(r.enableVertexAttribArray(x),r.vertexAttribPointer(x,this.size,this.type,this.normalized,0,0)),x}use(g){r.bindBuffer(this.target,this.buffer),this.target===r.ARRAY_BUFFER&&(r.enableVertexAttribArray(g),r.vertexAttribPointer(g,this.size,this.type,this.normalized,0,0))}}class a{type;value;typeFn;transpose=!1;excludeFrom;constructor(g){this.type=g.type??"float",this.value=g.value,this.excludeFrom=g.excludeFrom;const O={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"};this.typeFn=O[this.type]??"1f"}update(g){if(this.value===void 0)return;const O=`uniform${this.typeFn}`;this.typeFn.startsWith("Matrix")?r[O](g,this.transpose,this.value):r[O](g,this.value)}getDeclaration(g,O,x){if(this.excludeFrom===O)return"";if(this.type==="array"){const S=this.value;return S[0].getDeclaration(g,O,S.length)+`
const int ${g}_length = ${S.length};`}if(this.type==="struct"){let S=g.replace("u_","");S=S.charAt(0).toUpperCase()+S.slice(1);const C=Object.entries(this.value).map(([k,T])=>T.getDeclaration(k,O).replace(/^uniform/,"")).join("");return`uniform struct ${S} {
${C}
} ${g}${x&&x>0?`[${x}]`:""};`}return`uniform ${this.type} ${g}${x&&x>0?`[${x}]`:""};`}}class l{program;uniformInstances=[];uniforms;constructor(g,O,x){this.uniforms=x;const S=`precision highp float;
`,C=A=>Object.entries(i.commonUniforms).map(([$,P])=>P.getDeclaration($,A)).join(`
`),k=A=>Object.entries(x).map(([$,P])=>P.getDeclaration($,A)).join(`
`),T=`${S}
attribute vec4 position;
attribute vec2 uv;
attribute vec2 uvNorm;
${C("vertex")}
${k("vertex")}
${g}`,R=`${S}
${C("fragment")}
${k("fragment")}
${O}`,Q=(A,$)=>{const P=r.createShader(A);return r.shaderSource(P,$),r.compileShader(P),r.getShaderParameter(P,r.COMPILE_STATUS)||console.error(r.getShaderInfoLog(P)),P};this.program=r.createProgram(),r.attachShader(this.program,Q(r.VERTEX_SHADER,T)),r.attachShader(this.program,Q(r.FRAGMENT_SHADER,R)),r.linkProgram(this.program),r.getProgramParameter(this.program,r.LINK_STATUS)||console.error(r.getProgramInfoLog(this.program)),r.useProgram(this.program),this.attachUniforms(void 0,i.commonUniforms),this.attachUniforms(void 0,this.uniforms)}attachUniforms(g,O){if(g===void 0)Object.entries(O).forEach(([x,S])=>this.attachUniforms(x,S));else{const x=O;x.type==="array"?x.value.forEach((S,C)=>this.attachUniforms(`${g}[${C}]`,S)):x.type==="struct"?Object.entries(x.value).forEach(([S,C])=>this.attachUniforms(`${g}.${S}`,C)):this.uniformInstances.push({uniform:x,location:r.getUniformLocation(this.program,g)})}}}class u{attributes;xSegCount=0;ySegCount=0;vertexCount=0;width=1;height=1;constructor(){this.attributes={position:new s({target:r.ARRAY_BUFFER,size:3}),uv:new s({target:r.ARRAY_BUFFER,size:2}),uvNorm:new s({target:r.ARRAY_BUFFER,size:2}),index:new s({target:r.ELEMENT_ARRAY_BUFFER,size:3,type:r.UNSIGNED_SHORT})}}setTopology(g,O){this.xSegCount=g,this.ySegCount=O,this.vertexCount=(g+1)*(O+1);const x=g*O*2;this.attributes.uv.values=new Float32Array(2*this.vertexCount),this.attributes.uvNorm.values=new Float32Array(2*this.vertexCount),this.attributes.index.values=new Uint16Array(3*x);for(let S=0;S<=O;S++)for(let C=0;C<=g;C++){const k=S*(g+1)+C;if(this.attributes.uv.values[2*k]=C/g,this.attributes.uv.values[2*k+1]=1-S/O,this.attributes.uvNorm.values[2*k]=C/g*2-1,this.attributes.uvNorm.values[2*k+1]=1-S/O*2,C<g&&S<O){const T=S*g+C;this.attributes.index.values[6*T]=k,this.attributes.index.values[6*T+1]=k+1+g,this.attributes.index.values[6*T+2]=k+1,this.attributes.index.values[6*T+3]=k+1,this.attributes.index.values[6*T+4]=k+1+g,this.attributes.index.values[6*T+5]=k+2+g}}this.attributes.uv.update(),this.attributes.uvNorm.update(),this.attributes.index.update()}setSize(g,O){this.width=g,this.height=O,(!this.attributes.position.values||this.attributes.position.values.length!==3*this.vertexCount)&&(this.attributes.position.values=new Float32Array(3*this.vertexCount));const x=g/-2,S=O/-2,C=g/this.xSegCount,k=O/this.ySegCount;for(let T=0;T<=this.ySegCount;T++){const R=S+T*k;for(let Q=0;Q<=this.xSegCount;Q++){const A=x+Q*C,$=T*(this.xSegCount+1)+Q;this.attributes.position.values[3*$]=A,this.attributes.position.values[3*$+1]=-R}}this.attributes.position.update()}}class f{geometry;material;attributeInstances=[];constructor(g,O){this.geometry=g,this.material=O,Object.entries(g.attributes).forEach(([x,S])=>{this.attributeInstances.push({attribute:S,location:S.attach(x,O.program)})}),i.meshes.push(this)}draw(){r.useProgram(this.material.program),this.material.uniformInstances.forEach(({uniform:g,location:O})=>g.update(O)),this.attributeInstances.forEach(({attribute:g,location:O})=>g.use(O)),r.drawElements(r.TRIANGLES,this.geometry.attributes.index.values.length,r.UNSIGNED_SHORT,0)}}this.Uniform=a,this.Material=l,this.PlaneGeometry=u,this.Mesh=f;const d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.commonUniforms={projectionMatrix:new a({type:"mat4",value:d}),modelViewMatrix:new a({type:"mat4",value:d}),resolution:new a({type:"vec2",value:[1,1]}),aspectRatio:new a({type:"float",value:1})}}setSize(e,n){this.width=e,this.height=n,this.canvas.width=e,this.canvas.height=n,this.gl.viewport(0,0,e,n),this.commonUniforms.resolution.value=[e,n],this.commonUniforms.aspectRatio.value=e/n}setOrthographicCamera(){this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,-.001,0,0,0,0,1]}render(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach(e=>e.draw())}}const qX=`
vec3 mod289(vec3 x){return x-floor(x*(1./289.))*289.;}
vec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}
vec4 permute(vec4 x){return mod289(((x*34.)+1.)*x);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-.85373472095314*r;}
float snoise(vec3 v){
  const vec2 C=vec2(1./6.,1./3.);
  const vec4 D=vec4(0.,.5,1.,2.);
  vec3 i=floor(v+dot(v,C.yyy));
  vec3 x0=v-i+dot(i,C.xxx);
  vec3 g=step(x0.yzx,x0.xyz);
  vec3 l=1.-g;
  vec3 i1=min(g.xyz,l.zxy);
  vec3 i2=max(g.xyz,l.zxy);
  vec3 x1=x0-i1+C.xxx;
  vec3 x2=x0-i2+C.yyy;
  vec3 x3=x0-D.yyy;
  i=mod289(i);
  vec4 p=permute(permute(permute(i.z+vec4(0.,i1.z,i2.z,1.))+i.y+vec4(0.,i1.y,i2.y,1.))+i.x+vec4(0.,i1.x,i2.x,1.));
  float n_=.142857142857;
  vec3 ns=n_*D.wyz-D.xzx;
  vec4 j=p-49.*floor(p*ns.z*ns.z);
  vec4 x_=floor(j*ns.z);
  vec4 y_=floor(j-7.*x_);
  vec4 x=x_*ns.x+ns.yyyy;
  vec4 y=y_*ns.x+ns.yyyy;
  vec4 h=1.-abs(x)-abs(y);
  vec4 b0=vec4(x.xy,y.xy);
  vec4 b1=vec4(x.zw,y.zw);
  vec4 s0=floor(b0)*2.+1.;
  vec4 s1=floor(b1)*2.+1.;
  vec4 sh=-step(h,vec4(0.));
  vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;
  vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;
  vec3 p0=vec3(a0.xy,h.x);
  vec3 p1=vec3(a0.zw,h.y);
  vec3 p2=vec3(a1.xy,h.z);
  vec3 p3=vec3(a1.zw,h.w);
  vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));
  p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;
  vec4 m=max(.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.);
  m=m*m;
  return 42.*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));
}`,UX=`
vec3 blendNormal(vec3 base,vec3 blend){return blend;}
vec3 blendNormal(vec3 base,vec3 blend,float opacity){return blendNormal(base,blend)*opacity+base*(1.-opacity);}`,YX=`
varying vec3 v_color;
void main(){
  float time=u_time*u_global.noiseSpeed;
  vec2 noiseCoord=resolution*uvNorm*u_global.noiseFreq;
  float tilt=resolution.y/2.*uvNorm.y;
  float incline=resolution.x*uvNorm.x/2.*u_vertDeform.incline;
  float offset=resolution.x/2.*u_vertDeform.incline*mix(u_vertDeform.offsetBottom,u_vertDeform.offsetTop,uv.y);
  float noise=snoise(vec3(
    noiseCoord.x*u_vertDeform.noiseFreq.x+time*u_vertDeform.noiseFlow,
    noiseCoord.y*u_vertDeform.noiseFreq.y,
    time*u_vertDeform.noiseSpeed+u_vertDeform.noiseSeed
  ))*u_vertDeform.noiseAmp;
  noise*=1.-pow(abs(uvNorm.y),2.);
  noise=max(0.,noise);
  vec3 pos=vec3(position.x,position.y+tilt+incline+noise-offset,position.z);
  if(u_active_colors[0]==1.)v_color=u_baseColor;
  for(int i=0;i<u_waveLayers_length;i++){
    if(u_active_colors[i+1]==1.){
      WaveLayers layer=u_waveLayers[i];
      float n=smoothstep(layer.noiseFloor,layer.noiseCeil,snoise(vec3(
        noiseCoord.x*layer.noiseFreq.x+time*layer.noiseFlow,
        noiseCoord.y*layer.noiseFreq.y,
        time*layer.noiseSpeed+layer.noiseSeed
      ))/2.+.5);
      v_color=blendNormal(v_color,layer.color,pow(n,4.));
    }
  }
  gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.);
}`,GX=`
varying vec3 v_color;
void main(){
  vec3 color=v_color;
  if(u_darken_top==1.){
    vec2 st=gl_FragCoord.xy/resolution.xy;
    color.g-=pow(st.y+sin(-12.)*st.x,u_shadow_power)*.4;
  }
  gl_FragColor=vec4(color,1.);
}`;class FX{minigl;mesh;t=1253106;last=0;playing=!1;raf=0;colors;seed=5;constructor(e,n){this.colors=n,this.minigl=new BX(e),this.initMesh(),this.resize(),window.addEventListener("resize",this.resize)}initMesh(){const e=this.minigl.Uniform,n={u_time:new e({value:0}),u_shadow_power:new e({value:5}),u_darken_top:new e({value:0}),u_active_colors:new e({value:[1,1,1,1],type:"vec4"}),u_global:new e({value:{noiseFreq:new e({value:[14e-5,29e-5],type:"vec2"}),noiseSpeed:new e({value:5e-6})},type:"struct"}),u_vertDeform:new e({value:{incline:new e({value:0}),offsetTop:new e({value:-.5}),offsetBottom:new e({value:-.5}),noiseFreq:new e({value:[3,4],type:"vec2"}),noiseAmp:new e({value:320}),noiseSpeed:new e({value:10}),noiseFlow:new e({value:3}),noiseSeed:new e({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new e({value:this.colors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new e({value:[],excludeFrom:"fragment",type:"array"})};for(let a=1;a<this.colors.length;a++)n.u_waveLayers.value.push(new e({value:{color:new e({value:this.colors[a],type:"vec3"}),noiseFreq:new e({value:[2+a/this.colors.length,3+a/this.colors.length],type:"vec2"}),noiseSpeed:new e({value:11+.3*a}),noiseFlow:new e({value:6.5+.3*a}),noiseSeed:new e({value:this.seed+10*a}),noiseFloor:new e({value:.1}),noiseCeil:new e({value:.63+.07*a})},type:"struct"}));const r=[qX,UX,YX].join(`

`),i=new this.minigl.Material(r,GX,n),s=new this.minigl.PlaneGeometry;this.mesh=new this.minigl.Mesh(s,i)}resize=()=>{const e=window.innerWidth,n=window.innerHeight;this.minigl.setSize(e,n),this.minigl.setOrthographicCamera();const r=Math.ceil(e*.06),i=Math.ceil(n*.16);this.mesh.geometry.setTopology(r,i),this.mesh.geometry.setSize(e,n),this.mesh.material.uniforms.u_shadow_power.value=e<600?5:6};animate=e=>{this.playing&&(this.t+=Math.min(e-this.last,1e3/15),this.last=e,this.mesh.material.uniforms.u_time.value=this.t,this.minigl.render(),this.raf=requestAnimationFrame(this.animate))};play(){this.playing||(this.playing=!0,this.raf=requestAnimationFrame(this.animate))}destroy(){this.playing=!1,cancelAnimationFrame(this.raf),window.removeEventListener("resize",this.resize)}}function WX({colors:t=["#C3423F","#D4785C","#E8A87C","#FBDBB2"],className:e}){const n=w.useRef(null);return w.useEffect(()=>{const r=n.current;if(!r)return;const i=t.map(VX),s=new FX(r,i);return s.play(),()=>s.destroy()},[t]),y.jsx("canvas",{ref:n,className:e,style:{position:"absolute",inset:0,width:"100%",height:"100%"}})}function HX(){const[t,e]=w.useState(null),n=w.useRef(null),r="1049703629392-841b2v0l867freoutmn2e17c9ikbvso6.apps.googleusercontent.com",i=ro();w.useEffect(()=>{qs()&&i("/dashboard",{replace:!0})},[i]);const s=["https://www.googleapis.com/auth/forms.responses.readonly","https://www.googleapis.com/auth/forms.body.readonly","openid","email","profile"].join(" "),a=()=>{e(null);try{n.current||(n.current=GE({clientId:r,scope:s,callback:async l=>{if(l.error){e(l.error_description||l.error),Zp();return}if(l.access_token){if(!l.email){e("Email not found in Google token response.");return}const u=await JI(l.email);if(u.success!==!0){e(u.message||"Failed to create user.");return}e(null),XX(l.access_token,{email:l.email,displayName:l.displayName,avatarUrl:l.avatarUrl}),i("/dashboard")}}})),n.current.requestAccessToken({prompt:""})}catch(l){e(l instanceof Error?l.message:"Google auth failed.")}};return y.jsxs("div",{className:"relative flex min-h-[100dvh] items-center justify-center overflow-hidden p-4",children:[y.jsx(WX,{colors:["#C3423F","#D4785C","#E8A87C","#FBDBB2"],className:"pointer-events-none"}),y.jsxs(en,{className:"relative z-10 w-full max-w-sm backdrop-blur-sm",children:[y.jsxs(Tn,{className:"text-center",children:[y.jsx(bQ,{className:"mx-auto mb-2",size:"lg",subtitle:"Back office"}),y.jsx(yr,{children:"Connectez-vous pour accder au back office."})]}),y.jsxs(rr,{className:"space-y-4",children:[y.jsx(Fe,{type:"button",onClick:a,className:"w-full",children:"Se connecter avec Google"}),t?y.jsx("div",{className:"rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:t}):null]})]})]})}async function KX(t,e){const n=`https://forms.googleapis.com/v1/forms/${encodeURIComponent(t)}/responses`,r={Authorization:`Bearer ${e}`},i=[];let s;do{const a=s?`${n}?pageSize=200&pageToken=${encodeURIComponent(s)}`:`${n}?pageSize=200`,l=await fetch(a,{headers:r});if(!l.ok){const d=await l.text();throw new Error(`Google Forms API error: ${l.status} ${l.statusText}${d?` - ${d}`:""}`)}const u=await l.json(),f=u.responses??[];i.push(...f),s=u.nextPageToken}while(s);return{responses:i,totalResponses:i.length}}async function JX(t,e){const n=`https://forms.googleapis.com/v1/forms/${encodeURIComponent(t)}`,r=await fetch(n,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const a=await r.text();throw new Error(`Google Forms API error: ${r.status} ${r.statusText}${a?` - ${a}`:""}`)}return((await r.json()).items??[]).map((a,l)=>({question_id:a.questionItem?.question?.questionId??"",label:a.title??`Question ${l+1}`,display_order:l+1})).filter(a=>a.question_id)}const eZ=nh("inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-semibold tracking-wide",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",outline:"border-border text-foreground",success:"border-emerald-500/40 bg-emerald-500/15 text-emerald-700",warning:"border-amber-500/40 bg-amber-500/15 text-amber-700"}},defaultVariants:{variant:"default"}});function Vs({className:t,variant:e,...n}){return y.jsx("div",{className:ue(eZ({variant:e}),t),...n})}function tt({className:t,...e}){return y.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",t),...e})}const yb=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:n,className:ue("w-full caption-bottom text-sm",t),...e})}));yb.displayName="Table";const bb=w.forwardRef(({className:t,...e},n)=>y.jsx("thead",{ref:n,className:ue("border-b",t),...e}));bb.displayName="TableHeader";const wb=w.forwardRef(({className:t,...e},n)=>y.jsx("tbody",{ref:n,className:ue("[&_tr:last-child]:border-0",t),...e}));wb.displayName="TableBody";const ii=w.forwardRef(({className:t,...e},n)=>y.jsx("tr",{ref:n,className:ue("border-b transition-colors hover:bg-muted/40 data-[state=selected]:bg-muted",t),...e}));ii.displayName="TableRow";const hu=w.forwardRef(({className:t,...e},n)=>y.jsx("th",{ref:n,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));hu.displayName="TableHead";const It=w.forwardRef(({className:t,...e},n)=>y.jsx("td",{ref:n,className:ue("p-4 align-middle text-sm",t),...e}));It.displayName="TableCell";const tZ=w.forwardRef(({className:t,...e},n)=>y.jsx("caption",{ref:n,className:ue("mt-4 text-sm text-muted-foreground",t),...e}));tZ.displayName="TableCaption";const nZ=nh("pointer-events-auto w-full max-w-sm rounded-lg border px-4 py-3 shadow-lg",{variants:{variant:{info:"border bg-card text-foreground",success:"border-emerald-500/40 bg-emerald-500/15 text-emerald-700",error:"border-destructive/40 bg-destructive/10 text-destructive"}},defaultVariants:{variant:"info"}});function Vp({title:t,description:e,variant:n,className:r,onClose:i,...s}){const a=n==="success"?"text-emerald-700/80":n==="error"?"text-destructive/80":"text-muted-foreground";return y.jsx("div",{className:ue(nZ({variant:n}),r),...s,children:y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-sm font-semibold",children:t}),e?y.jsx("p",{className:ue("text-xs",a),children:e}):null]}),i?y.jsx("button",{type:"button",onClick:i,className:"rounded-md border px-2 py-1 text-xs text-muted-foreground transition hover:text-foreground",children:"Fermer"}):null]})})}async function rZ(t,e){const n=e.answers??{},r=[];for(const[s,a]of Object.entries(n)){if(!a||typeof a!="object")continue;const l=a,u=l.textAnswers,f=l.fileUploadAnswers;if(u?.answers?.length)for(let d=0;d<u.answers.length;d++)r.push({submission_id:t,question_id:s,answer_index:d,value_text:u.answers[d]?.value??null});else if(f?.answers?.length)for(let d=0;d<f.answers.length;d++){const m=f.answers[d];r.push({submission_id:t,question_id:s,answer_index:d,value_text:m?.fileName||m?.fileId||null})}}if(r.length===0)return 0;const{error:i}=await kr.from("form_submission_answers").upsert(r,{onConflict:"submission_id,question_id,answer_index"});if(i)throw new Error(i.message);return r.length}async function wQ(){const{data:t,error:e}=await kr.from("form_submission_answers").select("submission_id");if(e)throw new Error(e.message);const n=new Set((t??[]).map(l=>l.submission_id)),{data:r,error:i}=await kr.from("form_submissions").select("id, raw_json");if(i)throw new Error(i.message);if(!r?.length)return{total:0,normalized:0,answersCreated:0};const s=r.filter(l=>!n.has(l.id));let a=0;for(const l of s){const u=await rZ(l.id,l.raw_json);a+=u}return{total:r.length,normalized:s.length,answersCreated:a}}async function zy(t){const{data:e,error:n}=await kr.from("form_submission_answers").select("question_id, answer_index, value_text").eq("submission_id",t).order("question_id").order("answer_index");if(n)throw new Error(n.message);return e??[]}function iZ(t){if(!t)return"--";const e=new Date(t);return Number.isNaN(e.getTime())?"--":e.toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})}function sZ(t){if(!t)return{count:0,preview:"--"};const e=Object.values(t),n=[];for(const s of e){if(!s||typeof s!="object")continue;const a=s,l=a.textAnswers,u=a.fileUploadAnswers;if(l?.answers?.length)for(const f of l.answers)f?.value&&n.push(f.value);else if(u?.answers?.length)for(const f of u.answers)(f?.fileName||f?.fileId)&&n.push(f.fileName||f.fileId||"")}const r=n.filter(Boolean),i=r.length===0?`${Object.keys(t).length} champs`:r.slice(0,2).join(" | ");return{count:Object.keys(t).length,preview:i}}function oZ(){const t=qs(),e=t?.accessToken,n="1Sg7TObIvEbrSDBgbFDzzD3ytSniYzUPId-cpOppHND8",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I",i="https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/import-form",[s,a]=w.useState(null),l=Jn({mutationFn:async()=>{if(!e)throw new Error("Session expire. Reconnectez-vous.");return KX(n,e)},onSuccess:x=>{const S=x,C=S.totalResponses??S.responses?.length??0;a({title:"Prvisualisation charge",description:`${C} rponses dtectes.`,variant:"info"})},onError:x=>{a({title:"Erreur de prvisualisation",description:x.message,variant:"error"})}}),u=Jn({mutationFn:async()=>{if(!e)throw new Error("Session expire. Reconnectez-vous.");const x=await fetch(i,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${r}`},body:JSON.stringify({formId:n,googleAccessToken:e,sessionId:t?.sessionId})});if(!x.ok){const S=await x.text();throw new Error(`Import failed: ${x.status} ${x.statusText}${S?` - ${S}`:""}`)}return await x.json()},onSuccess:async x=>{const{total:S,imported:C,updated:k,skipped:T}=x,R=S??C??0;try{const Q=await wQ();a({title:"Import termin",description:`Imports ${C??0} / ${R} | Modifis ${k??0} | Ignors ${T??0} | Normaliss ${Q.normalized} (${Q.answersCreated} rponses)`,variant:"success"})}catch{a({title:"Import termin (normalisation choue)",description:`Imports ${C??0} / ${R} | Modifis ${k??0} | Ignors ${T??0}`,variant:"success"})}},onError:x=>{a({title:"Erreur d'import",description:x.message,variant:"error"})}});w.useEffect(()=>{if(!s)return;const x=setTimeout(()=>a(null),4200);return()=>clearTimeout(x)},[s]);const f=l.data,d=w.useMemo(()=>f?.responses??[],[f]),m=w.useMemo(()=>[...d].sort((x,S)=>{const C=new Date(x.lastSubmittedTime||x.createTime||0).getTime();return new Date(S.lastSubmittedTime||S.createTime||0).getTime()-C}).slice(0,4),[d]),g=f?.totalResponses??d.length,O=u.data;return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex flex-1 flex-col gap-4 px-4 lg:px-6",children:[y.jsxs("div",{className:"shrink-0 grid gap-3 md:grid-cols-4",children:[y.jsx(en,{className:"border",children:y.jsxs(Tn,{className:"pb-2 pt-4",children:[y.jsx(yr,{className:"text-xs uppercase tracking-wider",children:"Total rponses"}),y.jsx(Hn,{className:"text-2xl font-bold tabular-nums",children:g||"--"})]})}),y.jsx(en,{className:"border",children:y.jsxs(Tn,{className:"pb-2 pt-4",children:[y.jsx(yr,{className:"text-xs uppercase tracking-wider",children:"Imports"}),y.jsx(Hn,{className:"text-2xl font-bold tabular-nums text-emerald-600",children:O?.imported??"--"})]})}),y.jsx(en,{className:"border",children:y.jsxs(Tn,{className:"pb-2 pt-4",children:[y.jsx(yr,{className:"text-xs uppercase tracking-wider",children:"Modifis"}),y.jsx(Hn,{className:"text-2xl font-bold tabular-nums text-amber-600",children:O?.updated??"--"})]})}),y.jsx(en,{className:"border",children:y.jsxs(Tn,{className:"pb-2 pt-4",children:[y.jsx(yr,{className:"text-xs uppercase tracking-wider",children:"Ignors"}),y.jsx(Hn,{className:"text-2xl font-bold tabular-nums text-slate-500",children:O?.skipped??"--"})]})})]}),u.isSuccess?y.jsx("div",{className:"shrink-0 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),y.jsx("span",{className:"font-medium",children:"Import effectu avec succs"})]})}):null,y.jsxs("div",{className:"grid min-h-0 min-w-0 flex-1 gap-4 lg:grid-cols-[1.25fr_0.75fr]",children:[y.jsxs(en,{className:"flex min-h-0 min-w-0 flex-col border",children:[y.jsx(Tn,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(Hn,{children:"Prvisualisation des rponses"}),y.jsx(yr,{children:"Les 4 dernires rponses Google Forms"})]}),y.jsx(Vs,{variant:l.isSuccess?"success":"outline",children:l.isSuccess?`${g} total`:"En attente"})]})}),y.jsxs(rr,{className:"flex min-h-0 flex-1 flex-col gap-3",children:[y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx(Fe,{type:"button",size:"sm",onClick:()=>l.mutate(),disabled:l.isPending,children:l.isPending?"Chargement...":"Charger l'aperu"}),y.jsx(Fe,{type:"button",size:"sm",variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending,children:"Rafrachir"})]}),y.jsx("div",{className:"min-h-0 flex-1 overflow-hidden rounded-lg border",children:y.jsxs(yb,{children:[y.jsx(bb,{children:y.jsxs(ii,{className:"hover:bg-transparent",children:[y.jsx(hu,{className:"h-10",children:"Response ID"}),y.jsx(hu,{className:"h-10",children:"Soumis"}),y.jsx(hu,{className:"h-10",children:"Rponses"})]})}),y.jsx(wb,{children:l.isPending?Array.from({length:4}).map((x,S)=>y.jsxs(ii,{children:[y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-20 font-mono"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-24"})}),y.jsx(It,{className:"py-2.5",children:y.jsxs("div",{className:"space-y-1",children:[y.jsx(tt,{className:"h-4 w-32"}),y.jsx(tt,{className:"h-3 w-16"})]})})]},S)):m.length===0?y.jsx(ii,{children:y.jsx(It,{colSpan:3,className:"h-24 text-center text-muted-foreground",children:"Aucune rponse  afficher pour le moment."})}):m.map((x,S)=>{const C=sZ(x.answers);return y.jsxs(ii,{children:[y.jsx(It,{className:"py-2.5 font-mono text-xs",children:x.responseId?.slice(0,12)||"--"}),y.jsx(It,{className:"py-2.5 text-sm",children:iZ(x.lastSubmittedTime||x.createTime)}),y.jsx(It,{className:"py-2.5",children:y.jsxs("div",{className:"space-y-0.5",children:[y.jsx("p",{className:"text-sm",children:C.preview}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.count," champs"]})]})})]},x.responseId??S)})})]})}),y.jsx("div",{className:"rounded-lg border bg-muted/50 px-4 py-2 text-xs text-muted-foreground",children:"Le JSON brut est masqu pour garder une vue compacte."})]})]}),y.jsxs("div",{className:"grid min-h-0 min-w-0 gap-4 lg:grid-rows-[auto_1fr]",children:[y.jsxs(en,{className:"flex min-h-0 min-w-0 flex-col border",children:[y.jsx(Tn,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(Hn,{children:"Actions d'import"}),y.jsx(yr,{children:"Synchroniser les donnes Google Forms"})]}),y.jsx(Vs,{variant:u.isSuccess?"success":"outline",children:u.isSuccess?"Termin":"Prt"})]})}),y.jsx(rr,{className:"space-y-4",children:y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(Fe,{type:"button",onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full",children:u.isPending?"Import en cours...":"Importer dans Supabase"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Rcupre les rponses Google Forms, les enregistre dans Supabase et normalise automatiquement les champs (nom, email, tlphone) pour la recherche."})]})})]}),y.jsxs(en,{className:"flex min-h-0 min-w-0 flex-col border",children:[y.jsxs(Tn,{children:[y.jsx(Hn,{className:"text-base",children:"Aide-mmoire"}),y.jsx(yr,{children:"Points de vigilance avant import"})]}),y.jsxs(rr,{className:"space-y-2.5",children:[y.jsxs("div",{className:"flex gap-2 text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"-"}),y.jsx("p",{className:"text-muted-foreground",children:"Vrifier le mapping des champs avant l'import"})]}),y.jsxs("div",{className:"flex gap-2 text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"-"}),y.jsx("p",{className:"text-muted-foreground",children:"Contrler les doublons sur la table Supabase"})]}),y.jsxs("div",{className:"flex gap-2 text-sm",children:[y.jsx("span",{className:"text-muted-foreground",children:"-"}),y.jsx("p",{className:"text-muted-foreground",children:"Mettre  jour le formulaire si besoin"})]})]})]})]})]})]}),s?y.jsx("div",{className:"fixed right-6 top-16 z-50 flex w-full max-w-sm flex-col gap-3",children:y.jsx(Vp,{title:s.title,description:s.description,variant:s.variant,onClose:()=>a(null)})}):null]})}const xQ=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const aZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lZ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const ik=t=>{const e=lZ(t);return e.charAt(0).toUpperCase()+e.slice(1)};var cZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uZ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hZ=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>w.createElement("svg",{ref:u,...cZ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xQ("lucide",i),...!s&&!uZ(l)&&{"aria-hidden":"true"},...l},[...a.map(([f,d])=>w.createElement(f,d)),...Array.isArray(s)?s:[s]]));const We=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(hZ,{ref:s,iconNode:e,className:xQ(`lucide-${aZ(ik(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ik(t),n};const fZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dZ=We("arrow-left",fZ);const pZ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mZ=We("briefcase",pZ);const gZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OZ=We("calendar",gZ);const vZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yZ=We("check",vZ);const bZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],wZ=We("chevrons-up-down",bZ);const xZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fv=We("circle-check",xZ);const SZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sk=We("circle-x",SZ);const CZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ok=We("clock",CZ);const _Z=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kZ=We("external-link",_Z);const TZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],al=We("file-text",TZ);const RZ=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],EZ=We("heart",RZ);const QZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PZ=We("history",QZ);const AZ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$Z=We("layout-dashboard",AZ);const MZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],jZ=We("life-buoy",MZ);const NZ=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],DZ=We("list-filter",NZ);const zZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LZ=We("log-out",zZ);const IZ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XZ=We("mail",IZ);const ZZ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],VZ=We("map-pin",ZZ);const BZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],qZ=We("panel-left",BZ);const UZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],YZ=We("pencil",UZ);const GZ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],FZ=We("phone",GZ);const WZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],HZ=We("save",WZ);const KZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rd=We("search",KZ);const JZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eV=We("settings",JZ);const tV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],SQ=We("shield",tV);const nV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ak=We("sparkles",nV);const rV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iV=We("trash-2",rV);const sV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oV=We("triangle-alert",sV);const aV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lV=We("upload",aV);const cV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],CQ=We("user",cV);const uV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_Q=We("users",uV);const hV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fV=We("x",hV),Do=w.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Do.displayName="Input";function Xs(t,e){return typeof t=="function"?t(e):t}function sr(t,e){return n=>{e.setState(r=>({...r,[t]:Xs(n,r[t])}))}}function Bp(t){return t instanceof Function}function dV(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function pV(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const a=e(s);a!=null&&a.length&&r(a)})};return r(t),n}function Te(t,e,n){let r=[],i;return s=>{let a;n.key&&n.debug&&(a=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((d,m)=>r[m]!==d)))return i;r=l;let f;if(n.key&&n.debug&&(f=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-a)*100)/100,m=Math.round((Date.now()-f)*100)/100,g=m/16,O=(x,S)=>{for(x=String(x);x.length<S;)x=" "+x;return x};console.info(`%c ${O(m,5)} /${O(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return i}}function Re(t,e,n,r){return{debug:()=>{var i;return(i=t?.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function mV(t,e,n,r){const i=()=>{var a;return(a=s.getValue())!=null?a:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Te(()=>[t,n,e,s],(a,l,u,f)=>({table:a,column:l,row:u,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Re(t.options,"debugCells"))};return t._features.forEach(a=>{a.createCell==null||a.createCell(s,n,e,t)},{}),s}function gV(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let f=(i=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:u&&(u.includes(".")?d=g=>{let O=g;for(const S of u.split(".")){var x;O=(x=O)==null?void 0:x[S]}return O}:d=g=>g[l.accessorKey]),!f)throw new Error;let m={id:`${String(f)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Te(()=>[!0],()=>{var g;return[m,...(g=m.columns)==null?void 0:g.flatMap(O=>O.getFlatColumns())]},Re(t.options,"debugColumns")),getLeafColumns:Te(()=>[t._getOrderColumnsFn()],g=>{var O;if((O=m.columns)!=null&&O.length){let x=m.columns.flatMap(S=>S.getLeafColumns());return g(x)}return[m]},Re(t.options,"debugColumns"))};for(const g of t._features)g.createColumn==null||g.createColumn(m,t);return m}const ln="debugHeaders";function lk(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),a.push(u)};return l(s),a},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(a=>{a.createHeader==null||a.createHeader(s,t)}),s}const OV={createTable:t=>{t.getHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,a;const l=(s=r?.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?s:[],u=(a=i?.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?a:[],f=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(i!=null&&i.includes(m.id)));return Gf(e,[...l,...f,...u],t)},Re(t.options,ln)),t.getCenterHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Gf(e,n,t,"center")),Re(t.options,ln)),t.getLeftHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return Gf(e,s,t,"left")},Re(t.options,ln)),t.getRightHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r?.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?i:[];return Gf(e,s,t,"right")},Re(t.options,ln)),t.getFooterGroups=Te(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Re(t.options,ln)),t.getLeftFooterGroups=Te(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Re(t.options,ln)),t.getCenterFooterGroups=Te(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Re(t.options,ln)),t.getRightFooterGroups=Te(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Re(t.options,ln)),t.getFlatHeaders=Te(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Re(t.options,ln)),t.getLeftFlatHeaders=Te(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Re(t.options,ln)),t.getCenterFlatHeaders=Te(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Re(t.options,ln)),t.getRightFlatHeaders=Te(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Re(t.options,ln)),t.getCenterLeafHeaders=Te(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Re(t.options,ln)),t.getLeftLeafHeaders=Te(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Re(t.options,ln)),t.getRightLeafHeaders=Te(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Re(t.options,ln)),t.getLeafHeaders=Te(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,a,l,u,f;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(u=(f=r[0])==null?void 0:f.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},Re(t.options,ln))}};function Gf(t,e,n,r){var i,s;let a=0;const l=function(g,O){O===void 0&&(O=1),a=Math.max(a,O),g.filter(x=>x.getIsVisible()).forEach(x=>{var S;(S=x.columns)!=null&&S.length&&l(x.columns,O+1)},0)};l(t);let u=[];const f=(g,O)=>{const x={depth:O,id:[r,`${O}`].filter(Boolean).join("_"),headers:[]},S=[];g.forEach(C=>{const k=[...S].reverse()[0],T=C.column.depth===x.depth;let R,Q=!1;if(T&&C.column.parent?R=C.column.parent:(R=C.column,Q=!0),k&&k?.column===R)k.subHeaders.push(C);else{const A=lk(n,R,{id:[r,O,R.id,C?.id].filter(Boolean).join("_"),isPlaceholder:Q,placeholderId:Q?`${S.filter($=>$.column===R).length}`:void 0,depth:O,index:S.length});A.subHeaders.push(C),S.push(A)}x.headers.push(C),C.headerGroup=x}),u.push(x),O>0&&f(S,O-1)},d=e.map((g,O)=>lk(n,g,{depth:a,index:O}));f(d,a-1),u.reverse();const m=g=>g.filter(x=>x.column.getIsVisible()).map(x=>{let S=0,C=0,k=[0];x.subHeaders&&x.subHeaders.length?(k=[],m(x.subHeaders).forEach(R=>{let{colSpan:Q,rowSpan:A}=R;S+=Q,k.push(A)})):S=1;const T=Math.min(...k);return C=C+T,x.colSpan=S,x.rowSpan=C,{colSpan:S,rowSpan:C}});return m((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const xb=(t,e,n,r,i,s,a)=>{let l={id:e,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return l._valuesCache[u]=f.accessorFn(l.original,r),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=f.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var f;return(f=l.getValue(u))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>pV(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],f=l;for(;;){const d=f.getParentRow();if(!d)break;u.push(d),f=d}return u.reverse()},getAllCells:Te(()=>[t.getAllLeafColumns()],u=>u.map(f=>mV(t,l,f,f.id)),Re(t.options,"debugRows")),_getAllCellsByColumnId:Te(()=>[l.getAllCells()],u=>u.reduce((f,d)=>(f[d.column.id]=d,f),{}),Re(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const f=t._features[u];f==null||f.createRow==null||f.createRow(l,t)}return l},vV={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},kQ=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};kQ.autoRemove=t=>Ir(t);const TQ=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};TQ.autoRemove=t=>Ir(t);const RQ=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};RQ.autoRemove=t=>Ir(t);const EQ=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};EQ.autoRemove=t=>Ir(t);const QQ=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});QQ.autoRemove=t=>Ir(t)||!(t!=null&&t.length);const PQ=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});PQ.autoRemove=t=>Ir(t)||!(t!=null&&t.length);const AQ=(t,e,n)=>t.getValue(e)===n;AQ.autoRemove=t=>Ir(t);const $Q=(t,e,n)=>t.getValue(e)==n;$Q.autoRemove=t=>Ir(t);const Sb=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};Sb.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(i)?1/0:i;if(s>a){const l=s;s=a,a=l}return[s,a]};Sb.autoRemove=t=>Ir(t)||Ir(t[0])&&Ir(t[1]);const qi={includesString:kQ,includesStringSensitive:TQ,equalsString:RQ,arrIncludes:EQ,arrIncludesAll:QQ,arrIncludesSome:PQ,equals:AQ,weakEquals:$Q,inNumberRange:Sb};function Ir(t){return t==null||t===""}const yV={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:sr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?qi.includesString:typeof r=="number"?qi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?qi.equals:Array.isArray(r)?qi.arrIncludes:qi.weakEquals},t.getFilterFn=()=>{var n,r;return Bp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:qi[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r?.find(d=>d.id===t.id),a=Xs(n,s?s.value:void 0);if(ck(i,a,t)){var l;return(l=r?.filter(d=>d.id!==t.id))!=null?l:[]}const u={id:t.id,value:a};if(s){var f;return(f=r?.map(d=>d.id===t.id?u:d))!=null?f:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Xs(e,i))==null?void 0:s.filter(a=>{const l=n.find(u=>u.id===a.id);if(l){const u=l.getFilterFn();if(ck(u,a.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function ck(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const bV=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),wV=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},xV=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},SV=(t,e,n)=>{let r,i;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}),[r,i]},CV=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},_V=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!dV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,a)=>s-a);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},kV=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),TV=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,RV=(t,e)=>e.length,dv={sum:bV,min:wV,max:xV,extent:SV,mean:CV,median:_V,unique:kV,uniqueCount:TV,count:RV},EV={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:sr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return dv.sum;if(Object.prototype.toString.call(r)==="[object Date]")return dv.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Bp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:dv[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function QV(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(a=>a.id===s)).filter(Boolean),...r]}const PV={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:sr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Te(n=>[fu(e,n)],n=>n.findIndex(r=>r.id===t.id),Re(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=fu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=fu(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Te(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const a=[...e],l=[...i];for(;l.length&&a.length;){const u=a.shift(),f=l.findIndex(d=>d.id===u);f>-1&&s.push(l.splice(f,1)[0])}s=[...s,...l]}return QV(s,n,r)},Re(t.options,"debugTable"))}},pv=()=>({left:[],right:[]}),AV={getInitialState:t=>({columnPinning:pv(),...t}),getDefaultOptions:t=>({onColumnPinningChange:sr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,a;if(n==="right"){var l,u;return{left:((l=i?.left)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((u=i?.right)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var f,d;return{left:[...((f=i?.left)!=null?f:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((d=i?.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((s=i?.left)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m))),right:((a=i?.right)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,a;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(a=e.options.enableColumnPinning)!=null?a:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"left":a?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(a=>!s.includes(a.column.id))},Re(e.options,"debugRows")),t.getLeftVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Re(e.options,"debugRows")),t.getRightVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Re(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?pv():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:pv())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Re(t.options,"debugColumns")),t.getRightLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Re(t.options,"debugColumns")),t.getCenterLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Re(t.options,"debugColumns"))}};function $V(t){return t||(typeof document<"u"?document:null)}const Ff={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},mv=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),MV={getDefaultColumnDef:()=>Ff,getInitialState:t=>({columnSizing:{},columnSizingInfo:mv(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:sr("columnSizing",t),onColumnSizingInfoChange:sr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Ff.minSize,(r=s??t.columnDef.size)!=null?r:Ff.size),(i=t.columnDef.maxSize)!=null?i:Ff.maxSize)},t.getStart=Te(n=>[n,fu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Re(e.options,"debugColumns")),t.getAfter=Te(n=>[n,fu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Re(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r?.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),gv(s)&&s.touches&&s.touches.length>1))return;const a=t.getSize(),l=t?t.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[r.id,r.getSize()]],u=gv(s)?Math.round(s.touches[0].clientX):s.clientX,f={},d=(k,T)=>{typeof T=="number"&&(e.setColumnSizingInfo(R=>{var Q,A;const $=e.options.columnResizeDirection==="rtl"?-1:1,P=(T-((Q=R?.startOffset)!=null?Q:0))*$,Z=Math.max(P/((A=R?.startSize)!=null?A:0),-.999999);return R.columnSizingStart.forEach(B=>{let[ee,re]=B;f[ee]=Math.round(Math.max(re+re*Z,0)*100)/100}),{...R,deltaOffset:P,deltaPercentage:Z}}),(e.options.columnResizeMode==="onChange"||k==="end")&&e.setColumnSizing(R=>({...R,...f})))},m=k=>d("move",k),g=k=>{d("end",k),e.setColumnSizingInfo(T=>({...T,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},O=$V(n),x={moveHandler:k=>m(k.clientX),upHandler:k=>{O?.removeEventListener("mousemove",x.moveHandler),O?.removeEventListener("mouseup",x.upHandler),g(k.clientX)}},S={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),m(k.touches[0].clientX),!1),upHandler:k=>{var T;O?.removeEventListener("touchmove",S.moveHandler),O?.removeEventListener("touchend",S.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),g((T=k.touches[0])==null?void 0:T.clientX)}},C=jV()?{passive:!1}:!1;gv(s)?(O?.addEventListener("touchmove",S.moveHandler,C),O?.addEventListener("touchend",S.upHandler,C)):(O?.addEventListener("mousemove",x.moveHandler,C),O?.addEventListener("mouseup",x.upHandler,C)),e.setColumnSizingInfo(k=>({...k,startOffset:u,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?mv():(n=t.initialState.columnSizingInfo)!=null?n:mv())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let Wf=null;function jV(){if(typeof Wf=="boolean")return Wf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Wf=t,Wf}function gv(t){return t.type==="touchstart"}const NV={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:sr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Te(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Re(e.options,"debugRows")),t.getVisibleCells=Te(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Re(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Te(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Re(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function fu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const DV={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},zV={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:sr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>qi.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Bp(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:qi[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},LV={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:sr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const a=s.split(".");r=Math.max(r,a.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let a={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=r,n=(i=n)!=null?i:!s,!s&&n)return{...a,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=a;return u}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Ly=0,Iy=10,Ov=()=>({pageIndex:Ly,pageSize:Iy}),IV={getInitialState:t=>({...t,pagination:{...Ov(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:sr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Xs(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?Ov():(i=t.initialState.pagination)!=null?i:Ov())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Xs(r,i.pageIndex);const a=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?Ly:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Ly)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Iy:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Iy)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Xs(r,i.pageSize)),a=i.pageSize*i.pageIndex,l=Math.floor(a/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let a=Xs(r,(s=t.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),t.getPageOptions=Te(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,a)=>a)),i},Re(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},vv=()=>({top:[],bottom:[]}),XV={getInitialState:t=>({rowPinning:vv(),...t}),getDefaultOptions:t=>({onRowPinningChange:sr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(u=>{let{id:f}=u;return f}):[],a=i?t.getParentRows().map(u=>{let{id:f}=u;return f}):[],l=new Set([...a,t.id,...s]);e.setRowPinning(u=>{var f,d;if(n==="bottom"){var m,g;return{top:((m=u?.top)!=null?m:[]).filter(S=>!(l!=null&&l.has(S))),bottom:[...((g=u?.bottom)!=null?g:[]).filter(S=>!(l!=null&&l.has(S))),...Array.from(l)]}}if(n==="top"){var O,x;return{top:[...((O=u?.top)!=null?O:[]).filter(S=>!(l!=null&&l.has(S))),...Array.from(l)],bottom:((x=u?.bottom)!=null?x:[]).filter(S=>!(l!=null&&l.has(S)))}}return{top:((f=u?.top)!=null?f:[]).filter(S=>!(l!=null&&l.has(S))),bottom:((d=u?.bottom)!=null?d:[]).filter(S=>!(l!=null&&l.has(S)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r?.includes(l)),a=n.some(l=>i?.includes(l));return s?"top":a?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(r=s?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?vv():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:vv())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const l=t.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>e.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:r}))},t.getTopRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Re(t.options,"debugRows")),t.getBottomRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Re(t.options,"debugRows")),t.getCenterRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Re(t.options,"debugRows"))}},ZV={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:sr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Xy(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?yv(t,n):{rows:[],flatRows:[],rowsById:{}},Re(t.options,"debugTable")),t.getFilteredSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?yv(t,n):{rows:[],flatRows:[],rowsById:{}},Re(t.options,"debugTable")),t.getGroupedSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?yv(t,n):{rows:[],flatRows:[],rowsById:{}},Re(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Xy(l,t.id,n,(a=r?.selectChildren)!=null?a:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Cb(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Zy(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Zy(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Xy=(t,e,n,r,i)=>{var s;const a=i.getRow(e,!0);n?(a.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),a.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>Xy(t,l.id,n,r,i))};function yv(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(a,l){return a.map(u=>{var f;const d=Cb(u,n);if(d&&(r.push(u),i[u.id]=u),(f=u.subRows)!=null&&f.length&&(u={...u,subRows:s(u.subRows)}),d)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function Cb(t,e){var n;return(n=e[t.id])!=null?n:!1}function Zy(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(a=>{if(!(s&&!i)&&(a.getCanSelect()&&(Cb(a,e)?s=!0:i=!1),a.subRows&&a.subRows.length)){const l=Zy(a,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Vy=/([0-9]+)/gm,VV=(t,e,n)=>MQ(Us(t.getValue(n)).toLowerCase(),Us(e.getValue(n)).toLowerCase()),BV=(t,e,n)=>MQ(Us(t.getValue(n)),Us(e.getValue(n))),qV=(t,e,n)=>_b(Us(t.getValue(n)).toLowerCase(),Us(e.getValue(n)).toLowerCase()),UV=(t,e,n)=>_b(Us(t.getValue(n)),Us(e.getValue(n))),YV=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},GV=(t,e,n)=>_b(t.getValue(n),e.getValue(n));function _b(t,e){return t===e?0:t>e?1:-1}function Us(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function MQ(t,e){const n=t.split(Vy).filter(Boolean),r=e.split(Vy).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),a=parseInt(i,10),l=parseInt(s,10),u=[a,l].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-r.length}const Vc={alphanumeric:VV,alphanumericCaseSensitive:BV,text:qV,textCaseSensitive:UV,datetime:YV,basic:GV},FV={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:sr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Vc.datetime;if(typeof s=="string"&&(r=!0,s.split(Vy).length>1))return Vc.alphanumeric}return r?Vc.text:Vc.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Bp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Vc[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(a=>{const l=a?.find(O=>O.id===t.id),u=a?.findIndex(O=>O.id===t.id);let f=[],d,m=s?n:i==="desc";if(a!=null&&a.length&&t.getCanMultiSort()&&r?l?d="toggle":d="add":a!=null&&a.length&&u!==a.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(s||i||(d="remove")),d==="add"){var g;f=[...a,{id:t.id,desc:m}],f.splice(0,f.length-((g=e.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else d==="toggle"?f=a.map(O=>O.id===t.id?{...O,desc:m}:O):d==="remove"?f=a.filter(O=>O.id!==t.id):f=[{id:t.id,desc:m}];return f})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),a=t.getIsSorted();return a?a!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},WV=[OV,NV,PV,AV,vV,yV,DV,zV,FV,EV,LV,IV,XV,ZV,MV];function HV(t){var e,n;const r=[...WV,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((g,O)=>Object.assign(g,O.getDefaultOptions==null?void 0:O.getDefaultOptions(i)),{}),a=g=>i.options.mergeOptions?i.options.mergeOptions(s,g):{...s,...g};let u={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(g=>{var O;u=(O=g.getInitialState==null?void 0:g.getInitialState(u))!=null?O:u});const f=[];let d=!1;const m={_features:r,options:{...s,...t},initialState:u,_queue:g=>{f.push(g),d||(d=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();d=!1}).catch(O=>setTimeout(()=>{throw O})))},reset:()=>{i.setState(i.initialState)},setOptions:g=>{const O=Xs(g,i.options);i.options=a(O)},getState:()=>i.options.state,setState:g=>{i.options.onStateChange==null||i.options.onStateChange(g)},_getRowId:(g,O,x)=>{var S;return(S=i.options.getRowId==null?void 0:i.options.getRowId(g,O,x))!=null?S:`${x?[x.id,O].join("."):O}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(g,O)=>{let x=(O?i.getPrePaginationRowModel():i.getRowModel()).rowsById[g];if(!x&&(x=i.getCoreRowModel().rowsById[g],!x))throw new Error;return x},_getDefaultColumnDef:Te(()=>[i.options.defaultColumn],g=>{var O;return g=(O=g)!=null?O:{},{header:x=>{const S=x.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:x=>{var S,C;return(S=(C=x.renderValue())==null||C.toString==null?void 0:C.toString())!=null?S:null},...i._features.reduce((x,S)=>Object.assign(x,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...g}},Re(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Te(()=>[i._getColumnDefs()],g=>{const O=function(x,S,C){return C===void 0&&(C=0),x.map(k=>{const T=gV(i,k,C,S),R=k;return T.columns=R.columns?O(R.columns,T,C+1):[],T})};return O(g)},Re(t,"debugColumns")),getAllFlatColumns:Te(()=>[i.getAllColumns()],g=>g.flatMap(O=>O.getFlatColumns()),Re(t,"debugColumns")),_getAllFlatColumnsById:Te(()=>[i.getAllFlatColumns()],g=>g.reduce((O,x)=>(O[x.id]=x,O),{}),Re(t,"debugColumns")),getAllLeafColumns:Te(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(g,O)=>{let x=g.flatMap(S=>S.getLeafColumns());return O(x)},Re(t,"debugColumns")),getColumn:g=>i._getAllFlatColumnsById()[g]};Object.assign(i,m);for(let g=0;g<i._features.length;g++){const O=i._features[g];O==null||O.createTable==null||O.createTable(i)}return i}function KV(){return t=>Te(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,a){s===void 0&&(s=0);const l=[];for(let f=0;f<i.length;f++){const d=xb(t,t._getRowId(i[f],f,a),i[f],f,s,void 0,a?.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(i[f],f),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return l};return n.rows=r(e),n},Re(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function JV(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function jQ(t,e,n){return n.options.filterFromLeafRows?eB(t,e,n):tB(t,e,n)}function eB(t,e,n){var r;const i=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(u,f){f===void 0&&(f=0);const d=[];for(let g=0;g<u.length;g++){var m;let O=u[g];const x=xb(n,O.id,O.original,O.index,O.depth,void 0,O.parentId);if(x.columnFilters=O.columnFilters,(m=O.subRows)!=null&&m.length&&f<a){if(x.subRows=l(O.subRows,f+1),O=x,e(O)&&!x.subRows.length){d.push(O),s[O.id]=O,i.push(O);continue}if(e(O)||x.subRows.length){d.push(O),s[O.id]=O,i.push(O);continue}}else O=x,e(O)&&(d.push(O),s[O.id]=O,i.push(O))}return d};return{rows:l(t),flatRows:i,rowsById:s}}function tB(t,e,n){var r;const i=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(u,f){f===void 0&&(f=0);const d=[];for(let g=0;g<u.length;g++){let O=u[g];if(e(O)){var m;if((m=O.subRows)!=null&&m.length&&f<a){const S=xb(n,O.id,O.original,O.index,O.depth,void 0,O.parentId);S.subRows=l(O.subRows,f+1),O=S}d.push(O),i.push(O),s[O.id]=O}}return d};return{rows:l(t),flatRows:i,rowsById:s}}function nB(){return(t,e)=>Te(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),a=l=>{for(let u=0;u<s.length;u++)if(l.columnFilters[s[u]]===!1)return!1;return!0};return jQ(n.rows,a,t)},Re(t.options,"debugTable"))}function rB(){return(t,e)=>Te(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const a=n.flatRows[s].getUniqueValues(e);for(let l=0;l<a.length;l++){const u=a[l];if(r.has(u)){var i;r.set(u,((i=r.get(u))!=null?i:0)+1)}else r.set(u,1)}}return r},Re(t.options,"debugTable"))}function iB(){return t=>Te(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<e.flatRows.length;g++)e.flatRows[g].columnFilters={},e.flatRows[g].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(g=>{var O;const x=t.getColumn(g.id);if(!x)return;const S=x.getFilterFn();S&&i.push({id:g.id,filterFn:S,resolvedValue:(O=S.resolveFilterValue==null?void 0:S.resolveFilterValue(g.value))!=null?O:g.value})});const a=(n??[]).map(g=>g.id),l=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&l&&u.length&&(a.push("__global__"),u.forEach(g=>{var O;s.push({id:g.id,filterFn:l,resolvedValue:(O=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?O:r})}));let f,d;for(let g=0;g<e.flatRows.length;g++){const O=e.flatRows[g];if(O.columnFilters={},i.length)for(let x=0;x<i.length;x++){f=i[x];const S=f.id;O.columnFilters[S]=f.filterFn(O,S,f.resolvedValue,C=>{O.columnFiltersMeta[S]=C})}if(s.length){for(let x=0;x<s.length;x++){d=s[x];const S=d.id;if(d.filterFn(O,S,d.resolvedValue,C=>{O.columnFiltersMeta[S]=C})){O.columnFilters.__global__=!0;break}}O.columnFilters.__global__!==!0&&(O.columnFilters.__global__=!1)}}const m=g=>{for(let O=0;O<a.length;O++)if(g.columnFilters[a[O]]===!1)return!1;return!0};return jQ(e.rows,m,t)},Re(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function sB(t){return e=>Te(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:a,flatRows:l,rowsById:u}=r;const f=i*s,d=f+i;a=a.slice(f,d);let m;e.options.paginateExpandedRows?m={rows:a,flatRows:l,rowsById:u}:m=JV({rows:a,flatRows:l,rowsById:u}),m.flatRows=[];const g=O=>{m.flatRows.push(O),O.subRows.length&&O.subRows.forEach(g)};return m.rows.forEach(g),m},Re(e.options,"debugTable"))}function uk(t,e){return t?oB(t)?w.createElement(t,e):t:null}function oB(t){return aB(t)||typeof t=="function"||lB(t)}function aB(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function lB(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function cB(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=w.useState(()=>({current:HV(e)})),[r,i]=w.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:a=>{i(a),t.onStateChange==null||t.onStateChange(a)}})),n.current}async function uB(t,e){const i=await fetch("https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/generate-invitation",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I"},body:JSON.stringify({formSubmissionId:t,invitedBy:e})});if(!i.ok){const s=await i.text();throw new Error(`Invitation failed: ${i.status} ${i.statusText}${s?` - ${s}`:""}`)}return await i.json()}async function kb(){const{data:t,error:e}=await kr.from("form_question_map").select("question_id, label, display_order").order("display_order",{ascending:!0});if(e)throw new Error(e.message);return t??[]}async function hB(t){if(t.length===0)return[];const{data:e,error:n}=await kr.from("form_question_map").upsert(t,{onConflict:"question_id"}).select("question_id, label, display_order");if(n)throw new Error(n.message);return e??[]}async function hk(t={}){const r=await fetch("https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/search-submissions",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I"},body:JSON.stringify({name:t.name,email:t.email,phone:t.phone,age:t.age,gender:t.gender,children:t.children,freetext:t.freetext,limit:t.limit,offset:t.offset})});if(!r.ok){const s=await r.text();throw new Error(`Search failed: ${r.status} ${r.statusText}${s?` - ${s}`:""}`)}const i=await r.json();if(!i.ok)throw new Error(i.error||"Search failed.");return i.rows??[]}function qp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fB=["color"],NQ=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=qp(t,fB);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dB=["color"],pB=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=qp(t,dB);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mB=["color"],gB=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=qp(t,mB);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),OB=["color"],vB=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=qp(t,OB);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM7.50003 4C7.77617 4 8.00003 4.22386 8.00003 4.5V7H10.5C10.7762 7 11 7.22386 11 7.5C11 7.77614 10.7762 8 10.5 8H8.00003V10.5C8.00003 10.7761 7.77617 11 7.50003 11C7.22389 11 7.00003 10.7761 7.00003 10.5V8H4.50003C4.22389 8 4.00003 7.77614 4.00003 7.5C4.00003 7.22386 4.22389 7 4.50003 7H7.00003V4.5C7.00003 4.22386 7.22389 4 7.50003 4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fk=1,yB=.9,bB=.8,wB=.17,bv=.1,wv=.999,xB=.9999,SB=.99,CB=/[\\\/_+.#"@\[\(\{&]/,_B=/[\\\/_+.#"@\[\(\{&]/g,kB=/[\s-]/,DQ=/[\s-]/g;function By(t,e,n,r,i,s,a){if(s===e.length)return i===t.length?fk:SB;var l=`${i},${s}`;if(a[l]!==void 0)return a[l];for(var u=r.charAt(s),f=n.indexOf(u,i),d=0,m,g,O,x;f>=0;)m=By(t,e,n,r,f+1,s+1,a),m>d&&(f===i?m*=fk:CB.test(t.charAt(f-1))?(m*=bB,O=t.slice(i,f-1).match(_B),O&&i>0&&(m*=Math.pow(wv,O.length))):kB.test(t.charAt(f-1))?(m*=yB,x=t.slice(i,f-1).match(DQ),x&&i>0&&(m*=Math.pow(wv,x.length))):(m*=wB,i>0&&(m*=Math.pow(wv,f-i))),t.charAt(f)!==e.charAt(s)&&(m*=xB)),(m<bv&&n.charAt(f-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(f-1)!==r.charAt(s))&&(g=By(t,e,n,r,f+1,s+2,a),g*bv>m&&(m=g*bv)),m>d&&(d=m),f=n.indexOf(u,f+1);return a[l]=d,d}function dk(t){return t.toLowerCase().replace(DQ," ")}function TB(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,By(t,e,dk(t),dk(e),0,0,{})}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function RB(t,e){const n=w.createContext(e),r=s=>{const{children:a,...l}=s,u=w.useMemo(()=>l,Object.values(l));return y.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=w.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function os(t,e=[]){let n=[];function r(s,a){const l=w.createContext(a),u=n.length;n=[...n,a];const f=m=>{const{scope:g,children:O,...x}=m,S=g?.[t]?.[u]||l,C=w.useMemo(()=>x,Object.values(x));return y.jsx(S.Provider,{value:C,children:O})};f.displayName=s+"Provider";function d(m,g){const O=g?.[t]?.[u]||l,x=w.useContext(O);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(l){const u=l?.[t]||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,EB(i,...e)]}function EB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:f})=>{const m=u(s)[`__scope${f}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Ji=globalThis?.document?w.useLayoutEffect:()=>{},QB=nb[" useId ".trim().toString()]||(()=>{}),PB=0;function $n(t){const[e,n]=w.useState(QB());return Ji(()=>{n(r=>r??String(PB++))},[t]),e?`radix-${e}`:""}var AB=nb[" useInsertionEffect ".trim().toString()]||Ji;function rh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=$B({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const d=w.useRef(t!==void 0);w.useEffect(()=>{const m=d.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const f=w.useCallback(d=>{if(l){const m=MB(d)?d(t):d;m!==t&&a.current?.(m)}else s(d)},[l,t,s,a]);return[u,f]}function $B({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),i=w.useRef(n),s=w.useRef(e);return AB(()=>{s.current=e},[e]),w.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function MB(t){return typeof t=="function"}function jB(t){const e=NB(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,l=w.Children.toArray(s),u=l.find(zB);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function NB(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=IB(i),l=LB(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DB=Symbol("radix.slottable");function zB(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DB}function LB(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function IB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var XB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=XB.reduce((t,e)=>{const n=jB(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zQ(t,e){t&&Fi.flushSync(()=>t.dispatchEvent(e))}function un(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function ZB(t,e=globalThis?.document){const n=un(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var VB="DismissableLayer",qy="dismissableLayer.update",BB="dismissableLayer.pointerDownOutside",qB="dismissableLayer.focusOutside",pk,LQ=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ih=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,f=w.useContext(LQ),[d,m]=w.useState(null),g=d?.ownerDocument??globalThis?.document,[,O]=w.useState({}),x=ut(e,P=>m(P)),S=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(C),T=d?S.indexOf(d):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,Q=T>=k,A=GB(P=>{const Z=P.target,B=[...f.branches].some(ee=>ee.contains(Z));!Q||B||(i?.(P),a?.(P),P.defaultPrevented||l?.())},g),$=FB(P=>{const Z=P.target;[...f.branches].some(ee=>ee.contains(Z))||(s?.(P),a?.(P),P.defaultPrevented||l?.())},g);return ZB(P=>{T===f.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},g),w.useEffect(()=>{if(d)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(pk=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),mk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=pk)}},[d,g,n,f]),w.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),mk())},[d,f]),w.useEffect(()=>{const P=()=>O({});return document.addEventListener(qy,P),()=>document.removeEventListener(qy,P)},[]),y.jsx(nt.div,{...u,ref:x,style:{pointerEvents:R?Q?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,A.onPointerDownCapture)})});ih.displayName=VB;var UB="DismissableLayerBranch",YB=w.forwardRef((t,e)=>{const n=w.useContext(LQ),r=w.useRef(null),i=ut(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(nt.div,{...t,ref:i})});YB.displayName=UB;function GB(t,e=globalThis?.document){const n=un(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){IQ(BB,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function FB(t,e=globalThis?.document){const n=un(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&IQ(qB,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mk(){const t=new CustomEvent(qy);document.dispatchEvent(t)}function IQ(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?zQ(i,s):i.dispatchEvent(s)}var xv="focusScope.autoFocusOnMount",Sv="focusScope.autoFocusOnUnmount",gk={bubbles:!1,cancelable:!0},WB="FocusScope",Up=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=w.useState(null),f=un(i),d=un(s),m=w.useRef(null),g=ut(e,S=>u(S)),O=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let S=function(R){if(O.paused||!l)return;const Q=R.target;l.contains(Q)?m.current=Q:js(m.current,{select:!0})},C=function(R){if(O.paused||!l)return;const Q=R.relatedTarget;Q!==null&&(l.contains(Q)||js(m.current,{select:!0}))},k=function(R){if(document.activeElement===document.body)for(const A of R)A.removedNodes.length>0&&js(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const T=new MutationObserver(k);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),T.disconnect()}}},[r,l,O.paused]),w.useEffect(()=>{if(l){vk.add(O);const S=document.activeElement;if(!l.contains(S)){const k=new CustomEvent(xv,gk);l.addEventListener(xv,f),l.dispatchEvent(k),k.defaultPrevented||(HB(nq(XQ(l)),{select:!0}),document.activeElement===S&&js(l))}return()=>{l.removeEventListener(xv,f),setTimeout(()=>{const k=new CustomEvent(Sv,gk);l.addEventListener(Sv,d),l.dispatchEvent(k),k.defaultPrevented||js(S??document.body,{select:!0}),l.removeEventListener(Sv,d),vk.remove(O)},0)}}},[l,f,d,O]);const x=w.useCallback(S=>{if(!n&&!r||O.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(C&&k){const T=S.currentTarget,[R,Q]=KB(T);R&&Q?!S.shiftKey&&k===Q?(S.preventDefault(),n&&js(R,{select:!0})):S.shiftKey&&k===R&&(S.preventDefault(),n&&js(Q,{select:!0})):k===T&&S.preventDefault()}},[n,r,O.paused]);return y.jsx(nt.div,{tabIndex:-1,...a,ref:g,onKeyDown:x})});Up.displayName=WB;function HB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(js(r,{select:e}),document.activeElement!==n)return}function KB(t){const e=XQ(t),n=Ok(e,t),r=Ok(e.reverse(),t);return[n,r]}function XQ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ok(t,e){for(const n of t)if(!JB(n,{upTo:e}))return n}function JB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eq(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eq(t)&&e&&t.select()}}var vk=tq();function tq(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=yk(t,e),t.unshift(e)},remove(e){t=yk(t,e),t[0]?.resume()}}}function yk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nq(t){return t.filter(e=>e.tagName!=="A")}var rq="Portal",Yp=w.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=w.useState(!1);Ji(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?OL.createPortal(y.jsx(nt.div,{...r,ref:e}),a):null});Yp.displayName=rq;function iq(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var On=t=>{const{present:e,children:n}=t,r=sq(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=ut(r.ref,oq(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};On.displayName="Presence";function sq(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),s=w.useRef("none"),a=t?"mounted":"unmounted",[l,u]=iq(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=Hf(r.current);s.current=l==="mounted"?f:"none"},[l]),Ji(()=>{const f=r.current,d=i.current;if(d!==t){const g=s.current,O=Hf(f);t?u("MOUNT"):O==="none"||f?.display==="none"?u("UNMOUNT"):u(d&&g!==O?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Ji(()=>{if(e){let f;const d=e.ownerDocument.defaultView??window,m=O=>{const S=Hf(r.current).includes(CSS.escape(O.animationName));if(O.target===e&&S&&(u("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},g=O=>{O.target===e&&(s.current=Hf(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Hf(t){return t?.animationName||"none"}function oq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cv=0;function Tb(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bk()),document.body.insertAdjacentElement("beforeend",t[1]??bk()),Cv++,()=>{Cv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cv--}},[])}function bk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ed="right-scroll-bar-position",Qd="width-before-scroll-bar",aq="with-scroll-bars-hidden",lq="--removed-body-scroll-bar-size";function _v(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cq(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var uq=typeof window<"u"?w.useLayoutEffect:w.useEffect,wk=new WeakMap;function hq(t,e){var n=cq(null,function(r){return t.forEach(function(i){return _v(i,r)})});return uq(function(){var r=wk.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||_v(l,null)}),s.forEach(function(l){i.has(l)||_v(l,a)})}wk.set(n,t)},[t]),n}function fq(t){return t}function dq(t,e){e===void 0&&(e=fq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var d=a;a=[],d.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(d){a.push(d),f()},filter:function(d){return a=a.filter(d),n}}}};return i}function pq(t){t===void 0&&(t={});var e=dq(null);return e.options=ri({async:!0,ssr:!1},t),e}var ZQ=function(t){var e=t.sideCar,n=jl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ri({},n))};ZQ.isSideCarExport=!0;function mq(t,e){return t.useMedium(e),ZQ}var VQ=pq(),kv=function(){},Gp=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:kv,onWheelCapture:kv,onTouchMoveCapture:kv}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,d=t.enabled,m=t.shards,g=t.sideCar,O=t.noRelative,x=t.noIsolation,S=t.inert,C=t.allowPinchZoom,k=t.as,T=k===void 0?"div":k,R=t.gapMode,Q=jl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,$=hq([n,e]),P=ri(ri({},Q),i);return w.createElement(w.Fragment,null,d&&w.createElement(A,{sideCar:VQ,removeScrollBar:f,shards:m,noRelative:O,noIsolation:x,inert:S,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:R}),a?w.cloneElement(w.Children.only(l),ri(ri({},P),{ref:$})):w.createElement(T,ri({},P,{className:u,ref:$}),l))});Gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gp.classNames={fullWidth:Qd,zeroRight:Ed};var gq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Oq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gq();return e&&t.setAttribute("nonce",e),t}function vq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Oq())&&(vq(e,n),yq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wq=function(){var t=bq();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BQ=function(){var t=wq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xq={left:0,top:0,right:0,gap:0},Tv=function(t){return parseInt(t||"",10)||0},Sq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Tv(n),Tv(r),Tv(i)]},Cq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xq;var e=Sq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_q=BQ(),ll="data-scroll-locked",kq=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(lq,": ").concat(l,`px;
  }
`)},xk=function(){var t=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(t)?t:0},Tq=function(){w.useEffect(function(){return document.body.setAttribute(ll,(xk()+1).toString()),function(){var t=xk()-1;t<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,t.toString())}},[])},Rq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Tq();var s=w.useMemo(function(){return Cq(i)},[i]);return w.createElement(_q,{styles:kq(s,!e,i,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Kf=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Kf,Kf),window.removeEventListener("test",Kf,Kf)}catch{Uy=!1}var Va=Uy?{passive:!1}:!1,Eq=function(t){return t.tagName==="TEXTAREA"},qQ=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Eq(t)&&n[e]==="visible")},Qq=function(t){return qQ(t,"overflowY")},Pq=function(t){return qQ(t,"overflowX")},Sk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UQ(t,r);if(i){var s=YQ(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Aq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$q=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UQ=function(t,e){return t==="v"?Qq(e):Pq(e)},YQ=function(t,e){return t==="v"?Aq(e):$q(e)},Mq=function(t,e){return t==="h"&&e==="rtl"?-1:1},jq=function(t,e,n,r,i){var s=Mq(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),f=!1,d=a>0,m=0,g=0;do{if(!l)break;var O=YQ(t,l),x=O[0],S=O[1],C=O[2],k=S-C-s*x;(x||k)&&UQ(t,l)&&(m+=k,g+=x);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(d&&Math.abs(m)<1||!d&&Math.abs(g)<1)&&(f=!0),f},Jf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ck=function(t){return[t.deltaX,t.deltaY]},_k=function(t){return t&&"current"in t?t.current:t},Nq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Dq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zq=0,Ba=[];function Lq(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(zq++)[0],s=w.useState(BQ)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=yL([t.lockRef.current],(t.shards||[]).map(_k),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var k=Jf(S),T=n.current,R="deltaX"in S?S.deltaX:T[0]-k[0],Q="deltaY"in S?S.deltaY:T[1]-k[1],A,$=S.target,P=Math.abs(R)>Math.abs(Q)?"h":"v";if("touches"in S&&P==="h"&&$.type==="range")return!1;var Z=window.getSelection(),B=Z&&Z.anchorNode,ee=B?B===$||B.contains($):!1;if(ee)return!1;var re=Sk(P,$);if(!re)return!0;if(re?A=P:(A=P==="v"?"h":"v",re=Sk(P,$)),!re)return!1;if(!r.current&&"changedTouches"in S&&(R||Q)&&(r.current=A),!A)return!0;var H=r.current||A;return jq(H,C,S,H==="h"?R:Q)},[]),u=w.useCallback(function(S){var C=S;if(!(!Ba.length||Ba[Ba.length-1]!==s)){var k="deltaY"in C?Ck(C):Jf(C),T=e.current.filter(function(A){return A.name===C.type&&(A.target===C.target||C.target===A.shadowParent)&&Nq(A.delta,k)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var R=(a.current.shards||[]).map(_k).filter(Boolean).filter(function(A){return A.contains(C.target)}),Q=R.length>0?l(C,R[0]):!a.current.noIsolation;Q&&C.cancelable&&C.preventDefault()}}},[]),f=w.useCallback(function(S,C,k,T){var R={name:S,delta:C,target:k,should:T,shadowParent:Iq(k)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(Q){return Q!==R})},1)},[]),d=w.useCallback(function(S){n.current=Jf(S),r.current=void 0},[]),m=w.useCallback(function(S){f(S.type,Ck(S),S.target,l(S,t.lockRef.current))},[]),g=w.useCallback(function(S){f(S.type,Jf(S),S.target,l(S,t.lockRef.current))},[]);w.useEffect(function(){return Ba.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Va),document.addEventListener("touchmove",u,Va),document.addEventListener("touchstart",d,Va),function(){Ba=Ba.filter(function(S){return S!==s}),document.removeEventListener("wheel",u,Va),document.removeEventListener("touchmove",u,Va),document.removeEventListener("touchstart",d,Va)}},[]);var O=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(s,{styles:Dq(i)}):null,O?w.createElement(Rq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Iq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Xq=mq(VQ,Lq);var Fp=w.forwardRef(function(t,e){return w.createElement(Gp,ri({},t,{ref:e,sideCar:Xq}))});Fp.classNames=Gp.classNames;var Zq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qa=new WeakMap,ed=new WeakMap,td={},Rv=0,GQ=function(t){return t&&(t.host||GQ(t.parentNode))},Vq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GQ(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Bq=function(t,e,n,r){var i=Vq(e,Array.isArray(t)?t:[t]);td[n]||(td[n]=new WeakMap);var s=td[n],a=[],l=new Set,u=new Set(i),f=function(m){!m||l.has(m)||(l.add(m),f(m.parentNode))};i.forEach(f);var d=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))d(g);else try{var O=g.getAttribute(r),x=O!==null&&O!=="false",S=(qa.get(g)||0)+1,C=(s.get(g)||0)+1;qa.set(g,S),s.set(g,C),a.push(g),S===1&&x&&ed.set(g,!0),C===1&&g.setAttribute(n,"true"),x||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return d(e),l.clear(),Rv++,function(){a.forEach(function(m){var g=qa.get(m)-1,O=s.get(m)-1;qa.set(m,g),s.set(m,O),g||(ed.has(m)||m.removeAttribute(r),ed.delete(m)),O||m.removeAttribute(n)}),Rv--,Rv||(qa=new WeakMap,qa=new WeakMap,ed=new WeakMap,td={})}},Rb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Zq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Bq(r,i,n,"aria-hidden")):function(){return null}};function qq(t){const e=Uq(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,l=w.Children.toArray(s),u=l.find(Gq);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Uq(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=Wq(i),l=Fq(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yq=Symbol("radix.slottable");function Gq(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yq}function Fq(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Wq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Wp="Dialog",[FQ]=os(Wp),[Hq,qr]=FQ(Wp),WQ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=w.useRef(null),u=w.useRef(null),[f,d]=rh({prop:r,defaultProp:i??!1,onChange:s,caller:Wp});return y.jsx(Hq,{scope:e,triggerRef:l,contentRef:u,contentId:$n(),titleId:$n(),descriptionId:$n(),open:f,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(m=>!m),[d]),modal:a,children:n})};WQ.displayName=Wp;var HQ="DialogTrigger",Kq=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(HQ,n),s=ut(e,i.triggerRef);return y.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Pb(i.open),...r,ref:s,onClick:Se(t.onClick,i.onOpenToggle)})});Kq.displayName=HQ;var Eb="DialogPortal",[Jq,KQ]=FQ(Eb,{forceMount:void 0}),JQ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=qr(Eb,e);return y.jsx(Jq,{scope:e,forceMount:n,children:w.Children.map(r,a=>y.jsx(On,{present:n||s.open,children:y.jsx(Yp,{asChild:!0,container:i,children:a})}))})};JQ.displayName=Eb;var Wd="DialogOverlay",e2=w.forwardRef((t,e)=>{const n=KQ(Wd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qr(Wd,t.__scopeDialog);return s.modal?y.jsx(On,{present:r||s.open,children:y.jsx(tU,{...i,ref:e})}):null});e2.displayName=Wd;var eU=qq("DialogOverlay.RemoveScroll"),tU=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(Wd,n);return y.jsx(Fp,{as:eU,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(nt.div,{"data-state":Pb(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bo="DialogContent",t2=w.forwardRef((t,e)=>{const n=KQ(Bo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qr(Bo,t.__scopeDialog);return y.jsx(On,{present:r||s.open,children:s.modal?y.jsx(nU,{...i,ref:e}):y.jsx(rU,{...i,ref:e})})});t2.displayName=Bo;var nU=w.forwardRef((t,e)=>{const n=qr(Bo,t.__scopeDialog),r=w.useRef(null),i=ut(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return Rb(s)},[]),y.jsx(n2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault())})}),rU=w.forwardRef((t,e)=>{const n=qr(Bo,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return y.jsx(n2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),n2=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=qr(Bo,n),u=w.useRef(null),f=ut(e,u);return Tb(),y.jsxs(y.Fragment,{children:[y.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(ih,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Pb(l.open),...a,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(iU,{titleId:l.titleId}),y.jsx(oU,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Qb="DialogTitle",r2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(Qb,n);return y.jsx(nt.h2,{id:i.titleId,...r,ref:e})});r2.displayName=Qb;var i2="DialogDescription",s2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(i2,n);return y.jsx(nt.p,{id:i.descriptionId,...r,ref:e})});s2.displayName=i2;var o2="DialogClose",a2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qr(o2,n);return y.jsx(nt.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});a2.displayName=o2;function Pb(t){return t?"open":"closed"}var l2="DialogTitleWarning",[Cie,c2]=RB(l2,{contentName:Bo,titleName:Qb,docsSlug:"dialog"}),iU=({titleId:t})=>{const e=c2(l2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},sU="DialogDescriptionWarning",oU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c2(sU).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u2=WQ,h2=JQ,Ab=e2,$b=t2,f2=r2,d2=s2,aU=a2,lU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],io=lU.reduce((t,e)=>{const n=Ob(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Bc='[cmdk-group=""]',Ev='[cmdk-group-items=""]',cU='[cmdk-group-heading=""]',p2='[cmdk-item=""]',kk=`${p2}:not([aria-disabled="true"])`,Yy="cmdk-item-select",Wa="data-value",uU=(t,e,n)=>TB(t,e,n),m2=w.createContext(void 0),sh=()=>w.useContext(m2),g2=w.createContext(void 0),Mb=()=>w.useContext(g2),O2=w.createContext(void 0),v2=w.forwardRef((t,e)=>{let n=Ha(()=>{var N,F;return{search:"",value:(F=(N=t.value)!=null?N:t.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ha(()=>new Set),i=Ha(()=>new Map),s=Ha(()=>new Map),a=Ha(()=>new Set),l=y2(t),{label:u,children:f,value:d,onValueChange:m,filter:g,shouldFilter:O,loop:x,disablePointerSelection:S=!1,vimBindings:C=!0,...k}=t,T=$n(),R=$n(),Q=$n(),A=w.useRef(null),$=wU();qo(()=>{if(d!==void 0){let N=d.trim();n.current.value=N,P.emit()}},[d]),qo(()=>{$(6,le)},[]);let P=w.useMemo(()=>({subscribe:N=>(a.current.add(N),()=>a.current.delete(N)),snapshot:()=>n.current,setState:(N,F,ie)=>{var oe,ce,fe,ze;if(!Object.is(n.current[N],F)){if(n.current[N]=F,N==="search")H(),ee(),$(1,re);else if(N==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let X=document.getElementById(Q);X?X.focus():(oe=document.getElementById(T))==null||oe.focus()}if($(7,()=>{var X;n.current.selectedItemId=(X=ae())==null?void 0:X.id,P.emit()}),ie||$(5,le),((ce=l.current)==null?void 0:ce.value)!==void 0){let X=F??"";(ze=(fe=l.current).onValueChange)==null||ze.call(fe,X);return}}P.emit()}},emit:()=>{a.current.forEach(N=>N())}}),[]),Z=w.useMemo(()=>({value:(N,F,ie)=>{var oe;F!==((oe=s.current.get(N))==null?void 0:oe.value)&&(s.current.set(N,{value:F,keywords:ie}),n.current.filtered.items.set(N,B(F,ie)),$(2,()=>{ee(),P.emit()}))},item:(N,F)=>(r.current.add(N),F&&(i.current.has(F)?i.current.get(F).add(N):i.current.set(F,new Set([N]))),$(3,()=>{H(),ee(),n.current.value||re(),P.emit()}),()=>{s.current.delete(N),r.current.delete(N),n.current.filtered.items.delete(N);let ie=ae();$(4,()=>{H(),ie?.getAttribute("id")===N&&re(),P.emit()})}),group:N=>(i.current.has(N)||i.current.set(N,new Set),()=>{s.current.delete(N),i.current.delete(N)}),filter:()=>l.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:T,inputId:Q,labelId:R,listInnerRef:A}),[]);function B(N,F){var ie,oe;let ce=(oe=(ie=l.current)==null?void 0:ie.filter)!=null?oe:uU;return N?ce(N,n.current.search,F):0}function ee(){if(!n.current.search||l.current.shouldFilter===!1)return;let N=n.current.filtered.items,F=[];n.current.filtered.groups.forEach(oe=>{let ce=i.current.get(oe),fe=0;ce.forEach(ze=>{let X=N.get(ze);fe=Math.max(X,fe)}),F.push([oe,fe])});let ie=A.current;me().sort((oe,ce)=>{var fe,ze;let X=oe.getAttribute("id"),_e=ce.getAttribute("id");return((fe=N.get(_e))!=null?fe:0)-((ze=N.get(X))!=null?ze:0)}).forEach(oe=>{let ce=oe.closest(Ev);ce?ce.appendChild(oe.parentElement===ce?oe:oe.closest(`${Ev} > *`)):ie.appendChild(oe.parentElement===ie?oe:oe.closest(`${Ev} > *`))}),F.sort((oe,ce)=>ce[1]-oe[1]).forEach(oe=>{var ce;let fe=(ce=A.current)==null?void 0:ce.querySelector(`${Bc}[${Wa}="${encodeURIComponent(oe[0])}"]`);fe?.parentElement.appendChild(fe)})}function re(){let N=me().find(ie=>ie.getAttribute("aria-disabled")!=="true"),F=N?.getAttribute(Wa);P.setState("value",F||void 0)}function H(){var N,F,ie,oe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ce=0;for(let fe of r.current){let ze=(F=(N=s.current.get(fe))==null?void 0:N.value)!=null?F:"",X=(oe=(ie=s.current.get(fe))==null?void 0:ie.keywords)!=null?oe:[],_e=B(ze,X);n.current.filtered.items.set(fe,_e),_e>0&&ce++}for(let[fe,ze]of i.current)for(let X of ze)if(n.current.filtered.items.get(X)>0){n.current.filtered.groups.add(fe);break}n.current.filtered.count=ce}function le(){var N,F,ie;let oe=ae();oe&&(((N=oe.parentElement)==null?void 0:N.firstChild)===oe&&((ie=(F=oe.closest(Bc))==null?void 0:F.querySelector(cU))==null||ie.scrollIntoView({block:"nearest"})),oe.scrollIntoView({block:"nearest"}))}function ae(){var N;return(N=A.current)==null?void 0:N.querySelector(`${p2}[aria-selected="true"]`)}function me(){var N;return Array.from(((N=A.current)==null?void 0:N.querySelectorAll(kk))||[])}function I(N){let F=me()[N];F&&P.setState("value",F.getAttribute(Wa))}function L(N){var F;let ie=ae(),oe=me(),ce=oe.findIndex(ze=>ze===ie),fe=oe[ce+N];(F=l.current)!=null&&F.loop&&(fe=ce+N<0?oe[oe.length-1]:ce+N===oe.length?oe[0]:oe[ce+N]),fe&&P.setState("value",fe.getAttribute(Wa))}function K(N){let F=ae(),ie=F?.closest(Bc),oe;for(;ie&&!oe;)ie=N>0?yU(ie,Bc):bU(ie,Bc),oe=ie?.querySelector(kk);oe?P.setState("value",oe.getAttribute(Wa)):L(N)}let G=()=>I(me().length-1),he=N=>{N.preventDefault(),N.metaKey?G():N.altKey?K(1):L(1)},M=N=>{N.preventDefault(),N.metaKey?I(0):N.altKey?K(-1):L(-1)};return w.createElement(io.div,{ref:e,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:N=>{var F;(F=k.onKeyDown)==null||F.call(k,N);let ie=N.nativeEvent.isComposing||N.keyCode===229;if(!(N.defaultPrevented||ie))switch(N.key){case"n":case"j":{C&&N.ctrlKey&&he(N);break}case"ArrowDown":{he(N);break}case"p":case"k":{C&&N.ctrlKey&&M(N);break}case"ArrowUp":{M(N);break}case"Home":{N.preventDefault(),I(0);break}case"End":{N.preventDefault(),G();break}case"Enter":{N.preventDefault();let oe=ae();if(oe){let ce=new Event(Yy);oe.dispatchEvent(ce)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:Z.inputId,id:Z.labelId,style:SU},u),Hp(t,N=>w.createElement(g2.Provider,{value:P},w.createElement(m2.Provider,{value:Z},N))))}),hU=w.forwardRef((t,e)=>{var n,r;let i=$n(),s=w.useRef(null),a=w.useContext(O2),l=sh(),u=y2(t),f=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;qo(()=>{if(!f)return l.item(i,a?.id)},[f]);let d=b2(i,s,[t.value,t.children,s],t.keywords),m=Mb(),g=Ys($=>$.value&&$.value===d.current),O=Ys($=>f||l.filter()===!1?!0:$.search?$.filtered.items.get(i)>0:!0);w.useEffect(()=>{let $=s.current;if(!(!$||t.disabled))return $.addEventListener(Yy,x),()=>$.removeEventListener(Yy,x)},[O,t.onSelect,t.disabled]);function x(){var $,P;S(),(P=($=u.current).onSelect)==null||P.call($,d.current)}function S(){m.setState("value",d.current,!0)}if(!O)return null;let{disabled:C,value:k,onSelect:T,forceMount:R,keywords:Q,...A}=t;return w.createElement(io.div,{ref:Mn(s,e),...A,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!g,"data-disabled":!!C,"data-selected":!!g,onPointerMove:C||l.getDisablePointerSelection()?void 0:S,onClick:C?void 0:x},t.children)}),fU=w.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,a=$n(),l=w.useRef(null),u=w.useRef(null),f=$n(),d=sh(),m=Ys(O=>i||d.filter()===!1?!0:O.search?O.filtered.groups.has(a):!0);qo(()=>d.group(a),[]),b2(a,l,[t.value,t.heading,u]);let g=w.useMemo(()=>({id:a,forceMount:i}),[i]);return w.createElement(io.div,{ref:Mn(l,e),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&w.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:f},n),Hp(t,O=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?f:void 0},w.createElement(O2.Provider,{value:g},O))))}),dU=w.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=w.useRef(null),s=Ys(a=>!a.search);return!n&&!s?null:w.createElement(io.div,{ref:Mn(i,e),...r,"cmdk-separator":"",role:"separator"})}),pU=w.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=Mb(),a=Ys(f=>f.search),l=Ys(f=>f.selectedItemId),u=sh();return w.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),w.createElement(io.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":l,id:u.inputId,type:"text",value:i?t.value:a,onChange:f=>{i||s.setState("search",f.target.value),n?.(f.target.value)}})}),mU=w.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=w.useRef(null),a=w.useRef(null),l=Ys(f=>f.selectedItemId),u=sh();return w.useEffect(()=>{if(a.current&&s.current){let f=a.current,d=s.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let O=f.offsetHeight;d.style.setProperty("--cmdk-list-height",O.toFixed(1)+"px")})});return g.observe(f),()=>{cancelAnimationFrame(m),g.unobserve(f)}}},[]),w.createElement(io.div,{ref:Mn(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:u.listId},Hp(t,f=>w.createElement("div",{ref:Mn(a,u.listInnerRef),"cmdk-list-sizer":""},f)))}),gU=w.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:a,...l}=t;return w.createElement(u2,{open:n,onOpenChange:r},w.createElement(h2,{container:a},w.createElement(Ab,{"cmdk-overlay":"",className:i}),w.createElement($b,{"aria-label":t.label,"cmdk-dialog":"",className:s},w.createElement(v2,{ref:e,...l}))))}),OU=w.forwardRef((t,e)=>Ys(n=>n.filtered.count===0)?w.createElement(io.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),vU=w.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return w.createElement(io.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Hp(t,a=>w.createElement("div",{"aria-hidden":!0},a)))}),jn=Object.assign(v2,{List:mU,Item:hU,Input:pU,Group:fU,Separator:dU,Dialog:gU,Empty:OU,Loading:vU});function yU(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function bU(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function y2(t){let e=w.useRef(t);return qo(()=>{e.current=t}),e}var qo=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Ha(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function Ys(t){let e=Mb(),n=()=>t(e.snapshot());return w.useSyncExternalStore(e.subscribe,n,n)}function b2(t,e,n,r=[]){let i=w.useRef(),s=sh();return qo(()=>{var a;let l=(()=>{var f;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(f=d.current.textContent)==null?void 0:f.trim():i.current}})(),u=r.map(f=>f.trim());s.value(t,l,u),(a=e.current)==null||a.setAttribute(Wa,l),i.current=l}),i}var wU=()=>{let[t,e]=w.useState(),n=Ha(()=>new Map);return qo(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function xU(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Hp({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(xU(e),{ref:e.ref},n(e.props.children)):n(e)}var SU={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const jb=w.forwardRef(({className:t,...e},n)=>y.jsx(jn,{ref:n,className:ue("flex h-full w-full flex-col overflow-hidden rounded-md bg-card text-foreground",t),...e}));jb.displayName=jn.displayName;const Nb=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:y.jsx(jn.Input,{ref:n,className:ue("flex h-10 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",t),...e})}));Nb.displayName=jn.Input.displayName;const Db=w.forwardRef(({className:t,...e},n)=>y.jsx(jn.List,{ref:n,className:ue("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Db.displayName=jn.List.displayName;const zb=w.forwardRef((t,e)=>y.jsx(jn.Empty,{ref:e,className:"py-6 text-center text-sm text-muted-foreground",...t}));zb.displayName=jn.Empty.displayName;const Ru=w.forwardRef(({className:t,...e},n)=>y.jsx(jn.Group,{ref:n,className:ue("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Ru.displayName=jn.Group.displayName;const Lb=w.forwardRef(({className:t,...e},n)=>y.jsx(jn.Separator,{ref:n,className:ue("-mx-1 h-px bg-border/60",t),...e}));Lb.displayName=jn.Separator.displayName;const zo=w.forwardRef(({className:t,...e},n)=>y.jsx(jn.Item,{ref:n,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[selected=true]:bg-muted data-[disabled]:opacity-50",t),...e}));zo.displayName=jn.Item.displayName;const CU=["top","right","bottom","left"],Gs=Math.min,Kn=Math.max,Hd=Math.round,nd=Math.floor,di=t=>({x:t,y:t}),_U={left:"right",right:"left",bottom:"top",top:"bottom"},kU={start:"end",end:"start"};function Gy(t,e,n){return Kn(t,Gs(e,n))}function es(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function zl(t){return t.split("-")[1]}function Ib(t){return t==="x"?"y":"x"}function Xb(t){return t==="y"?"height":"width"}const TU=new Set(["top","bottom"]);function li(t){return TU.has(ts(t))?"y":"x"}function Zb(t){return Ib(li(t))}function RU(t,e,n){n===void 0&&(n=!1);const r=zl(t),i=Zb(t),s=Xb(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Kd(a)),[a,Kd(a)]}function EU(t){const e=Kd(t);return[Fy(t),e,Fy(e)]}function Fy(t){return t.replace(/start|end/g,e=>kU[e])}const Tk=["left","right"],Rk=["right","left"],QU=["top","bottom"],PU=["bottom","top"];function AU(t,e,n){switch(t){case"top":case"bottom":return n?e?Rk:Tk:e?Tk:Rk;case"left":case"right":return e?QU:PU;default:return[]}}function $U(t,e,n,r){const i=zl(t);let s=AU(ts(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Fy)))),s}function Kd(t){return t.replace(/left|right|bottom|top/g,e=>_U[e])}function MU(t){return{top:0,right:0,bottom:0,left:0,...t}}function w2(t){return typeof t!="number"?MU(t):{top:t,right:t,bottom:t,left:t}}function Jd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ek(t,e,n){let{reference:r,floating:i}=t;const s=li(e),a=Zb(e),l=Xb(a),u=ts(e),f=s==="y",d=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let O;switch(u){case"top":O={x:d,y:r.y-i.height};break;case"bottom":O={x:d,y:r.y+r.height};break;case"right":O={x:r.x+r.width,y:m};break;case"left":O={x:r.x-i.width,y:m};break;default:O={x:r.x,y:r.y}}switch(zl(e)){case"start":O[a]-=g*(n&&f?-1:1);break;case"end":O[a]+=g*(n&&f?-1:1);break}return O}async function jU(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:g=!1,padding:O=0}=es(e,t),x=w2(O),C=l[g?m==="floating"?"reference":"floating":m],k=Jd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:d,strategy:u})),T=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),Q=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Jd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:R,strategy:u}):T);return{top:(k.top-A.top+x.top)/Q.y,bottom:(A.bottom-k.bottom+x.bottom)/Q.y,left:(k.left-A.left+x.left)/Q.x,right:(A.right-k.right+x.right)/Q.x}}const NU=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:m}=Ek(f,r,u),g=r,O={},x=0;for(let C=0;C<l.length;C++){var S;const{name:k,fn:T}=l[C],{x:R,y:Q,data:A,reset:$}=await T({x:d,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:O,rects:f,platform:{...a,detectOverflow:(S=a.detectOverflow)!=null?S:jU},elements:{reference:t,floating:e}});d=R??d,m=Q??m,O={...O,[k]:{...O[k],...A}},$&&x<=50&&(x++,typeof $=="object"&&($.placement&&(g=$.placement),$.rects&&(f=$.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:d,y:m}=Ek(f,g,u)),C=-1)}return{x:d,y:m,placement:g,strategy:i,middlewareData:O}},DU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:f,padding:d=0}=es(t,e)||{};if(f==null)return{};const m=w2(d),g={x:n,y:r},O=Zb(i),x=Xb(O),S=await a.getDimensions(f),C=O==="y",k=C?"top":"left",T=C?"bottom":"right",R=C?"clientHeight":"clientWidth",Q=s.reference[x]+s.reference[O]-g[O]-s.floating[x],A=g[O]-s.reference[O],$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let P=$?$[R]:0;(!P||!await(a.isElement==null?void 0:a.isElement($)))&&(P=l.floating[R]||s.floating[x]);const Z=Q/2-A/2,B=P/2-S[x]/2-1,ee=Gs(m[k],B),re=Gs(m[T],B),H=ee,le=P-S[x]-re,ae=P/2-S[x]/2+Z,me=Gy(H,ae,le),I=!u.arrow&&zl(i)!=null&&ae!==me&&s.reference[x]/2-(ae<H?ee:re)-S[x]/2<0,L=I?ae<H?ae-H:ae-le:0;return{[O]:g[O]+L,data:{[O]:me,centerOffset:ae-me-L,...I&&{alignmentOffset:L}},reset:I}}}),zU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...C}=es(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=ts(i),T=li(l),R=ts(l)===l,Q=await(u.isRTL==null?void 0:u.isRTL(f.floating)),A=g||(R||!S?[Kd(l)]:EU(l)),$=x!=="none";!g&&$&&A.push(...$U(l,S,x,Q));const P=[l,...A],Z=await u.detectOverflow(e,C),B=[];let ee=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&B.push(Z[k]),m){const ae=RU(i,a,Q);B.push(Z[ae[0]],Z[ae[1]])}if(ee=[...ee,{placement:i,overflows:B}],!B.every(ae=>ae<=0)){var re,H;const ae=(((re=s.flip)==null?void 0:re.index)||0)+1,me=P[ae];if(me&&(!(m==="alignment"?T!==li(me):!1)||ee.every(K=>li(K.placement)===T?K.overflows[0]>0:!0)))return{data:{index:ae,overflows:ee},reset:{placement:me}};let I=(H=ee.filter(L=>L.overflows[0]<=0).sort((L,K)=>L.overflows[1]-K.overflows[1])[0])==null?void 0:H.placement;if(!I)switch(O){case"bestFit":{var le;const L=(le=ee.filter(K=>{if($){const G=li(K.placement);return G===T||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,he)=>G+he,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:le[0];L&&(I=L);break}case"initialPlacement":I=l;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function Qk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Pk(t){return CU.some(e=>t[e]>=0)}const LU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...s}=es(t,e);switch(i){case"referenceHidden":{const a=await r.detectOverflow(e,{...s,elementContext:"reference"}),l=Qk(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Pk(l)}}}case"escaped":{const a=await r.detectOverflow(e,{...s,altBoundary:!0}),l=Qk(a,n.floating);return{data:{escapedOffsets:l,escaped:Pk(l)}}}default:return{}}}}},x2=new Set(["left","top"]);async function IU(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ts(n),l=zl(n),u=li(n)==="y",f=x2.has(a)?-1:1,d=s&&u?-1:1,m=es(e,t);let{mainAxis:g,crossAxis:O,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(O=l==="end"?x*-1:x),u?{x:O*d,y:g*f}:{x:g*f,y:O*d}}const XU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await IU(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},ZU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:T,y:R}=k;return{x:T,y:R}}},...f}=es(t,e),d={x:n,y:r},m=await s.detectOverflow(e,f),g=li(ts(i)),O=Ib(g);let x=d[O],S=d[g];if(a){const k=O==="y"?"top":"left",T=O==="y"?"bottom":"right",R=x+m[k],Q=x-m[T];x=Gy(R,x,Q)}if(l){const k=g==="y"?"top":"left",T=g==="y"?"bottom":"right",R=S+m[k],Q=S-m[T];S=Gy(R,S,Q)}const C=u.fn({...e,[O]:x,[g]:S});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[O]:a,[g]:l}}}}}},VU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=es(t,e),d={x:n,y:r},m=li(i),g=Ib(m);let O=d[g],x=d[m];const S=es(l,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(u){const R=g==="y"?"height":"width",Q=s.reference[g]-s.floating[R]+C.mainAxis,A=s.reference[g]+s.reference[R]-C.mainAxis;O<Q?O=Q:O>A&&(O=A)}if(f){var k,T;const R=g==="y"?"width":"height",Q=x2.has(ts(i)),A=s.reference[m]-s.floating[R]+(Q&&((k=a.offset)==null?void 0:k[m])||0)+(Q?0:C.crossAxis),$=s.reference[m]+s.reference[R]+(Q?0:((T=a.offset)==null?void 0:T[m])||0)-(Q?C.crossAxis:0);x<A?x=A:x>$&&(x=$)}return{[g]:O,[m]:x}}}},BU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...f}=es(t,e),d=await a.detectOverflow(e,f),m=ts(i),g=zl(i),O=li(i)==="y",{width:x,height:S}=s.floating;let C,k;m==="top"||m==="bottom"?(C=m,k=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(k=m,C=g==="end"?"top":"bottom");const T=S-d.top-d.bottom,R=x-d.left-d.right,Q=Gs(S-d[C],T),A=Gs(x-d[k],R),$=!e.middlewareData.shift;let P=Q,Z=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Z=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=T),$&&!g){const ee=Kn(d.left,0),re=Kn(d.right,0),H=Kn(d.top,0),le=Kn(d.bottom,0);O?Z=x-2*(ee!==0||re!==0?ee+re:Kn(d.left,d.right)):P=S-2*(H!==0||le!==0?H+le:Kn(d.top,d.bottom))}await u({...e,availableWidth:Z,availableHeight:P});const B=await a.getDimensions(l.floating);return x!==B.width||S!==B.height?{reset:{rects:!0}}:{}}}};function Kp(){return typeof window<"u"}function Ll(t){return S2(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vi(t){var e;return(e=(S2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function S2(t){return Kp()?t instanceof Node||t instanceof ir(t).Node:!1}function Zr(t){return Kp()?t instanceof Element||t instanceof ir(t).Element:!1}function gi(t){return Kp()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function Ak(t){return!Kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}const qU=new Set(["inline","contents"]);function oh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qU.has(i)}const UU=new Set(["table","td","th"]);function YU(t){return UU.has(Ll(t))}const GU=[":popover-open",":modal"];function Jp(t){return GU.some(e=>{try{return t.matches(e)}catch{return!1}})}const FU=["transform","translate","scale","rotate","perspective"],WU=["transform","translate","scale","rotate","perspective","filter"],HU=["paint","layout","strict","content"];function Vb(t){const e=Bb(),n=Zr(t)?Vr(t):t;return FU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WU.some(r=>(n.willChange||"").includes(r))||HU.some(r=>(n.contain||"").includes(r))}function KU(t){let e=Fs(t);for(;gi(e)&&!vl(e);){if(Vb(e))return e;if(Jp(e))return null;e=Fs(e)}return null}function Bb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JU=new Set(["html","body","#document"]);function vl(t){return JU.has(Ll(t))}function Vr(t){return ir(t).getComputedStyle(t)}function em(t){return Zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fs(t){if(Ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ak(t)&&t.host||vi(t);return Ak(e)?e.host:e}function C2(t){const e=Fs(t);return vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:gi(e)&&oh(e)?e:C2(e)}function Eu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=C2(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ir(i);if(s){const l=Wy(a);return e.concat(a,a.visualViewport||[],oh(i)?i:[],l&&n?Eu(l):[])}return e.concat(i,Eu(i,[],n))}function Wy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _2(t){const e=Vr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gi(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Hd(n)!==s||Hd(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function qb(t){return Zr(t)?t:t.contextElement}function cl(t){const e=qb(t);if(!gi(e))return di(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_2(e);let a=(s?Hd(n.width):n.width)/r,l=(s?Hd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const e8=di(0);function k2(t){const e=ir(t);return!Bb()||!e.visualViewport?e8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function t8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function Uo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=qb(t);let a=di(1);e&&(r?Zr(r)&&(a=cl(r)):a=cl(t));const l=t8(s,n,r)?k2(s):di(0);let u=(i.left+l.x)/a.x,f=(i.top+l.y)/a.y,d=i.width/a.x,m=i.height/a.y;if(s){const g=ir(s),O=r&&Zr(r)?ir(r):r;let x=g,S=Wy(x);for(;S&&r&&O!==x;){const C=cl(S),k=S.getBoundingClientRect(),T=Vr(S),R=k.left+(S.clientLeft+parseFloat(T.paddingLeft))*C.x,Q=k.top+(S.clientTop+parseFloat(T.paddingTop))*C.y;u*=C.x,f*=C.y,d*=C.x,m*=C.y,u+=R,f+=Q,x=ir(S),S=Wy(x)}}return Jd({width:d,height:m,x:u,y:f})}function tm(t,e){const n=em(t).scrollLeft;return e?e.left+n:Uo(vi(t)).left+n}function T2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-tm(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function n8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=vi(r),l=e?Jp(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},f=di(1);const d=di(0),m=gi(r);if((m||!m&&!s)&&((Ll(r)!=="body"||oh(a))&&(u=em(r)),gi(r))){const O=Uo(r);f=cl(r),d.x=O.x+r.clientLeft,d.y=O.y+r.clientTop}const g=a&&!m&&!s?T2(a,u):di(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+d.x+g.x,y:n.y*f.y-u.scrollTop*f.y+d.y+g.y}}function r8(t){return Array.from(t.getClientRects())}function i8(t){const e=vi(t),n=em(t),r=t.ownerDocument.body,i=Kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+tm(t);const l=-n.scrollTop;return Vr(r).direction==="rtl"&&(a+=Kn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const $k=25;function s8(t,e){const n=ir(t),r=vi(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const d=Bb();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const f=tm(r);if(f<=0){const d=r.ownerDocument,m=d.body,g=getComputedStyle(m),O=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-O);x<=$k&&(s-=x)}else f<=$k&&(s+=f);return{width:s,height:a,x:l,y:u}}const o8=new Set(["absolute","fixed"]);function a8(t,e){const n=Uo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=gi(t)?cl(t):di(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,f=r*s.y;return{width:a,height:l,x:u,y:f}}function Mk(t,e,n){let r;if(e==="viewport")r=s8(t,n);else if(e==="document")r=i8(vi(t));else if(Zr(e))r=a8(e,n);else{const i=k2(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Jd(r)}function R2(t,e){const n=Fs(t);return n===e||!Zr(n)||vl(n)?!1:Vr(n).position==="fixed"||R2(n,e)}function l8(t,e){const n=e.get(t);if(n)return n;let r=Eu(t,[],!1).filter(l=>Zr(l)&&Ll(l)!=="body"),i=null;const s=Vr(t).position==="fixed";let a=s?Fs(t):t;for(;Zr(a)&&!vl(a);){const l=Vr(a),u=Vb(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&o8.has(i.position)||oh(a)&&!u&&R2(t,a))?r=r.filter(d=>d!==a):i=l,a=Fs(a)}return e.set(t,r),r}function c8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Jp(e)?[]:l8(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((f,d)=>{const m=Mk(e,d,i);return f.top=Kn(m.top,f.top),f.right=Gs(m.right,f.right),f.bottom=Gs(m.bottom,f.bottom),f.left=Kn(m.left,f.left),f},Mk(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function u8(t){const{width:e,height:n}=_2(t);return{width:e,height:n}}function h8(t,e,n){const r=gi(e),i=vi(e),s=n==="fixed",a=Uo(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=di(0);function f(){u.x=tm(i)}if(r||!r&&!s)if((Ll(e)!=="body"||oh(i))&&(l=em(e)),r){const O=Uo(e,!0,s,e);u.x=O.x+e.clientLeft,u.y=O.y+e.clientTop}else i&&f();s&&!r&&i&&f();const d=i&&!r&&!s?T2(i,l):di(0),m=a.left+l.scrollLeft-u.x-d.x,g=a.top+l.scrollTop-u.y-d.y;return{x:m,y:g,width:a.width,height:a.height}}function Qv(t){return Vr(t).position==="static"}function jk(t,e){if(!gi(t)||Vr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vi(t)===n&&(n=n.ownerDocument.body),n}function E2(t,e){const n=ir(t);if(Jp(t))return n;if(!gi(t)){let i=Fs(t);for(;i&&!vl(i);){if(Zr(i)&&!Qv(i))return i;i=Fs(i)}return n}let r=jk(t,e);for(;r&&YU(r)&&Qv(r);)r=jk(r,e);return r&&vl(r)&&Qv(r)&&!Vb(r)?n:r||KU(t)||n}const f8=async function(t){const e=this.getOffsetParent||E2,n=this.getDimensions,r=await n(t.floating);return{reference:h8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d8(t){return Vr(t).direction==="rtl"}const p8={convertOffsetParentRelativeRectToViewportRelativeRect:n8,getDocumentElement:vi,getClippingRect:c8,getOffsetParent:E2,getElementRects:f8,getClientRects:r8,getDimensions:u8,getScale:cl,isElement:Zr,isRTL:d8};function Q2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function m8(t,e){let n=null,r;const i=vi(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const f=t.getBoundingClientRect(),{left:d,top:m,width:g,height:O}=f;if(l||e(),!g||!O)return;const x=nd(m),S=nd(i.clientWidth-(d+g)),C=nd(i.clientHeight-(m+O)),k=nd(d),R={rootMargin:-x+"px "+-S+"px "+-C+"px "+-k+"px",threshold:Kn(0,Gs(1,u))||1};let Q=!0;function A($){const P=$[0].intersectionRatio;if(P!==u){if(!Q)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!Q2(f,t.getBoundingClientRect())&&a(),Q=!1}try{n=new IntersectionObserver(A,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(t)}return a(!0),s}function g8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=qb(t),d=i||s?[...f?Eu(f):[],...Eu(e)]:[];d.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const m=f&&l?m8(f,n):null;let g=-1,O=null;a&&(O=new ResizeObserver(k=>{let[T]=k;T&&T.target===f&&O&&(O.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=O)==null||R.observe(e)})),n()}),f&&!u&&O.observe(f),O.observe(e));let x,S=u?Uo(t):null;u&&C();function C(){const k=Uo(t);S&&!Q2(S,k)&&n(),S=k,x=requestAnimationFrame(C)}return n(),()=>{var k;d.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),m?.(),(k=O)==null||k.disconnect(),O=null,u&&cancelAnimationFrame(x)}}const O8=XU,v8=ZU,y8=zU,b8=BU,w8=LU,Nk=DU,x8=VU,S8=(t,e,n)=>{const r=new Map,i={platform:p8,...n},s={...i.platform,_c:r};return NU(t,e,{...i,platform:s})};var C8=typeof document<"u",_8=function(){},Pd=C8?w.useLayoutEffect:_8;function ep(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ep(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ep(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function P2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Dk(t,e){const n=P2(t);return Math.round(e*n)/n}function Pv(t){const e=w.useRef(t);return Pd(()=>{e.current=t}),e}function k8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[d,m]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,O]=w.useState(r);ep(g,r)||O(r);const[x,S]=w.useState(null),[C,k]=w.useState(null),T=w.useCallback(K=>{K!==$.current&&($.current=K,S(K))},[]),R=w.useCallback(K=>{K!==P.current&&(P.current=K,k(K))},[]),Q=s||x,A=a||C,$=w.useRef(null),P=w.useRef(null),Z=w.useRef(d),B=u!=null,ee=Pv(u),re=Pv(i),H=Pv(f),le=w.useCallback(()=>{if(!$.current||!P.current)return;const K={placement:e,strategy:n,middleware:g};re.current&&(K.platform=re.current),S8($.current,P.current,K).then(G=>{const he={...G,isPositioned:H.current!==!1};ae.current&&!ep(Z.current,he)&&(Z.current=he,Fi.flushSync(()=>{m(he)}))})},[g,e,n,re,H]);Pd(()=>{f===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[f]);const ae=w.useRef(!1);Pd(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Pd(()=>{if(Q&&($.current=Q),A&&(P.current=A),Q&&A){if(ee.current)return ee.current(Q,A,le);le()}},[Q,A,le,ee,B]);const me=w.useMemo(()=>({reference:$,floating:P,setReference:T,setFloating:R}),[T,R]),I=w.useMemo(()=>({reference:Q,floating:A}),[Q,A]),L=w.useMemo(()=>{const K={position:n,left:0,top:0};if(!I.floating)return K;const G=Dk(I.floating,d.x),he=Dk(I.floating,d.y);return l?{...K,transform:"translate("+G+"px, "+he+"px)",...P2(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:he}},[n,l,I.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:le,refs:me,elements:I,floatingStyles:L}),[d,le,me,I,L])}const T8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Nk({element:r.current,padding:i}).fn(n):{}:r?Nk({element:r,padding:i}).fn(n):{}}}},R8=(t,e)=>({...O8(t),options:[t,e]}),E8=(t,e)=>({...v8(t),options:[t,e]}),Q8=(t,e)=>({...x8(t),options:[t,e]}),P8=(t,e)=>({...y8(t),options:[t,e]}),A8=(t,e)=>({...b8(t),options:[t,e]}),$8=(t,e)=>({...w8(t),options:[t,e]}),M8=(t,e)=>({...T8(t),options:[t,e]});var j8="Arrow",A2=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return y.jsx(nt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});A2.displayName=j8;var N8=A2;function D8(t){const[e,n]=w.useState(void 0);return Ji(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,l=f.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ub="Popper",[$2,Il]=os(Ub),[z8,M2]=$2(Ub),j2=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return y.jsx(z8,{scope:e,anchor:r,onAnchorChange:i,children:n})};j2.displayName=Ub;var N2="PopperAnchor",D2=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=M2(N2,n),a=w.useRef(null),l=ut(e,a),u=w.useRef(null);return w.useEffect(()=>{const f=u.current;u.current=r?.current||a.current,f!==u.current&&s.onAnchorChange(u.current)}),r?null:y.jsx(nt.div,{...i,ref:l})});D2.displayName=N2;var Yb="PopperContent",[L8,I8]=$2(Yb),z2=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:O="optimized",onPlaced:x,...S}=t,C=M2(Yb,n),[k,T]=w.useState(null),R=ut(e,fe=>T(fe)),[Q,A]=w.useState(null),$=D8(Q),P=$?.width??0,Z=$?.height??0,B=r+(s!=="center"?"-"+s:""),ee=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},re=Array.isArray(f)?f:[f],H=re.length>0,le={padding:ee,boundary:re.filter(Z8),altBoundary:H},{refs:ae,floatingStyles:me,placement:I,isPositioned:L,middlewareData:K}=k8({strategy:"fixed",placement:B,whileElementsMounted:(...fe)=>g8(...fe,{animationFrame:O==="always"}),elements:{reference:C.anchor},middleware:[R8({mainAxis:i+Z,alignmentAxis:a}),u&&E8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Q8():void 0,...le}),u&&P8({...le}),A8({...le,apply:({elements:fe,rects:ze,availableWidth:X,availableHeight:_e})=>{const{width:De,height:gt}=ze.reference,Tt=fe.floating.style;Tt.setProperty("--radix-popper-available-width",`${X}px`),Tt.setProperty("--radix-popper-available-height",`${_e}px`),Tt.setProperty("--radix-popper-anchor-width",`${De}px`),Tt.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),Q&&M8({element:Q,padding:l}),V8({arrowWidth:P,arrowHeight:Z}),g&&$8({strategy:"referenceHidden",...le})]}),[G,he]=X2(I),M=un(x);Ji(()=>{L&&M?.()},[L,M]);const N=K.arrow?.x,F=K.arrow?.y,ie=K.arrow?.centerOffset!==0,[oe,ce]=w.useState();return Ji(()=>{k&&ce(window.getComputedStyle(k).zIndex)},[k]),y.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:L?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(L8,{scope:n,placedSide:G,onArrowChange:A,arrowX:N,arrowY:F,shouldHideArrow:ie,children:y.jsx(nt.div,{"data-side":G,"data-align":he,...S,ref:R,style:{...S.style,animation:L?void 0:"none"}})})})});z2.displayName=Yb;var L2="PopperArrow",X8={top:"bottom",right:"left",bottom:"top",left:"right"},I2=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=I8(L2,r),a=X8[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(N8,{...i,ref:n,style:{...i.style,display:"block"}})})});I2.displayName=L2;function Z8(t){return t!==null}var V8=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[f,d]=X2(n),m={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,O=(i.arrow?.y??0)+u/2;let x="",S="";return f==="bottom"?(x=a?m:`${g}px`,S=`${-u}px`):f==="top"?(x=a?m:`${g}px`,S=`${r.floating.height+u}px`):f==="right"?(x=`${-u}px`,S=a?m:`${O}px`):f==="left"&&(x=`${r.floating.width+u}px`,S=a?m:`${O}px`),{data:{x,y:S}}}});function X2(t){const[e,n="center"]=t.split("-");return[e,n]}var Gb=j2,nm=D2,Fb=z2,Wb=I2;function B8(t){const e=q8(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,l=w.Children.toArray(s),u=l.find(Y8);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function q8(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=F8(i),l=G8(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U8=Symbol("radix.slottable");function Y8(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U8}function G8(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function F8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rm="Popover",[Z2]=os(rm,[Il]),ah=Il(),[W8,so]=Z2(rm),V2=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,l=ah(e),u=w.useRef(null),[f,d]=w.useState(!1),[m,g]=rh({prop:r,defaultProp:i??!1,onChange:s,caller:rm});return y.jsx(Gb,{...l,children:y.jsx(W8,{scope:e,contentId:$n(),triggerRef:u,open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(O=>!O),[g]),hasCustomAnchor:f,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:a,children:n})})};V2.displayName=rm;var B2="PopoverAnchor",H8=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=so(B2,n),s=ah(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(a(),()=>l()),[a,l]),y.jsx(nm,{...s,...r,ref:e})});H8.displayName=B2;var q2="PopoverTrigger",U2=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=so(q2,n),s=ah(n),a=ut(e,i.triggerRef),l=y.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":H2(i.open),...r,ref:a,onClick:Se(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:y.jsx(nm,{asChild:!0,...s,children:l})});U2.displayName=q2;var Hb="PopoverPortal",[K8,J8]=Z2(Hb,{forceMount:void 0}),Y2=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=so(Hb,e);return y.jsx(K8,{scope:e,forceMount:n,children:y.jsx(On,{present:n||s.open,children:y.jsx(Yp,{asChild:!0,container:i,children:r})})})};Y2.displayName=Hb;var yl="PopoverContent",G2=w.forwardRef((t,e)=>{const n=J8(yl,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=so(yl,t.__scopePopover);return y.jsx(On,{present:r||s.open,children:s.modal?y.jsx(t7,{...i,ref:e}):y.jsx(n7,{...i,ref:e})})});G2.displayName=yl;var e7=B8("PopoverContent.RemoveScroll"),t7=w.forwardRef((t,e)=>{const n=so(yl,t.__scopePopover),r=w.useRef(null),i=ut(e,r),s=w.useRef(!1);return w.useEffect(()=>{const a=r.current;if(a)return Rb(a)},[]),y.jsx(Fp,{as:e7,allowPinchZoom:!0,children:y.jsx(F2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Se(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),n7=w.forwardRef((t,e)=>{const n=so(yl,t.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return y.jsx(F2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),F2=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,...m}=t,g=so(yl,n),O=ah(n);return Tb(),y.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:y.jsx(ih,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:y.jsx(Fb,{"data-state":H2(g.open),role:"dialog",id:g.contentId,...O,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W2="PopoverClose",r7=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=so(W2,n);return y.jsx(nt.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});r7.displayName=W2;var i7="PopoverArrow",s7=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ah(n);return y.jsx(Wb,{...i,...r,ref:e})});s7.displayName=i7;function H2(t){return t?"open":"closed"}var o7=V2,a7=U2,l7=Y2,K2=G2;const Kb=o7,Jb=a7,im=w.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>y.jsx(l7,{children:y.jsx(K2,{ref:i,align:e,sideOffset:n,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-foreground shadow-md outline-none",t),...r})}));im.displayName=K2.displayName;var c7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],u7=c7.reduce((t,e)=>{const n=Ob(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),h7="Separator",zk="horizontal",f7=["horizontal","vertical"],J2=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=zk,...i}=t,s=d7(r)?r:zk,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return y.jsx(u7.div,{"data-orientation":s,...l,...i,ref:e})});J2.displayName=h7;function d7(t){return f7.includes(t)}var eP=J2;const lh=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>y.jsx(eP,{ref:i,decorative:n,orientation:e,className:ue("shrink-0 bg-border/60",e==="horizontal"?"h-px w-full":"h-full w-px",t),...r}));lh.displayName=eP.displayName;function p7({column:t,title:e,options:n}){const r=t?.getFacetedUniqueValues(),i=new Set(t?.getFilterValue());return y.jsxs(Kb,{children:[y.jsx(Jb,{asChild:!0,children:y.jsxs(Fe,{variant:"outline",size:"sm",className:"h-9 border-dashed",children:[y.jsx(vB,{className:"mr-2 h-4 w-4"}),e,i.size>0&&y.jsxs(y.Fragment,{children:[y.jsx(lh,{orientation:"vertical",className:"mx-2 h-4"}),y.jsx(Vs,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:i.size})]})]})}),y.jsx(im,{className:"w-[240px] p-0",align:"start",children:y.jsxs(jb,{children:[y.jsx(Nb,{placeholder:e}),y.jsxs(Db,{children:[y.jsx(zb,{children:"Aucun rsultat."}),y.jsx(Ru,{children:n.map(s=>{const a=i.has(s.value);return y.jsxs(zo,{onSelect:()=>{const l=new Set(i);a?l.delete(s.value):l.add(s.value);const u=Array.from(l);t?.setFilterValue(u.length?u:void 0)},children:[y.jsx(NQ,{className:ue("mr-2 h-4 w-4",a?"opacity-100":"opacity-0")}),y.jsx("span",{className:"truncate",children:s.label}),r?.get(s.value)?y.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:r.get(s.value)}):null]},s.value)})}),i.size>0&&y.jsxs(y.Fragment,{children:[y.jsx(Lb,{}),y.jsx(Ru,{children:y.jsx(zo,{onSelect:()=>t?.setFilterValue(void 0),className:"justify-center text-center",children:"Effacer les filtres"})})]})]})]})})]})}function m7({table:t}){const[e,n]=w.useState(""),r=t.getAllColumns().filter(d=>d.getCanHide()),i=w.useMemo(()=>r.map(d=>{const g=d.columnDef.meta?.label??d.id;return{column:d,label:g,labelLower:g.toLowerCase()}}),[r]),s=w.useMemo(()=>i.filter(d=>d.column.getIsVisible()),[i]),a=w.useMemo(()=>{const d=e.trim().toLowerCase();return d?i.filter(m=>m.labelLower.includes(d)):s},[e,i,s]),u=a.slice(0,120),f=Math.max(a.length-u.length,0);return y.jsxs(Kb,{children:[y.jsx(Jb,{asChild:!0,children:y.jsxs(Fe,{variant:"outline",size:"sm",className:"ml-auto h-9",children:[y.jsx(gB,{className:"mr-2 h-4 w-4"}),"Colonnes"]})}),y.jsx(im,{align:"end",className:"w-[260px] p-0",children:y.jsxs(jb,{shouldFilter:!1,children:[y.jsx(Nb,{placeholder:"Rechercher une colonne...",value:e,onValueChange:n}),y.jsxs(Db,{children:[a.length===0?y.jsx(zb,{children:"Aucune colonne."}):null,y.jsxs(Ru,{children:[!e&&r.length>s.length?y.jsxs(zo,{disabled:!0,children:["Tapez pour chercher parmi ",r.length," colonnes."]}):null,u.map(d=>{const m=d.column.getIsVisible();return y.jsxs(zo,{onSelect:()=>d.column.toggleVisibility(!m),children:[y.jsx(NQ,{className:ue("mr-2 h-4 w-4",m?"opacity-100":"opacity-0")}),y.jsx("span",{className:"truncate",children:d.label})]},d.column.id)})]}),f>0?y.jsxs(zo,{disabled:!0,children:["+ ",f," colonnes supplmentaires"]}):null,y.jsx(Lb,{}),y.jsx(Ru,{children:y.jsx(zo,{onSelect:()=>t.resetColumnVisibility(),className:"justify-center text-center",children:"Tout afficher"})})]})]})})]})}function g7({table:t,filters:e=[],globalPlaceholder:n="Rechercher...",showViewOptions:r=!0}){const[i,s]=w.useState(t.getState().globalFilter??""),a=t.getState().columnFilters.length>0||t.getState().globalFilter;return w.useEffect(()=>{const l=setTimeout(()=>{w.startTransition(()=>{t.setGlobalFilter(i)})},400);return()=>clearTimeout(l)},[i,t]),y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsx(Do,{placeholder:n,value:i,onChange:l=>s(l.target.value),className:"h-9 w-full max-w-sm"}),e.map(l=>{const u=t.getColumn(l.columnId);return u?y.jsx(p7,{column:u,title:l.title,options:l.options},l.columnId):null}),a?y.jsxs(Fe,{variant:"ghost",size:"sm",className:"h-9 px-2",onClick:()=>{t.resetColumnFilters(),t.setGlobalFilter(""),s("")},children:["Rinitialiser",y.jsx(pB,{className:"ml-2 h-4 w-4"})]}):null,r?y.jsx(m7,{table:t}):null]})}const tP="recherche_last_search";function Lk(t){try{sessionStorage.setItem(tP,JSON.stringify(t))}catch{}}function O7(){try{const t=sessionStorage.getItem(tP);return t?JSON.parse(t):null}catch{return null}}function v7(t){if(!t)return"--";const e=new Date(t);return Number.isNaN(e.getTime())?"--":e.toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})}function y7(t,e){return e?t.filter(n=>n.question_id===e).sort((n,r)=>n.answer_index-r.answer_index).map(n=>n.value_text??"").filter(Boolean).join(", "):""}const b7={VITE_SEARCH_SUBMISSIONS_ENDPOINT:"https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/search-submissions",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I",VITE_GOOGLE_FORM_ID:"1Sg7TObIvEbrSDBgbFDzzD3ytSniYzUPId-cpOppHND8"},qc=Object.entries(b7).filter(([,t])=>!t).map(([t])=>t);function Ua({column:t,title:e}){const n=t.getFacetedUniqueValues(),r=new Set(t.getFilterValue()),i=w.useMemo(()=>{const s=[];return n.forEach((a,l)=>{const u=String(l).trim();u&&s.push({value:u,count:a})}),s.sort((a,l)=>a.value.localeCompare(l.value))},[n]);return y.jsxs(Kb,{children:[y.jsx(Jb,{asChild:!0,children:y.jsxs("button",{type:"button",className:"inline-flex items-center gap-1.5 text-left font-medium hover:text-foreground",children:[e,y.jsx(DZ,{className:ue("size-3.5",r.size>0?"text-primary":"text-muted-foreground")}),r.size>0&&y.jsx("span",{className:"flex size-4 items-center justify-center rounded-full bg-primary text-[10px] font-bold text-primary-foreground",children:r.size})]})}),y.jsx(im,{align:"start",className:"w-48 p-2",children:y.jsxs("div",{className:"space-y-1",children:[i.map(s=>{const a=r.has(s.value);return y.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 rounded-sm px-2 py-1.5 text-sm hover:bg-accent",onClick:()=>{const l=new Set(r);a?l.delete(s.value):l.add(s.value),t.setFilterValue(l.size?Array.from(l):void 0)},children:[y.jsx("div",{className:ue("flex size-4 shrink-0 items-center justify-center rounded-sm border",a?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30"),children:a&&y.jsx(yZ,{className:"size-3"})}),y.jsx("span",{className:"flex-1 truncate text-left",children:s.value}),y.jsx("span",{className:"text-xs text-muted-foreground",children:s.count})]},s.value)}),r.size>0&&y.jsx("button",{type:"button",className:"w-full rounded-sm px-2 py-1.5 text-center text-sm text-muted-foreground hover:bg-accent",onClick:()=>t.setFilterValue(void 0),children:"Effacer les filtres"})]})})]})}function w7(){const t=ro(),e=qs(),n=e?.accessToken,[r,i]=w.useState([]),[s,a]=w.useState(null),[l,u]=w.useState(null),[f,d]=w.useState(null),[m,g]=w.useState(null),O=w.useRef({}),x=w.useRef(O7()),[S,C]=w.useState(()=>x.current?.mode??"structured"),[k,T]=w.useState(()=>!x.current),R=w.useRef(null),Q=w.useRef(null),A=w.useRef(null),$=w.useRef(null),P=w.useRef(null),Z=w.useRef(null),B=w.useRef(null),ee=w.useRef({}),re=Jn({mutationFn:async X=>(ee.current=X,hk({name:X.name,email:X.email,phone:X.phone,age:X.age,gender:X.gender,children:X.children,limit:200})),onSuccess:X=>{T(!1),Lk({mode:"structured",params:ee.current,results:X}),a({title:"Recherche termine",description:`${X.length} rponses trouves.`,variant:"info"})},onError:X=>{a({title:"Erreur de recherche",description:X.message,variant:"error"})}}),H=w.useCallback(()=>{const X=Q.current?.value.trim()??"",_e=A.current?.value.trim()??"",De=$.current?.value.trim()??"",gt=P.current?.value.trim()??"",Tt=Z.current?.value??"",xi=B.current?.value??"";re.mutate({name:X||void 0,email:_e||void 0,phone:De||void 0,age:gt||void 0,gender:Tt||void 0,children:xi||void 0})},[re]),le=Jn({mutationFn:async X=>hk({freetext:X,limit:200}),onSuccess:X=>{T(!1),Lk({mode:"freetext",params:{},freetextQuery:R.current?.value.trim()??"",results:X}),a({title:"Recherche termine",description:`${X.length} profil(s) trouv(s).`,variant:"info"})},onError:X=>{a({title:"Erreur de recherche",description:X.message,variant:"error"})}}),ae=w.useCallback(()=>{const X=R.current?.value.trim()??"";X&&le.mutate(X)},[le]),me=Jn({mutationFn:async()=>{const X="1Sg7TObIvEbrSDBgbFDzzD3ytSniYzUPId-cpOppHND8";if(!n)throw new Error("Session expire. Reconnectez-vous.");const _e=await JX(X,n);return hB(_e)},onSuccess:X=>{i(X),a({title:"Libells mis  jour",description:`${X.length} questions synchronises.`,variant:"success"})},onError:X=>{a({title:"Erreur de synchronisation",description:X.message,variant:"error"})}}),I=Jn({mutationFn:async()=>wQ(),onSuccess:X=>{O.current={},a({title:"Normalisation termine",description:`${X.normalized} soumission(s) traite(s), ${X.answersCreated} rponse(s) cre(s).`,variant:"success"}),l&&zy(l.id).then(_e=>{u(De=>De?{...De,answers:_e}:null)})},onError:X=>{a({title:"Erreur de normalisation",description:X.message,variant:"error"})}}),L=Jn({mutationFn:async X=>uB(X,e?.sessionId),onSuccess:X=>{X.invitation&&(g(X.invitation.deepLink),a({title:X.reused?"Invitation existante":"Invitation cre",description:X.reused?"Un lien valide existait dj pour ce client.":"Le lien d'invitation a t gnr.",variant:"success"}))},onError:X=>{a({title:"Erreur d'invitation",description:X.message,variant:"error"})}}),K=w.useCallback(async X=>{g(null);const _e=O.current[X.id];if(_e){u({id:X.id,email:X.email,phone:X.phone||X.telephone||null,submitted_at:X.submitted_at,created_at:X.created_at,answers:_e});return}d(X.id);try{const De=await zy(X.id);O.current[X.id]=De,u({id:X.id,email:X.email,phone:X.phone||X.telephone||null,submitted_at:X.submitted_at,created_at:X.created_at,answers:De})}catch(De){const gt=De instanceof Error?De.message:String(De);a({title:"Erreur de chargement",description:gt,variant:"error"})}finally{d(De=>De===X.id?null:De)}},[]);w.useEffect(()=>{if(!s)return;const X=setTimeout(()=>a(null),4200);return()=>clearTimeout(X)},[s]),w.useEffect(()=>{k&&requestAnimationFrame(()=>{if(S==="freetext"){const X=x.current?.freetextQuery??"";R.current&&(R.current.value=X)}else{const X=ee.current.name?ee.current:x.current?.params;if(!X)return;Q.current&&(Q.current.value=X.name??""),A.current&&(A.current.value=X.email??""),$.current&&($.current.value=X.phone??""),P.current&&(P.current.value=X.age??""),Z.current&&(Z.current.value=X.gender??""),B.current&&(B.current.value=X.children??"")}})},[k,S]),w.useEffect(()=>{let X=!0;return kb().then(_e=>{X&&i(_e)}).catch(_e=>{console.error("Failed to load question map:",_e)}),()=>{X=!1}},[]);const G=w.useMemo(()=>re.data??le.data??x.current?.results??[],[re.data,le.data]),he=w.useMemo(()=>G.map(X=>{const _e=[X.nom,X.prenom,X.telephone,X.email??"",X.phone??"",X.age,X.genre,X.enfants].filter(Boolean).join(" ").toLowerCase();return{...X,searchIndex:_e}}),[G]),M=w.useMemo(()=>[{accessorKey:"nom",header:({column:X})=>y.jsx(Ua,{column:X,title:"Nom"}),meta:{label:"Nom"},cell:({row:X})=>X.original.nom||"--",filterFn:(X,_e,De)=>{const gt=X.original.nom.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{accessorKey:"prenom",header:({column:X})=>y.jsx(Ua,{column:X,title:"Prnom"}),meta:{label:"Prnom"},cell:({row:X})=>X.original.prenom||"--",filterFn:(X,_e,De)=>{const gt=X.original.prenom.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{accessorKey:"telephone",header:({column:X})=>y.jsx(Ua,{column:X,title:"Tlphone"}),meta:{label:"Tlphone"},cell:({row:X})=>X.original.telephone||"--",filterFn:(X,_e,De)=>{const gt=X.original.telephone.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{accessorKey:"age",header:({column:X})=>y.jsx(Ua,{column:X,title:"ge"}),meta:{label:"ge"},cell:({row:X})=>X.original.age||"--",filterFn:(X,_e,De)=>{const gt=X.original.age.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{accessorKey:"genre",header:({column:X})=>y.jsx(Ua,{column:X,title:"Sexe"}),meta:{label:"Sexe"},cell:({row:X})=>X.original.genre||"--",filterFn:(X,_e,De)=>{const gt=X.original.genre.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{accessorKey:"enfants",header:({column:X})=>y.jsx(Ua,{column:X,title:"Enfants"}),meta:{label:"Enfants"},cell:({row:X})=>X.original.enfants||"--",filterFn:(X,_e,De)=>{const gt=X.original.enfants.toLowerCase();return De.some(Tt=>gt.includes(Tt.toLowerCase()))}},{id:"loverCv",header:"",enableGlobalFilter:!1,cell:({row:X})=>y.jsxs("button",{type:"button",onClick:()=>t(`/recherche/lover-cv/${X.original.id}`,{state:{prenom:X.original.prenom,nom:X.original.nom,age:X.original.age,email:X.original.email,phone:X.original.phone||X.original.telephone}}),className:"inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium text-secondary-foreground transition-colors hover:bg-secondary/80 bg-secondary",children:[y.jsx(al,{className:"size-3.5"}),"Lover CV"]})},{id:"action",header:"",enableGlobalFilter:!1,cell:({row:X})=>{const _e=f===X.original.id;return y.jsx("button",{type:"button",disabled:_e,onClick:()=>{K(X.original)},className:"inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium text-primary transition-colors hover:bg-primary/10 disabled:opacity-50",children:_e?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"size-3.5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),y.jsx("span",{children:"Chargement"})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Consulter"}),y.jsxs("svg",{className:"size-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"m12 5 7 7-7 7"})]})]})})}}],[K,f,t]),N=w.useCallback((X,_e,De)=>{const gt=String(De??"").trim().toLowerCase();return gt?X.original.searchIndex.includes(gt):!0},[]),F=cB({data:he,columns:M,getCoreRowModel:KV(),getFilteredRowModel:iB(),getPaginationRowModel:sB(),getFacetedRowModel:nB(),getFacetedUniqueValues:rB(),globalFilterFn:N,initialState:{pagination:{pageSize:10}}}),ie=F.getFilteredRowModel().rows.length,oe=F.getPageCount(),ce=F.getState().pagination,fe=ie===0?0:ce.pageIndex*ce.pageSize+1,ze=Math.min((ce.pageIndex+1)*ce.pageSize,ie);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex flex-1 flex-col gap-4 px-4 lg:px-6",children:k?y.jsx("div",{className:"flex flex-1 items-center justify-center",children:y.jsxs(en,{className:"w-full max-w-2xl border",children:[y.jsxs(Tn,{className:"text-center",children:[y.jsx(Hn,{className:"text-2xl",children:"Recherche"}),y.jsx(yr,{children:S==="freetext"?"Recherche libre dans toutes les rponses des candidats":"Recherchez par nom, email, tlphone ou critres"})]}),y.jsxs(rr,{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-center gap-1 rounded-lg bg-muted p-1",children:[y.jsxs("button",{type:"button",onClick:()=>C("structured"),className:ue("flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium transition-colors",S==="structured"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[y.jsx(Rd,{className:"size-3.5"}),"Classique"]}),y.jsxs("button",{type:"button",onClick:()=>C("freetext"),className:ue("flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium transition-colors",S==="freetext"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[y.jsx(ak,{className:"size-3.5"}),"Recherche libre"]})]}),S==="freetext"?y.jsxs(y.Fragment,{children:[y.jsx("textarea",{ref:R,rows:3,placeholder:"Dcrivez le profil recherch... Ex: sportive voyage sans enfants femme",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Les mots-cls sont recherchs dans toutes les rponses du questionnaire. Chaque mot doit apparatre au moins une fois."}),y.jsx("div",{className:"flex flex-wrap items-center gap-3",children:y.jsxs(Fe,{type:"button",onClick:ae,disabled:le.isPending||qc.length>0,className:"gap-2",children:[y.jsx(ak,{className:"size-4"}),le.isPending?"Recherche...":"Rechercher"]})})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(CQ,{className:"size-4 text-muted-foreground"}),"Nom"]}),y.jsx(Do,{ref:Q,type:"text",placeholder:"ex: Dupont, Marie..."})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(XZ,{className:"size-4 text-muted-foreground"}),"Email"]}),y.jsx(Do,{ref:A,type:"email",placeholder:"ex: jane@email.com"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(FZ,{className:"size-4 text-muted-foreground"}),"Tlphone"]}),y.jsx(Do,{ref:$,type:"tel",placeholder:"ex: 06 12 34 56 78"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(OZ,{className:"size-4 text-muted-foreground"}),"ge"]}),y.jsx(Do,{ref:P,type:"text",placeholder:"ex: 30"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(_Q,{className:"size-4 text-muted-foreground"}),"Sexe"]}),y.jsxs("select",{ref:Z,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[y.jsx("option",{value:"",children:"Tous"}),y.jsx("option",{value:"homme",children:"Homme"}),y.jsx("option",{value:"femme",children:"Femme"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[y.jsx(EZ,{className:"size-4 text-muted-foreground"}),"Enfants"]}),y.jsxs("select",{ref:B,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[y.jsx("option",{value:"",children:"Tous"}),y.jsx("option",{value:"oui",children:"Oui"}),y.jsx("option",{value:"non",children:"Non"})]})]})]}),qc.length>0?y.jsxs("div",{className:"rounded-md border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:["Variables d'environnement manquantes: ",qc.join(", ")]}):null,y.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[y.jsxs(Fe,{type:"button",onClick:H,disabled:re.isPending||qc.length>0,className:"gap-2",children:[y.jsx(Rd,{className:"size-4"}),re.isPending?"Recherche...":"Rechercher"]}),y.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>me.mutate(),disabled:me.isPending||qc.length>0,className:"text-muted-foreground",children:me.isPending?"Mise  jour...":"Mettre  jour les libells"})]})]})]})]})}):y.jsx(y.Fragment,{children:y.jsxs(en,{className:"flex min-h-0 min-w-0 flex-1 flex-col border",children:[y.jsx(Tn,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs(Hn,{children:["Rsultats ",ie," / ",G.length]}),y.jsx(yr,{children:'Cliquez sur "Consulter" pour charger les rponses compltes.'})]}),y.jsxs(Fe,{type:"button",variant:"outline",size:"sm",onClick:()=>T(!0),className:"gap-2",children:[y.jsx(Rd,{className:"size-4"}),"Modifier la recherche"]})]})}),y.jsxs(rr,{className:"flex min-h-0 flex-1 flex-col gap-3",children:[y.jsx(g7,{table:F,globalPlaceholder:"Filtrer les rsultats...",showViewOptions:!1}),y.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col overflow-hidden rounded-lg border bg-muted/20",children:[y.jsx("div",{className:"min-h-0 flex-1 overflow-hidden",children:y.jsxs(yb,{children:[y.jsx(bb,{children:F.getHeaderGroups().map(X=>y.jsx(ii,{children:X.headers.map(_e=>y.jsx(hu,{children:_e.isPlaceholder?null:uk(_e.column.columnDef.header,_e.getContext())},_e.id))},X.id))}),y.jsx(wb,{children:re.isPending||le.isPending?Array.from({length:5}).map((X,_e)=>y.jsxs(ii,{children:[y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-24"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-20"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-28"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-10"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-16"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-12"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-16"})}),y.jsx(It,{className:"py-2.5",children:y.jsx(tt,{className:"h-4 w-16"})})]},_e)):he.length===0?y.jsx(ii,{children:y.jsx(It,{colSpan:8,className:"text-center text-muted-foreground",children:"Aucun rsultat."})}):F.getRowModel().rows.length===0?y.jsx(ii,{children:y.jsx(It,{colSpan:8,className:"text-center text-muted-foreground",children:"Aucun rsultat pour ce filtre."})}):F.getRowModel().rows.map(X=>y.jsx(ii,{children:X.getVisibleCells().map(_e=>y.jsx(It,{className:"py-2.5",children:uk(_e.column.columnDef.cell,_e.getContext())},_e.id))},X.id))})]})}),y.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border px-4 py-3 text-sm",children:[y.jsx("div",{className:"text-muted-foreground",children:ie===0?"0 rsultat":`${fe}-${ze} sur ${ie}`}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y.jsx(Fe,{size:"sm",variant:"outline",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:"Prcdent"}),y.jsxs("span",{className:"text-xs uppercase text-muted-foreground",children:["Page ",oe===0?0:ce.pageIndex+1," / ",oe]}),y.jsx(Fe,{size:"sm",variant:"outline",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:"Suivant"})]})]})]})]})]})})}),s?Fi.createPortal(y.jsx("div",{className:"fixed right-6 top-16 z-50 flex w-full max-w-sm flex-col gap-3",children:y.jsx(Vp,{title:s.title,description:s.description,variant:s.variant,onClose:()=>a(null)})}),document.body):null,l?Fi.createPortal(y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:y.jsxs("div",{className:"relative flex h-[calc(100vh-2rem)] h-[calc(100dvh-2rem)] w-full max-w-none flex-col overflow-hidden rounded-lg border border-border bg-background shadow-2xl sm:h-[min(92vh,900px)] sm:h-[min(92dvh,900px)] sm:w-[min(94vw,1200px)] sm:rounded-xl xl:w-[min(90vw,1320px)]",children:[y.jsxs("div",{className:"z-10 flex items-center justify-between border-b border-border bg-background/95 p-4 backdrop-blur sm:p-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-semibold",children:"Rponses compltes"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:l.email||l.phone||"Client"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Fe,{type:"button",size:"sm",onClick:()=>L.mutate(l.id),disabled:L.isPending,children:L.isPending?"Gnration...":"Inviter"}),y.jsxs(Fe,{type:"button",size:"sm",variant:"secondary",onClick:()=>t(`/recherche/lover-cv/${l.id}`,{state:{email:l.email,phone:l.phone}}),className:"gap-1.5",children:[y.jsx(al,{className:"size-3.5"}),"Lover CV"]}),y.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>{u(null),g(null)},children:"Fermer"})]})]}),y.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:y.jsxs("div",{className:"space-y-4 p-4 sm:p-6",children:[y.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:y.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Soumis le"}),y.jsx("p",{className:"font-medium",children:v7(l.submitted_at??l.created_at)})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Email"}),y.jsx("p",{className:"font-medium",children:l.email||"--"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Tlphone"}),y.jsx("p",{className:"font-medium",children:l.phone||"--"})]})]})}),m?y.jsxs("div",{className:"rounded-lg border border-primary/30 bg-primary/5 p-4",children:[y.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wider text-primary",children:"Lien d'invitation (deep link)"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("code",{className:"flex-1 rounded-lg bg-background px-3 py-2 text-sm font-mono break-all",children:m}),y.jsx(Fe,{type:"button",size:"sm",variant:"secondary",onClick:()=>{navigator.clipboard.writeText(m),a({title:"Copi",description:"Le lien a t copi dans le presse-papier.",variant:"info"})},children:"Copier"})]})]}):null,(()=>{const X=r.map(_e=>{const De=y7(l.answers,_e.question_id);return De?y.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[y.jsx("p",{className:"mb-2 font-semibold text-foreground",children:_e.label}),y.jsx("p",{className:"text-sm text-muted-foreground",children:De})]},_e.question_id):null}).filter(Boolean);return X.length===0?y.jsx("div",{className:"rounded-lg border bg-muted/20 p-6 text-center text-sm text-muted-foreground",children:r.length===0?'Aucun libell charg. Cliquez sur "Mettre  jour les libells" pour synchroniser.':y.jsxs("div",{className:"space-y-3",children:[y.jsx("p",{children:`Aucune rponse trouve (${l.answers.length} rponse(s) brute(s), ${r.length} libell(s)).`}),y.jsx(Fe,{type:"button",size:"sm",variant:"outline",onClick:()=>I.mutate(),disabled:I.isPending,children:I.isPending?"Normalisation...":"Normaliser les rponses"})]})}):y.jsx("div",{className:"space-y-3",children:X})})()]})})]})}),document.body):null]})}const x7="https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/moderation",S7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I";async function Xl(t){const e=await fetch(x7,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${S7}`},body:JSON.stringify(t)});if(!e.ok){const r=await e.text();throw new Error(`Moderation request failed: ${e.status} ${e.statusText}${r?` - ${r}`:""}`)}const n=await e.json();if(!n.ok)throw new Error(n.error||"Moderation request failed.");return n.data}const Ik=["first_name","last_name","birthdate","gender","city","zone","profession","sector","relationship_status","housing_status","children_has","zodiac_sign","religion","has_vehicle","smoker","alcohol","sport_frequency","height_cm","skin_tone","hair_length","hair_texture","hair_style","clothing_size","fashion_style","bio_short","bio_long","lover_cv_short","lover_cv_long"],Xk=["fav_dish","sweet_pleasure","dislikes_food","allergies","team_environment","last_book_or_alt","movie_or_series_like_me","music_of_the_moment","ideal_weekend_activity","best_recognized_quality","small_flaw","i_appreciate_in_someone","dealbreaker_text","bravest_thing_done","surprising_fact","happiest_when","i_am_looking_for","in_2_5_years_i_want","love_language"];function C7(t,e){const n=[],r=Ik.length+Xk.length;for(const s of Ik){const a=t[s];(a==null||a===""||Array.isArray(a)&&a.length===0)&&n.push(s)}for(const s of Xk)e?.[s]||n.push(s);const i=r-n.length;return{pct:r>0?Math.round(i/r*100):0,missing:n}}async function _7(){return Xl({action:"fetchPendingProfiles"})}async function k7(t){return Xl({action:"fetchProfileDetail",userId:t})}async function T7(t){await Xl({action:"approveProfile",userId:t})}async function R7(t,e){await Xl({action:"rejectProfile",userId:t,reason:e})}async function E7(t,e){await Xl({action:"updateProfileFields",userId:t,fields:e})}async function Q7(t,e){await Xl({action:"updateFunFacts",userId:t,fields:e})}const P7=[{value:"male",label:"Homme"},{value:"female",label:"Femme"},{value:"other",label:"Autre"}],A7=[{value:"north",label:"Nord"},{value:"center",label:"Centre"},{value:"south",label:"Sud"},{value:"other",label:"Autre"}],$7=[{value:"owner",label:"Proprietaire"},{value:"renter",label:"Locataire"},{value:"hosted",label:"Heberge"},{value:"other",label:"Autre"}],M7=[{value:"single",label:"Celibataire"},{value:"separated",label:"Separe(e)"},{value:"divorced",label:"Divorce(e)"},{value:"widowed",label:"Veuf/Veuve"},{value:"other",label:"Autre"}],j7=[{value:"no",label:"Non"},{value:"occasional",label:"Occasionnel"},{value:"yes",label:"Oui"}],N7=[{value:"never",label:"Jamais"},{value:"sometimes",label:"Parfois"},{value:"regular",label:"Regulier"}],D7=[{value:"aries",label:"Belier"},{value:"taurus",label:"Taureau"},{value:"gemini",label:"Gemeaux"},{value:"cancer",label:"Cancer"},{value:"leo",label:"Lion"},{value:"virgo",label:"Vierge"},{value:"libra",label:"Balance"},{value:"scorpio",label:"Scorpion"},{value:"sagittarius",label:"Sagittaire"},{value:"capricorn",label:"Capricorne"},{value:"aquarius",label:"Verseau"},{value:"pisces",label:"Poissons"}],z7=[{value:"christian",label:"Chretien(ne)"},{value:"muslim",label:"Musulman(e)"},{value:"hindu",label:"Hindou(e)"},{value:"buddhist",label:"Bouddhiste"},{value:"jewish",label:"Juif/Juive"},{value:"none",label:"Aucune"},{value:"other",label:"Autre"}],L7=[{value:"light",label:"Clair"},{value:"medium",label:"Moyen"},{value:"dark",label:"Fonce"},{value:"ebony",label:"Ebene"}],I7=[{value:"shaved",label:"Rase"},{value:"short",label:"Court"},{value:"medium",label:"Moyen"},{value:"long",label:"Long"}],X7=[{value:"straight",label:"Lisse"},{value:"wavy",label:"Ondule"},{value:"curly",label:"Boucle"},{value:"coily",label:"Crepu"}],Z7=[{value:"natural",label:"Naturel"},{value:"braids",label:"Tresses"},{value:"locs",label:"Locks"},{value:"relaxed",label:"Defrise"},{value:"other",label:"Autre"}],V7=[{value:"XS",label:"XS"},{value:"S",label:"S"},{value:"M",label:"M"},{value:"L",label:"L"},{value:"XL",label:"XL"},{value:"XXL",label:"XXL"}],B7=[{value:"casual",label:"Casual"},{value:"chic",label:"Chic"},{value:"boheme",label:"Boheme"},{value:"streetwear",label:"Streetwear"},{value:"classic",label:"Classique"},{value:"sport",label:"Sport"}],q7=[{title:"Identite",fields:[{key:"first_name",label:"Prenom",type:"text"},{key:"last_name",label:"Nom",type:"text"},{key:"birthdate",label:"Date de naissance",type:"text"},{key:"gender",label:"Genre",type:"select",options:P7},{key:"relationship_status",label:"Situation",type:"select",options:M7}]},{title:"Localisation",fields:[{key:"city",label:"Ville",type:"text"},{key:"zone",label:"Zone",type:"select",options:A7},{key:"profession",label:"Profession",type:"text"},{key:"sector",label:"Secteur",type:"text"},{key:"housing_status",label:"Logement",type:"select",options:$7}]},{title:"Physique",fields:[{key:"height_cm",label:"Taille (cm)",type:"number"},{key:"skin_tone",label:"Teint",type:"select",options:L7},{key:"hair_length",label:"Longueur cheveux",type:"select",options:I7},{key:"hair_texture",label:"Texture cheveux",type:"select",options:X7},{key:"hair_style",label:"Coiffure",type:"select",options:Z7},{key:"clothing_size",label:"Taille vetements",type:"select",options:V7},{key:"fashion_style",label:"Style",type:"multiselect",options:B7}]},{title:"Lifestyle",fields:[{key:"smoker",label:"Fumeur",type:"boolean"},{key:"alcohol",label:"Alcool",type:"select",options:j7},{key:"sport_frequency",label:"Sport",type:"select",options:N7},{key:"has_vehicle",label:"Vehicule",type:"boolean"}]},{title:"Famille",fields:[{key:"children_has",label:"Enfants",type:"boolean"},{key:"children_count",label:"Nombre enfants",type:"number"},{key:"zodiac_sign",label:"Signe",type:"select",options:D7},{key:"religion",label:"Religion",type:"select",options:z7}]},{title:"Bio",fields:[{key:"bio_short",label:"Bio courte",type:"textarea"},{key:"bio_long",label:"Bio longue",type:"textarea"}]},{title:"Lover CV",fields:[{key:"lover_cv_short",label:"CV amoureux court",type:"textarea"},{key:"lover_cv_long",label:"CV amoureux long",type:"textarea"}]}],U7=[{title:"Cuisine",fields:[{key:"fav_dish",label:"Plat prefere",type:"text"},{key:"sweet_pleasure",label:"Plaisir sucre",type:"text"},{key:"dislikes_food",label:"N'aime pas",type:"text"},{key:"allergies",label:"Allergies",type:"text"},{key:"team_environment",label:"Team",type:"text"}]},{title:"Culture",fields:[{key:"last_book_or_alt",label:"Dernier livre / podcast",type:"text"},{key:"movie_or_series_like_me",label:"Film / serie qui me ressemble",type:"text"},{key:"music_of_the_moment",label:"Musique du moment",type:"text"},{key:"ideal_weekend_activity",label:"Weekend ideal",type:"text"}]},{title:"Emotion",fields:[{key:"best_recognized_quality",label:"Qualite reconnue",type:"text"},{key:"small_flaw",label:"Petit defaut",type:"text"},{key:"i_appreciate_in_someone",label:"J'apprecie chez quelqu'un",type:"text"},{key:"dealbreaker_text",label:"Dealbreaker",type:"text"}]},{title:"Histoire",fields:[{key:"bravest_thing_done",label:"Chose la plus courageuse",type:"text"},{key:"surprising_fact",label:"Fait surprenant",type:"text"},{key:"happiest_when",label:"Le plus heureux quand",type:"text"}]},{title:"Projection",fields:[{key:"i_am_looking_for",label:"Je recherche",type:"text"},{key:"in_2_5_years_i_want",label:"Dans 2-5 ans",type:"text"},{key:"love_language",label:"Langage d'amour",type:"text"}]}],Y7="https://ixwaprjprfcmxlyphsau.supabase.co",G7="photos";function F7(t){return`${Y7}/storage/v1/object/public/${G7}/${t}`}function W7(t){if(!t)return"--";const e=new Date(t);return Number.isNaN(e.getTime())?"--":e.toLocaleString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function H7({label:t,value:e}){return e?y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:t}),y.jsx("p",{className:"font-medium",children:String(e)})]}):null}function K7(t,e){return e==null?null:t.type==="boolean"?e===!0?"Oui":e===!1?"Non":null:t.type==="select"&&t.options?t.options.find(i=>i.value===e)?.label??String(e):t.type==="multiselect"&&Array.isArray(e)?e.length===0?null:e.map(r=>t.options?.find(i=>i.value===r)?.label??r).join(", "):t.type==="number"&&t.key==="height_cm"?`${e} cm`:String(e)||null}function J7({config:t,value:e,onChange:n}){const r="w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring";switch(t.type){case"text":return y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsx("input",{type:"text",value:e??"",onChange:i=>n(i.target.value||null),className:r})]});case"textarea":return y.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsx("textarea",{value:e??"",onChange:i=>n(i.target.value||null),rows:3,className:r})]});case"number":return y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsx("input",{type:"number",value:e??"",onChange:i=>n(i.target.value?Number(i.target.value):null),className:r})]});case"select":return y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsxs("select",{value:e??"",onChange:i=>n(i.target.value||null),className:r,children:[y.jsx("option",{value:"",children:"--"}),t.options?.map(i=>y.jsx("option",{value:i.value,children:i.label},i.value))]})]});case"boolean":return y.jsxs("div",{children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsx("div",{className:"flex gap-4 pt-1",children:[{val:!0,label:"Oui"},{val:!1,label:"Non"},{val:null,label:"--"}].map(i=>y.jsxs("label",{className:"flex cursor-pointer items-center gap-1.5 text-sm",children:[y.jsx("input",{type:"radio",name:t.key,checked:e===i.val,onChange:()=>n(i.val),className:"accent-primary"}),i.label]},String(i.val)))})]});case"multiselect":return y.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[y.jsx("label",{className:"mb-1 block text-xs uppercase text-muted-foreground",children:t.label}),y.jsx("div",{className:"flex flex-wrap gap-2 pt-1",children:t.options?.map(i=>{const s=Array.isArray(e)&&e.includes(i.value);return y.jsx("button",{type:"button",onClick:()=>{const a=Array.isArray(e)?[...e]:[];if(s){const l=a.filter(u=>u!==i.value);n(l.length>0?l:null)}else n([...a,i.value])},className:ue("rounded-full border px-3 py-1 text-xs font-medium transition",s?"border-primary bg-primary/15 text-primary":"border bg-background text-muted-foreground hover:border-primary/40"),children:i.label},i.value)})})]});default:return null}}function Zk({section:t,data:e,draft:n,isEditing:r,onFieldChange:i}){const s=t.fields.some(a=>{const l=e[a.key];return l!=null&&l!==""});return!r&&!s?null:y.jsxs("div",{children:[y.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase text-muted-foreground",children:t.title}),y.jsx("div",{className:ue("grid gap-3 rounded-2xl border p-4 sm:grid-cols-2 lg:grid-cols-3",r?"border-primary/40 bg-primary/5":"border bg-muted/50"),children:r?t.fields.map(a=>y.jsx(J7,{config:a,value:a.key in n?n[a.key]:e[a.key],onChange:l=>i(a.key,l)},a.key)):t.fields.map(a=>{const l=e[a.key],u=K7(a,l);return y.jsx(H7,{label:a.label,value:u},a.key)})})]})}function e6(){const[t,e]=w.useState([]),[n,r]=w.useState(null),[i,s]=w.useState(null),[a,l]=w.useState(""),[u,f]=w.useState(!1),d=w.useRef(null),[m,g]=w.useState(!1),[O,x]=w.useState({}),[S,C]=w.useState({}),[k,T]=w.useState(new Set),R=w.useCallback(()=>{g(!1),x({}),C({}),T(new Set)},[]),Q=Jn({mutationFn:_7,onSuccess:L=>e(L),onError:L=>s({title:"Erreur",description:String(L),variant:"error"})}),A=Jn({mutationFn:L=>k7(L),onSuccess:L=>{L&&(r(L),f(!1),l(""),R())},onError:L=>s({title:"Erreur",description:String(L),variant:"error"})}),$=Jn({mutationFn:L=>T7(L),onSuccess:()=>{s({title:"Approuv",description:"Le profil a t valid.",variant:"success"}),r(null),R(),Q.mutate()},onError:L=>s({title:"Erreur",description:String(L),variant:"error"})}),P=Jn({mutationFn:({userId:L,reason:K})=>R7(L,K),onSuccess:()=>{s({title:"Rejet",description:"Le profil a t rejet.",variant:"info"}),r(null),R(),Q.mutate()},onError:L=>s({title:"Erreur",description:String(L),variant:"error"})}),Z=Jn({mutationFn:async()=>{const L=n.profile.user_id,K={},G={};for(const M of k)M in O&&(K[M]=O[M]),M in S&&(G[M]=S[M]);const he=[];Object.keys(K).length>0&&he.push(E7(L,K)),Object.keys(G).length>0&&he.push(Q7(L,G)),await Promise.all(he)},onSuccess:()=>{s({title:"Sauvegarde",description:`${k.size} champ(s) mis  jour.`,variant:"success"}),A.mutate(n.profile.user_id)},onError:L=>s({title:"Erreur",description:String(L),variant:"error"})});w.useEffect(()=>{Q.mutate()},[]);const B=w.useCallback(()=>{!n||!a.trim()||P.mutate({userId:n.profile.user_id,reason:a.trim()})},[n,a]),ee=w.useCallback(()=>{r(null),f(!1),l(""),R()},[R]),re=w.useCallback(()=>{m&&k.size>0&&!window.confirm("Abandonner les modifications ?")||(m?R():g(!0))},[m,k.size,R]),H=w.useCallback((L,K)=>{x(G=>({...G,[L]:K})),T(G=>new Set(G).add(L)),L==="children_has"&&K===!1&&(x(G=>({...G,children_has:!1,children_count:null})),T(G=>new Set(G).add("children_has").add("children_count")))},[]),le=w.useCallback((L,K)=>{C(G=>({...G,[L]:K})),T(G=>new Set(G).add(L))},[]);w.useEffect(()=>{if(!i)return;const L=setTimeout(()=>s(null),4200);return()=>clearTimeout(L)},[i]),w.useEffect(()=>{u&&d.current?.focus()},[u]);const ae=w.useMemo(()=>n?C7(n.profile,n.funFacts):{pct:0,missing:[]},[n]),me=w.useMemo(()=>n?n.profile:{},[n]),I=w.useMemo(()=>n?.funFacts?n.funFacts:{},[n]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex h-full flex-col gap-6 p-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(SQ,{className:"h-6 w-6 text-primary"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Modration des profils"}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," profil",t.length!==1?"s":""," en attente de validation"]})]}),y.jsx(Fe,{type:"button",variant:"secondary",size:"sm",className:"ml-auto",onClick:()=>Q.mutate(),disabled:Q.isPending,children:Q.isPending?"Chargement...":"Rafrachir"})]}),Q.isPending?y.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:Array.from({length:8}).map((L,K)=>y.jsxs(en,{className:"overflow-hidden border",children:[y.jsx(tt,{className:"aspect-[3/4] w-full rounded-none"}),y.jsxs(rr,{className:"space-y-2 p-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx(tt,{className:"h-3 w-20"}),y.jsx(tt,{className:"h-5 w-10 rounded-full"})]}),y.jsx(tt,{className:"h-3 w-24"})]})]},K))}):t.length===0?y.jsx(en,{className:"border",children:y.jsxs(rr,{className:"flex flex-col items-center justify-center gap-3 py-16",children:[y.jsx(fv,{className:"h-12 w-12 text-muted-foreground/40"}),y.jsx("p",{className:"text-muted-foreground",children:"Aucun profil en attente"})]})}):y.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:t.map(L=>y.jsxs(en,{className:"group cursor-pointer overflow-hidden border transition-all hover:border-primary/40 hover:shadow-lg",onClick:()=>A.mutate(L.user_id),children:[y.jsxs("div",{className:"relative aspect-[3/4] w-full overflow-hidden bg-muted",children:[L.main_photo_url?y.jsx("img",{src:L.main_photo_url,alt:L.first_name??"Photo",className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):y.jsx("div",{className:"flex h-full w-full items-center justify-center",children:y.jsx(CQ,{className:"h-12 w-12 text-muted-foreground/30"})}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3",children:[y.jsxs("p",{className:"font-semibold text-white",children:[L.first_name??"?",L.age_years?`, ${L.age_years}`:""]}),L.city&&y.jsxs("p",{className:"flex items-center gap-1 text-xs text-white/80",children:[y.jsx(VZ,{className:"h-3 w-3"}),L.city]})]})]}),y.jsxs(rr,{className:"p-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-1.5",children:L.profession&&y.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[y.jsx(mZ,{className:"h-3 w-3"}),L.profession]})}),y.jsxs(Vs,{variant:"outline",className:"text-xs",children:[L.completion_score??0,"%"]})]}),y.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground",children:W7(L.created_at)})]})]},L.user_id))})]}),i?Fi.createPortal(y.jsx("div",{className:"fixed right-6 top-16 z-50 flex w-full max-w-sm flex-col gap-3",children:y.jsx(Vp,{title:i.title,description:i.description,variant:i.variant,onClose:()=>s(null)})}),document.body):null,A.isPending&&!n?Fi.createPortal(y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:y.jsxs("div",{className:"relative flex h-[calc(100dvh-2rem)] w-full max-w-none flex-col overflow-hidden rounded-2xl border border-border bg-background shadow-2xl sm:h-[min(92dvh,900px)] sm:w-[min(94vw,1200px)] sm:rounded-3xl xl:w-[min(90vw,1320px)]",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4 sm:p-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(tt,{className:"h-7 w-48"}),y.jsx(tt,{className:"h-4 w-32"})]}),y.jsx(tt,{className:"h-9 w-20 rounded-md"})]}),y.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:y.jsxs("div",{className:"space-y-6 p-4 sm:p-6",children:[y.jsxs("div",{children:[y.jsx(tt,{className:"mb-3 h-3 w-16"}),y.jsx("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 lg:grid-cols-6",children:Array.from({length:6}).map((L,K)=>y.jsx(tt,{className:"aspect-[3/4] rounded-xl"},K))})]}),Array.from({length:3}).map((L,K)=>y.jsxs("div",{children:[y.jsx(tt,{className:"mb-3 h-3 w-24"}),y.jsx("div",{className:"grid gap-3 rounded-2xl border p-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((G,he)=>y.jsxs("div",{className:"space-y-1.5",children:[y.jsx(tt,{className:"h-3 w-16"}),y.jsx(tt,{className:"h-5 w-full"})]},he))})]},K))]})})]})}),document.body):null,n?Fi.createPortal(y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:y.jsxs("div",{className:"relative flex h-[calc(100vh-2rem)] h-[calc(100dvh-2rem)] w-full max-w-none flex-col overflow-hidden rounded-2xl border border-border bg-background shadow-2xl sm:h-[min(92vh,900px)] sm:h-[min(92dvh,900px)] sm:w-[min(94vw,1200px)] sm:rounded-3xl xl:w-[min(90vw,1320px)]",children:[y.jsxs("div",{className:"z-10 flex items-center justify-between border-b border-border bg-background/95 p-4 backdrop-blur sm:p-6",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-semibold",children:[n.profile.first_name??"?"," ",n.profile.last_name??"",n.profile.age_years?`, ${n.profile.age_years} ans`:""]}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.profile.city??"--"," "," ",n.profile.gender??"--","  Score"," ",ae.pct,"%"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[!u&&y.jsx(Fe,{type:"button",variant:m?"outline":"secondary",size:"sm",onClick:re,children:m?y.jsxs(y.Fragment,{children:[y.jsx(sk,{className:"mr-1.5 h-3.5 w-3.5"}),"Annuler"]}):y.jsxs(y.Fragment,{children:[y.jsx(YZ,{className:"mr-1.5 h-3.5 w-3.5"}),"Modifier"]})}),y.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onClick:ee,children:"Fermer"})]})]}),y.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:y.jsxs("div",{className:"space-y-6 p-4 sm:p-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase text-muted-foreground",children:"Photos"}),n.photos.length>0?y.jsx("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-4 lg:grid-cols-6",children:n.photos.map(L=>y.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden rounded-xl bg-muted",children:[y.jsx("img",{src:F7(L.storage_path),alt:`${L.album} ${L.position}`,className:"h-full w-full object-cover"}),y.jsx(Vs,{variant:"outline",className:"absolute left-1.5 top-1.5 bg-background/80 text-[10px] backdrop-blur",children:L.album==="main"?"Principale":L.album==="public"?`Public ${L.position+1}`:`Priv ${L.position+1}`})]},L.id))}):y.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune photo"})]}),q7.map(L=>y.jsx(Zk,{section:L,data:me,draft:O,isEditing:m,onFieldChange:H},L.title)),U7.map(L=>y.jsx(Zk,{section:L,data:I,draft:S,isEditing:m,onFieldChange:le},L.title)),ae.missing.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"mb-3 text-xs font-semibold uppercase text-muted-foreground",children:["Champs manquants (",ae.missing.length,")"]}),y.jsxs("div",{className:"flex flex-wrap items-start gap-2 rounded-2xl border border-amber-500/30 bg-amber-500/5 p-4",children:[y.jsx(oV,{className:"mt-0.5 h-4 w-4 shrink-0 text-amber-500"}),ae.missing.map(L=>y.jsx(Vs,{variant:"outline",className:"border-amber-500/40 text-xs text-amber-600",children:L},L))]})]}),u&&y.jsxs("div",{className:"rounded-2xl border border-destructive/40 bg-destructive/5 p-4",children:[y.jsx("label",{className:"mb-2 block text-xs font-semibold uppercase text-destructive",children:"Motif du rejet"}),y.jsx("textarea",{ref:d,value:a,onChange:L=>l(L.target.value),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:border-destructive focus:outline-none",placeholder:"Ex: Photos inappropries, profil incomplet, contenu offensant..."}),y.jsxs("div",{className:"mt-3 flex gap-2",children:[y.jsx(Fe,{type:"button",variant:"destructive",size:"sm",onClick:B,disabled:!a.trim()||P.isPending,children:P.isPending?"Rejet...":"Confirmer le rejet"}),y.jsx(Fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>{f(!1),l("")},children:"Annuler"})]})]})]})}),m?y.jsxs("div",{className:"flex items-center justify-between border-t border-border bg-background/95 p-4 backdrop-blur sm:p-6",children:[y.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.size," champ",k.size!==1?"s":""," ","modifi",k.size!==1?"s":""]}),y.jsxs(Fe,{type:"button",onClick:()=>Z.mutate(),disabled:k.size===0||Z.isPending,children:[y.jsx(fv,{className:"mr-2 h-4 w-4"}),Z.isPending?"Enregistrement...":"Sauvegarder"]})]}):u?null:y.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-border bg-background/95 p-4 backdrop-blur sm:p-6",children:[y.jsxs(Fe,{type:"button",variant:"destructive",onClick:()=>f(!0),disabled:$.isPending,children:[y.jsx(sk,{className:"mr-2 h-4 w-4"}),"Rejeter"]}),y.jsxs(Fe,{type:"button",onClick:()=>$.mutate(n.profile.user_id),disabled:$.isPending,children:[y.jsx(fv,{className:"mr-2 h-4 w-4"}),$.isPending?"Validation...":"Approuver"]})]})]})}),document.body):null]})}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function t6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let Ky=[],nP=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?nP:Ky).push(n=n+t[e])})();function n6(t){if(t<768)return!1;for(let e=0,n=Ky.length;;){let r=e+n>>1;if(t<Ky[r])n=r;else if(t>=nP[r])e=r+1;else return!0;if(e==n)return!1}}function Vk(t){return t>=127462&&t<=127487}const Bk=8205;function r6(t,e,n=!0,r=!0){return(n?rP:i6)(t,e,r)}function rP(t,e,n){if(e==t.length)return e;e&&iP(t.charCodeAt(e))&&sP(t.charCodeAt(e-1))&&e--;let r=Av(t,e);for(e+=qk(r);e<t.length;){let i=Av(t,e);if(r==Bk||i==Bk||n&&n6(i))e+=qk(i),r=i;else if(Vk(i)){let s=0,a=e-2;for(;a>=0&&Vk(Av(t,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function i6(t,e,n){for(;e>0;){let r=rP(t,e-2,n);if(r<e)return r;e--}return 0}function Av(t,e){let n=t.charCodeAt(e);if(!sP(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return iP(r)?(n-55296<<10)+(r-56320)+65536:n}function iP(t){return t>=56320&&t<57344}function sP(t){return t>=55296&&t<56320}function qk(t){return t<65536?1:2}class Ue{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=bl(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),si.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=bl(this,e,n);let r=[];return this.decompose(e,n,r,0),si.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new du(this),s=new du(e);for(let a=n,l=n;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new du(this,e)}iterRange(e,n=this.length){return new oP(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new aP(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ue.empty:e.length<=32?new Qt(e):si.from(Qt.split(e,[]))}}class Qt extends Ue{constructor(e,n=s6(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.text[s],l=i+a.length;if((n?r:l)>=e)return new o6(i,l,r,a);i=l+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new Qt(Uk(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),l=Ad(s.text,a.text.slice(),0,s.length);if(l.length<=32)r.push(new Qt(l,a.length+s.length));else{let u=l.length>>1;r.push(new Qt(l.slice(0,u)),new Qt(l.slice(u)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof Qt))return super.replace(e,n,r);[e,n]=bl(this,e,n);let i=Ad(this.text,Ad(r.text,Uk(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new Qt(i,s):si.from(Qt.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=bl(this,e,n);let i="";for(let s=0,a=0;s<=n&&a<this.text.length;a++){let l=this.text[a],u=s+l.length;s>e&&a&&(i+=r),e<u&&n>s&&(i+=l.slice(Math.max(0,e-s),n-s)),s=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Qt(r,i)),r=[],i=-1);return i>-1&&n.push(new Qt(r,i)),n}}class si extends Ue{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.children[s],l=i+a.length,u=r+a.lines-1;if((n?u:l)>=e)return a.lineInner(e,n,r,i);i=l+1,r=u+1}}decompose(e,n,r,i){for(let s=0,a=0;a<=n&&s<this.children.length;s++){let l=this.children[s],u=a+l.length;if(e<=u&&n>=a){let f=i&((a<=e?1:0)|(u>=n?2:0));a>=e&&u<=n&&!f?r.push(l):l.decompose(e-a,n-a,r,f)}a=u+1}}replace(e,n,r){if([e,n]=bl(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],l=s+a.length;if(e>=s&&n<=l){let u=a.replace(e-s,n-s,r),f=this.lines-a.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let d=this.children.slice();return d[i]=u,new si(d,this.length-(n-e)+r.length)}return super.replace(s,l,u)}s=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=bl(this,e,n);let i="";for(let s=0,a=0;s<this.children.length&&a<=n;s++){let l=this.children[s],u=a+l.length;a>e&&s&&(i+=r),e<u&&n>a&&(i+=l.sliceString(e-a,n-a,r)),a=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof si))return 0;let r=0,[i,s,a,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==a||s==l)return r;let u=this.children[i],f=e.children[s];if(u!=f)return r+u.scanIdentical(f,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let O of e)r+=O.lines;if(r<32){let O=[];for(let x of e)x.flatten(O);return new Qt(O,n)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,l=[],u=0,f=-1,d=[];function m(O){let x;if(O.lines>s&&O instanceof si)for(let S of O.children)m(S);else O.lines>a&&(u>a||!u)?(g(),l.push(O)):O instanceof Qt&&u&&(x=d[d.length-1])instanceof Qt&&O.lines+x.lines<=32?(u+=O.lines,f+=O.length+1,d[d.length-1]=new Qt(x.text.concat(O.text),x.length+1+O.length)):(u+O.lines>i&&g(),u+=O.lines,f+=O.length+1,d.push(O))}function g(){u!=0&&(l.push(d.length==1?d[0]:si.from(d,f)),f=-1,u=d.length=0)}for(let O of e)m(O);return g(),l.length==1?l[0]:new si(l,n)}}Ue.empty=new Qt([""],0);function s6(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Ad(t,e,n=0,r=1e9){for(let i=0,s=0,a=!0;s<t.length&&i<=r;s++){let l=t[s],u=i+l.length;u>=n&&(u>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),a?(e[e.length-1]+=l,a=!1):e.push(l)),i=u+1}return e}function Uk(t,e,n){return Ad(t,[""],e,n)}class du{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Qt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,l=i instanceof Qt?i.text.length:i.children.length;if(a==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Qt){let u=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[a+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof Qt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class oP{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new du(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class aP{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ue.prototype[Symbol.iterator]=function(){return this.iter()},du.prototype[Symbol.iterator]=oP.prototype[Symbol.iterator]=aP.prototype[Symbol.iterator]=function(){return this});class o6{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function bl(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function qt(t,e,n=!0,r=!0){return r6(t,e,n,r)}function a6(t){return t>=56320&&t<57344}function l6(t){return t>=55296&&t<56320}function Rn(t,e){let n=t.charCodeAt(e);if(!l6(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return a6(r)?(n-55296<<10)+(r-56320)+65536:n}function ew(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function oi(t){return t<65536?1:2}const Jy=/\r\n?|\n/;var rn=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(rn||(rn={}));class pi{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,n=!1){e0(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new pi(e)}composeDesc(e){return this.empty?e:e.empty?this:lP(this,e)}mapDesc(e,n=!1){return e.empty?this:t0(this,e,n)}mapPos(e,n=-1,r=rn.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let l=this.sections[a++],u=this.sections[a++],f=i+l;if(u<0){if(f>e)return s+(e-i);s+=l}else{if(r!=rn.Simple&&f>=e&&(r==rn.TrackDel&&i<e&&f>e||r==rn.TrackBefore&&i<e||r==rn.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!l)return e==i||n<0?s:s+u;s+=u}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],a=this.sections[r++],l=i+s;if(a>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new pi(e)}static create(e){return new pi(e)}}class Xt extends pi{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return e0(this,(n,r,i,s,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return t0(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let a=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=a;let u=i>>1;for(;r.length<u;)r.push(Ue.empty);r.push(a?e.slice(s,s+a):Ue.empty)}s+=a}return new Xt(n,r)}compose(e){return this.empty?e:e.empty?this:lP(this,e,!0)}map(e,n=!1){return e.empty?this:t0(this,e,n,!0)}iterChanges(e,n=!1){e0(this,e,n)}get desc(){return pi.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Qu(this);e:for(let a=0,l=0;;){let u=a==e.length?1e9:e[a++];for(;l<u||l==u&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,u-l);cn(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;cn(n,d,m),m>0&&Zs(r,n,s.text),s.forward(d),l+=d}let f=e[a++];for(;l<f;){if(s.done)break e;let d=Math.min(s.len,f-l);cn(n,d,-1),cn(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),l+=d}}return{changes:new Xt(n,r),filtered:pi.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],a=0,l=null;function u(d=!1){if(!d&&!i.length)return;a<n&&cn(i,n-a,-1);let m=new Xt(i,s);l=l?l.compose(m.map(l)):m,i=[],s=[],a=0}function f(d){if(Array.isArray(d))for(let m of d)f(m);else if(d instanceof Xt){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);u(),l=l?l.compose(d.map(l)):d}else{let{from:m,to:g=m,insert:O}=d;if(m>g||m<0||g>n)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${n})`);let x=O?typeof O=="string"?Ue.of(O.split(r||Jy)):O:Ue.empty,S=x.length;if(m==g&&S==0)return;m<a&&u(),m>a&&cn(i,m-a,-1),cn(i,g-m,S),Zs(s,i,x),a=g}}return f(e),u(!l),l}static empty(e){return new Xt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,l)=>l&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Ue.empty);r[i]=Ue.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Xt(n,r)}static createSet(e,n){return new Xt(e,n)}}function cn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Zs(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ue.empty);t.push(n)}}function e0(t,e,n){let r=t.inserted;for(let i=0,s=0,a=0;a<t.sections.length;){let l=t.sections[a++],u=t.sections[a++];if(u<0)i+=l,s+=l;else{let f=i,d=s,m=Ue.empty;for(;f+=l,d+=u,u&&r&&(m=m.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)l=t.sections[a++],u=t.sections[a++];e(i,f,s,d,m),i=f,s=d}}}function t0(t,e,n,r=!1){let i=[],s=r?[]:null,a=new Qu(t),l=new Qu(e);for(let u=-1;;){if(a.done&&l.len||l.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&l.ins==-1){let f=Math.min(a.len,l.len);cn(i,f,-1),a.forward(f),l.forward(f)}else if(l.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(l.len<a.len||l.len==a.len&&!n))){let f=l.len;for(cn(i,l.ins,-1);f;){let d=Math.min(a.len,f);a.ins>=0&&u<a.i&&a.len<=d&&(cn(i,0,a.ins),s&&Zs(s,i,a.text),u=a.i),a.forward(d),f-=d}l.next()}else if(a.ins>=0){let f=0,d=a.len;for(;d;)if(l.ins==-1){let m=Math.min(d,l.len);f+=m,d-=m,l.forward(m)}else if(l.ins==0&&l.len<d)d-=l.len,l.next();else break;cn(i,f,u<a.i?a.ins:0),s&&u<a.i&&Zs(s,i,a.text),u=a.i,a.forward(a.len-d)}else{if(a.done&&l.done)return s?Xt.createSet(i,s):pi.create(i);throw new Error("Mismatched change set lengths")}}}function lP(t,e,n=!1){let r=[],i=n?[]:null,s=new Qu(t),a=new Qu(e);for(let l=!1;;){if(s.done&&a.done)return i?Xt.createSet(r,i):pi.create(r);if(s.ins==0)cn(r,s.len,0,l),s.next();else if(a.len==0&&!a.done)cn(r,0,a.ins,l),i&&Zs(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,a.len),f=r.length;if(s.ins==-1){let d=a.ins==-1?-1:a.off?0:a.ins;cn(r,u,d,l),i&&d&&Zs(i,r,a.text)}else a.ins==-1?(cn(r,s.off?0:s.len,u,l),i&&Zs(i,r,s.textBit(u))):(cn(r,s.off?0:s.len,a.off?0:a.ins,l),i&&!a.off&&Zs(i,r,a.text));l=(s.ins>u||a.ins>=0&&a.len>u)&&(l||r.length>f),s.forward2(u),a.forward(u)}}}}class Qu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ue.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ue.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Lo{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Lo(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ne.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ne.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ne.range(e.anchor,e.head)}static create(e,n,r){return new Lo(e,n,r)}}class ne{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ne.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ne([this.main],0)}addRange(e,n=!0){return ne.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,ne.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ne(e.ranges.map(n=>Lo.fromJSON(n)),e.main)}static single(e,n=e){return new ne([ne.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return ne.normalized(e.slice(),n);r=s.to}return new ne(e,n)}static cursor(e,n=0,r,i){return Lo.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Lo.create(n,e,48|s):Lo.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let l=a.from,u=Math.max(s.to,a.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?ne.range(u,l):ne.range(l,u))}}return new ne(e,n)}}function cP(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let tw=0;class ge{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=tw++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ge(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:nw),!!e.static,e.enables)}of(e){return new $d([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new $d(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new $d(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function nw(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class $d{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=tw++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,l=this.type==2,u=!1,f=!1,d=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?f=!0:(((n=e[m.id])!==null&&n!==void 0?n:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,g){if(u&&g.docChanged||f&&(g.docChanged||g.selection)||n0(m,d)){let O=r(m);if(l?!Yk(O,m.values[a],i):!i(O,m.values[a]))return m.values[a]=O,1}return 0},reconfigure:(m,g)=>{let O,x=g.config.address[s];if(x!=null){let S=np(g,x);if(this.dependencies.every(C=>C instanceof ge?g.facet(C)===m.facet(C):C instanceof on?g.field(C,!1)==m.field(C,!1):!0)||(l?Yk(O=r(m),S,i):i(O=r(m),S)))return m.values[a]=S,0}else O=r(m);return m.values[a]=O,1}}}}function Yk(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function n0(t,e){let n=!1;for(let r of e)pu(t,r)&1&&(n=!0);return n}function c6(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),s=r.filter(u=>!(u&1)),a=t[e.id]>>1;function l(u){let f=[];for(let d=0;d<r.length;d++){let m=np(u,r[d]);if(i[d]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(u){for(let f of r)pu(u,f);return u.values[a]=l(u),1},update(u,f){if(!n0(u,s))return 0;let d=l(u);return e.compare(d,u.values[a])?0:(u.values[a]=d,1)},reconfigure(u,f){let d=n0(u,r),m=f.config.facets[e.id],g=f.facet(e);if(m&&!d&&nw(n,m))return u.values[a]=g,0;let O=l(u);return e.compare(O,g)?(u.values[a]=g,0):(u.values[a]=O,1)}}}const rd=ge.define({static:!0});class on{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new on(tw++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(rd).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let s=r.facet(rd),a=i.facet(rd),l;return(l=s.find(u=>u.field==this))&&l!=a.find(u=>u.field==this)?(r.values[n]=l.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,rd.of({field:this,create:e})]}get extension(){return this}}const Mo={lowest:4,low:3,default:2,high:1,highest:0};function Uc(t){return e=>new uP(e,t)}const oo={highest:Uc(Mo.highest),high:Uc(Mo.high),default:Uc(Mo.default),low:Uc(Mo.low),lowest:Uc(Mo.lowest)};class uP{constructor(e,n){this.inner=e,this.prec=n}}class sm{of(e){return new r0(this,e)}reconfigure(e){return sm.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class r0{constructor(e,n){this.compartment=e,this.inner=n}}class tp{constructor(e,n,r,i,s,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),a=new Map;for(let g of u6(e,n,a))g instanceof on?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let l=Object.create(null),u=[],f=[];for(let g of i)l[g.id]=f.length<<1,f.push(O=>g.slot(O));let d=r?.config.facets;for(let g in s){let O=s[g],x=O[0].facet,S=d&&d[g]||[];if(O.every(C=>C.type==0))if(l[x.id]=u.length<<1|1,nw(S,O))u.push(r.facet(x));else{let C=x.combine(O.map(k=>k.value));u.push(r&&x.compare(C,r.facet(x))?r.facet(x):C)}else{for(let C of O)C.type==0?(l[C.id]=u.length<<1|1,u.push(C.value)):(l[C.id]=f.length<<1,f.push(k=>C.dynamicSlot(k)));l[x.id]=f.length<<1,f.push(C=>c6(C,x,O))}}let m=f.map(g=>g(l));return new tp(e,a,m,l,u,s)}}function u6(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(a,l){let u=i.get(a);if(u!=null){if(u<=l)return;let f=r[u].indexOf(a);f>-1&&r[u].splice(f,1),a instanceof r0&&n.delete(a.compartment)}if(i.set(a,l),Array.isArray(a))for(let f of a)s(f,l);else if(a instanceof r0){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(a.compartment)||a.inner;n.set(a.compartment,f),s(f,l)}else if(a instanceof uP)s(a.inner,a.prec);else if(a instanceof on)r[l].push(a),a.provides&&s(a.provides,l);else if(a instanceof $d)r[l].push(a),a.facet.extensions&&s(a.facet.extensions,Mo.default);else{let f=a.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,l)}}return s(t,Mo.default),r.reduce((a,l)=>a.concat(l))}function pu(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function np(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const hP=ge.define(),i0=ge.define({combine:t=>t.some(e=>e),static:!0}),fP=ge.define({combine:t=>t.length?t[0]:void 0,static:!0}),dP=ge.define(),pP=ge.define(),mP=ge.define(),gP=ge.define({combine:t=>t.length?t[0]:!1});class yi{constructor(e,n){this.type=e,this.value=n}static define(){return new h6}}class h6{of(e){return new yi(this,e)}}class f6{constructor(e){this.map=e}of(e){return new Pe(this,e)}}class Pe{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Pe(this.type,n)}is(e){return this.type==e}static define(e={}){return new f6(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Pe.reconfigure=Pe.define();Pe.appendConfig=Pe.define();class Nt{constructor(e,n,r,i,s,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&cP(r,n.newLength),s.some(l=>l.type==Nt.time)||(this.annotations=s.concat(Nt.time.of(Date.now())))}static create(e,n,r,i,s,a){return new Nt(e,n,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Nt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Nt.time=yi.define();Nt.userEvent=yi.define();Nt.addToHistory=yi.define();Nt.remote=yi.define();function d6(t,e){let n=[];for(let r=0,i=0;;){let s,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],a=t[r++];else if(i<e.length)s=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function OP(t,e,n){var r;let i,s,a;return n?(i=e.changes,s=Xt.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Pe.mapEffects(t.effects,i).concat(Pe.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function s0(t,e,n){let r=e.selection,i=ul(e.annotations);return e.userEvent&&(i=i.concat(Nt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Xt?e.changes:Xt.of(e.changes||[],n,t.facet(fP)),selection:r&&(r instanceof ne?r:ne.single(r.anchor,r.head)),effects:ul(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function vP(t,e,n){let r=s0(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let a=!!e[s].sequential;r=OP(r,s0(t,e[s],a?r.changes.newLength:t.doc.length),a)}let i=Nt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return m6(n?p6(i):i)}function p6(t){let e=t.startState,n=!0;for(let i of e.facet(dP)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:d6(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Xt.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}t=Nt.create(e,i,t.selection&&t.selection.map(s),Pe.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(pP);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Nt?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Nt?t=s[0]:t=vP(e,ul(s),!1)}return t}function m6(t){let e=t.startState,n=e.facet(mP),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=OP(r,s0(e,s,t.changes.newLength),!0))}return r==t?t:Nt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const g6=[];function ul(t){return t==null?g6:Array.isArray(t)?t:[t]}var vt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(vt||(vt={}));const O6=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let o0;try{o0=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function v6(t){if(o0)return o0.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||O6.test(n)))return!0}return!1}function y6(t){return e=>{if(!/\S/.test(e))return vt.Space;if(v6(e))return vt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return vt.Word;return vt.Other}}class qe{constructor(e,n,r,i,s,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)pu(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return pu(this,r),np(this,r)}update(...e){return vP(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let l of e.effects)l.is(sm.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,f)=>i.set(f,u)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(Pe.reconfigure)?(n=null,r=l.value):l.is(Pe.appendConfig)&&(n=null,r=ul(r).concat(l.value));let s;n?s=e.startState.values.slice():(n=tp.resolve(r,i,this),s=new qe(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let a=e.startState.facet(i0)?e.newSelection:e.newSelection.asSingle();new qe(n,e.newDoc,a,s,(l,u)=>u.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ne.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],a=ul(r.effects);for(let l=1;l<n.ranges.length;l++){let u=e(n.ranges[l]),f=this.changes(u.changes),d=f.map(i);for(let g=0;g<l;g++)s[g]=s[g].map(d);let m=i.mapDesc(f,!0);s.push(u.range.map(m)),i=i.compose(d),a=Pe.mapEffects(a,d).concat(Pe.mapEffects(ul(u.effects),m))}return{changes:i,selection:ne.create(s,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Xt?e:Xt.of(e,this.doc.length,this.facet(qe.lineSeparator))}toText(e){return Ue.of(e.split(this.facet(qe.lineSeparator)||Jy))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(pu(this,n),np(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof on&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let a=r[s],l=e[s];i.push(a.init(u=>a.spec.fromJSON(l,u)))}}return qe.create({doc:e.doc,selection:ne.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=tp.resolve(e.extensions||[],new Map),r=e.doc instanceof Ue?e.doc:Ue.of((e.doc||"").split(n.staticFacet(qe.lineSeparator)||Jy)),i=e.selection?e.selection instanceof ne?e.selection:ne.single(e.selection.anchor,e.selection.head):ne.single(0);return cP(i,r.length),n.staticFacet(i0)||(i=i.asSingle()),new qe(n,r,i,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(qe.tabSize)}get lineBreak(){return this.facet(qe.lineSeparator)||`
`}get readOnly(){return this.facet(gP)}phrase(e,...n){for(let r of this.facet(qe.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(hP))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return y6(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-r,l=e-r;for(;a>0;){let u=qt(n,a,!1);if(s(n.slice(u,a))!=vt.Word)break;a=u}for(;l<i;){let u=qt(n,l);if(s(n.slice(l,u))!=vt.Word)break;l=u}return a==l?null:ne.range(a+r,l+r)}}qe.allowMultipleSelections=i0;qe.tabSize=ge.define({combine:t=>t.length?t[0]:4});qe.lineSeparator=fP;qe.readOnly=gP;qe.phrases=ge.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});qe.languageData=hP;qe.changeFilter=dP;qe.transactionFilter=pP;qe.transactionExtender=mP;sm.reconfigure=Pe.define();function bi(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let a=i[s],l=r[s];if(l===void 0)r[s]=a;else if(!(l===a||a===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](l,a);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Ws{eq(e){return this==e}range(e,n=e){return a0.create(e,n,this)}}Ws.prototype.startSide=Ws.prototype.endSide=0;Ws.prototype.point=!1;Ws.prototype.mapMode=rn.TrackDel;function rw(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let a0=class yP{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new yP(e,n,r)}};function l0(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class iw{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let a=i,l=s.length;;){if(a==l)return a;let u=a+l>>1,f=s[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==a)return f>=0?a:l;f>=0?l=u:a=u+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],a=-1,l=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],d=this.from[u]+e,m=this.to[u]+e,g,O;if(d==m){let x=n.mapPos(d,f.startSide,f.mapMode);if(x==null||(g=O=x,f.startSide!=f.endSide&&(O=n.mapPos(d,f.endSide),O<g)))continue}else if(g=n.mapPos(d,f.startSide),O=n.mapPos(m,f.endSide),g>O||g==O&&f.startSide>0&&f.endSide<=0)continue;(O-g||f.endSide-f.startSide)<0||(a<0&&(a=g),f.point&&(l=Math.max(l,O-g)),r.push(f),i.push(g-a),s.push(O-a))}return{mapped:r.length?new iw(i,s,r,l):null,pos:a}}}class Xe{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Xe(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(l0)),this.isEmpty)return n.length?Xe.of(n):this;let l=new bP(this,null,-1).goto(0),u=0,f=[],d=new ns;for(;l.value||u<n.length;)if(u<n.length&&(l.from-n[u].from||l.startSide-n[u].value.startSide)>=0){let m=n[u++];d.addInner(m.from,m.to,m.value)||f.push(m)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(l.chunkIndex)<n[u].from)&&(!a||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&d.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||i>l.to||s<l.from||a(l.from,l.to,l.value))&&(d.addInner(l.from,l.to,l.value)||f.push(a0.create(l.from,l.to,l.value))),l.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?Xe.empty:this.nextLayer.update({add:f,filter:a,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],u=this.chunk[a],f=e.touchesRange(l,l+u.length);if(f===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(l));else if(f===!0){let{mapped:d,pos:m}=u.map(l,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(m))}}let s=this.nextLayer.map(e);return n.length==0?s:new Xe(r,n,s||Xe.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(n>=s&&e<=s+a.length&&a.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Pu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Pu.from(e).goto(n)}static compare(e,n,r,i,s=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),l=n.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),u=Gk(a,l,r),f=new Yc(a,u,s),d=new Yc(l,u,s);r.iterGaps((m,g,O)=>Fk(f,m,d,g,O,i)),r.empty&&r.length==0&&Fk(f,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),a=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let l=Gk(s,a),u=new Yc(s,l,0).goto(r),f=new Yc(a,l,0).goto(r);for(;;){if(u.to!=f.to||!c0(u.active,f.active)||u.point&&(!f.point||!rw(u.point,f.point)))return!1;if(u.to>i)return!0;u.next(),f.next()}}static spans(e,n,r,i,s=-1){let a=new Yc(e,null,s).goto(n),l=n,u=a.openStart;for(;;){let f=Math.min(a.to,r);if(a.point){let d=a.activeForPoint(a.to),m=a.pointFrom<n?d.length+1:a.point.startSide<0?d.length:Math.min(d.length,u);i.point(l,f,a.point,d,m,a.pointRank),u=Math.min(a.openEnd(f),d.length)}else f>l&&(i.span(l,f,a.active,u),u=a.openEnd(f));if(a.to>r)return u+(a.point&&a.to>r?1:0);l=a.to,a.next()}}static of(e,n=!1){let r=new ns;for(let i of e instanceof a0?[e]:n?b6(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Xe.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Xe.empty;i=i.nextLayer)n=new Xe(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Xe.empty=new Xe([],[],null,-1);function b6(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(l0(e,r)>0)return t.slice().sort(l0);e=r}return t}Xe.empty.nextLayer=Xe.empty;class ns{finishChunk(e){this.chunks.push(new iw(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ns)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Xe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Xe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Gk(t,e,n){let r=new Map;for(let s of t)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let l=r.get(s.chunk[a]);l!=null&&(n?n.mapPos(l):l)==s.chunkPos[a]&&!n?.touchesRange(l,l+s.chunk[a].length)&&i.add(s.chunk[a])}return i}class bP{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Pu{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new bP(a,n,r,s));return i.length==1?i[0]:new Pu(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)$v(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)$v(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),$v(this.heap,0)}}}function $v(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Yc{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Pu.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){id(this.active,e),id(this.activeTo,e),id(this.activeRank,e),this.minActive=Wk(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;sd(this.active,n,r),sd(this.activeTo,n,i),sd(this.activeRank,n,s),e&&sd(e,n,this.cursor.from),this.minActive=Wk(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&id(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Fk(t,e,n,r,i,s){t.goto(e),n.goto(r);let a=r+i,l=r,u=r-e,f=!!s.boundChange;for(let d=!1;;){let m=t.to+u-n.to,g=m||t.endSide-n.endSide,O=g<0?t.to+u:n.to,x=Math.min(O,a);if(t.point||n.point?(t.point&&n.point&&rw(t.point,n.point)&&c0(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(l,x,t.point,n.point),d=!1):(d&&s.boundChange(l),x>l&&!c0(t.active,n.active)&&s.compareRange(l,x,t.active,n.active),f&&x<a&&(m||t.openEnd(O)!=n.openEnd(O))&&(d=!0)),O>a)break;l=O,g<=0&&t.next(),g>=0&&n.next()}}function c0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!rw(t[n],e[n]))return!1;return!0}function id(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function sd(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function Wk(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Zl(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=qt(t,i));return r}function u0(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=qt(t,i)}return r===!0?-1:t.length}const h0="",Hk=typeof Symbol>"u"?"__"+h0:Symbol.for(h0),f0=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Hs{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,l,u,f){let d=[],m=/^@(\w+)\b/.exec(a[0]),g=m&&m[1]=="keyframes";if(m&&l==null)return u.push(a[0]+";");for(let O in l){let x=l[O];if(/&/.test(O))s(O.split(/,\s*/).map(S=>a.map(C=>S.replace(/&/,C))).reduce((S,C)=>S.concat(C)),x,u);else if(x&&typeof x=="object"){if(!m)throw new RangeError("The value of a property ("+O+") should be a primitive value.");s(i(O),x,d,g)}else x!=null&&d.push(O.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+x+";")}(d.length||g)&&u.push((r&&!m&&!f?a.map(r):a).join(", ")+" {"+d.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Kk[Hk]||1;return Kk[Hk]=e+1,h0+e.toString(36)}static mount(e,n,r){let i=e[f0],s=r&&r.nonce;i?s&&i.setNonce(s):i=new w6(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let Jk=new Map;class w6{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Jk.get(r);if(s)return e[f0]=s;this.sheet=new i.CSSStyleSheet,Jk.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[f0]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let a=0;a<e.length;a++){let l=e[a],u=this.modules.indexOf(l);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,l),r)for(let f=0;f<l.rules.length;f++)r.insertRule(l.rules[f],i++)}else{for(;s<u;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let l=n.head||n;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ks={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Au={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},x6=typeof navigator<"u"&&/Mac/.test(navigator.platform),S6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var nn=0;nn<10;nn++)Ks[48+nn]=Ks[96+nn]=String(nn);for(var nn=1;nn<=24;nn++)Ks[nn+111]="F"+nn;for(var nn=65;nn<=90;nn++)Ks[nn]=String.fromCharCode(nn+32),Au[nn]=String.fromCharCode(nn);for(var Mv in Ks)Au.hasOwnProperty(Mv)||(Au[Mv]=Ks[Mv]);function C6(t){var e=x6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||S6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Au:Ks)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function ot(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)wP(t,arguments[e]);return t}function wP(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)wP(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let pn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},d0=typeof document<"u"?document:{documentElement:{style:{}}};const p0=/Edge\/(\d+)/.exec(pn.userAgent),xP=/MSIE \d/.test(pn.userAgent),m0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn.userAgent),om=!!(xP||m0||p0),eT=!om&&/gecko\/(\d+)/i.test(pn.userAgent),jv=!om&&/Chrome\/(\d+)/.exec(pn.userAgent),_6="webkitFontSmoothing"in d0.documentElement.style,g0=!om&&/Apple Computer/.test(pn.vendor),tT=g0&&(/Mobile\/\w+/.test(pn.userAgent)||pn.maxTouchPoints>2);var Oe={mac:tT||/Mac/.test(pn.platform),windows:/Win/.test(pn.platform),linux:/Linux|X11/.test(pn.platform),ie:om,ie_version:xP?d0.documentMode||6:m0?+m0[1]:p0?+p0[1]:0,gecko:eT,gecko_version:eT?+(/Firefox\/(\d+)/.exec(pn.userAgent)||[0,0])[1]:0,chrome:!!jv,chrome_version:jv?+jv[1]:0,ios:tT,android:/Android\b/.test(pn.userAgent),webkit_version:_6?+(/\bAppleWebKit\/(\d+)/.exec(pn.userAgent)||[0,0])[1]:0,safari:g0,safari_version:g0?+(/\bVersion\/(\d+(\.\d+)?)/.exec(pn.userAgent)||[0,0])[1]:0,tabSize:d0.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function sw(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const rp=Object.create(null);function ow(t,e,n){if(t==e)return!0;t||(t=rp),e||(e=rp);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function k6(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function nT(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function T6(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Ur{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var sn=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(sn||(sn={}));class xe extends Ws{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ch(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Yo(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=SP(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new Yo(e,r,i,n,e.widget||null,!0)}static line(e){return new uh(e)}static set(e,n=!1){return Xe.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}xe.none=Xe.empty;class ch extends xe{constructor(e){let{start:n,end:r}=SP(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?sw(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||rp}eq(e){return this==e||e instanceof ch&&this.tagName==e.tagName&&ow(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}ch.prototype.point=!1;class uh extends xe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof uh&&this.spec.class==e.spec.class&&ow(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}uh.prototype.mapMode=rn.TrackBefore;uh.prototype.point=!0;class Yo extends xe{constructor(e,n,r,i,s,a){super(n,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?rn.TrackBefore:rn.TrackAfter:rn.TrackDel}get type(){return this.startSide!=this.endSide?sn.WidgetRange:this.startSide<=0?sn.WidgetBefore:sn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Yo&&R6(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Yo.prototype.point=!0;function SP(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function R6(t,e){return t==e||!!(t&&e&&t.compare(e))}function hl(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class $u extends Ws{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof $u&&this.tagName==e.tagName&&ow(this.attributes,e.attributes)}static create(e){return new $u(e.tagName,e.attributes||rp)}static set(e,n=!1){return Xe.of(e,n)}}$u.prototype.startSide=$u.prototype.endSide=-1;function Mu(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function O0(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function mu(t,e){if(!e.anchorNode)return!1;try{return O0(t,e.anchorNode)}catch{return!1}}function gu(t){return t.nodeType==3?Nu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Ou(t,e,n,r){return n?rT(t,e,n,r,-1)||rT(t,e,n,r,1):!1}function Js(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function ip(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function rT(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:rs(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=Js(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?rs(t):0}else return!1}}function rs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ju(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function E6(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function CP(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Q6(t,e,n,r,i,s,a,l){let u=t.ownerDocument,f=u.defaultView||window;for(let d=t,m=!1;d&&!m;)if(d.nodeType==1){let g,O=d==u.body,x=1,S=1;if(O)g=E6(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let T=d.getBoundingClientRect();({scaleX:x,scaleY:S}=CP(d,T)),g={left:T.left,right:T.left+d.clientWidth*x,top:T.top,bottom:T.top+d.clientHeight*S}}let C=0,k=0;if(i=="nearest")e.top<g.top?(k=e.top-(g.top+a),n>0&&e.bottom>g.bottom+k&&(k=e.bottom-g.bottom+a)):e.bottom>g.bottom&&(k=e.bottom-g.bottom+a,n<0&&e.top-k<g.top&&(k=e.top-(g.top+a)));else{let T=e.bottom-e.top,R=g.bottom-g.top;k=(i=="center"&&T<=R?e.top+T/2-R/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-R+a)-g.top}if(r=="nearest"?e.left<g.left?(C=e.left-(g.left+s),n>0&&e.right>g.right+C&&(C=e.right-g.right+s)):e.right>g.right&&(C=e.right-g.right+s,n<0&&e.left<g.left+C&&(C=e.left-(g.left+s))):C=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==l?e.left-s:e.right-(g.right-g.left)+s)-g.left,C||k)if(O)f.scrollBy(C,k);else{let T=0,R=0;if(k){let Q=d.scrollTop;d.scrollTop+=k/S,R=(d.scrollTop-Q)*S}if(C){let Q=d.scrollLeft;d.scrollLeft+=C/x,T=(d.scrollLeft-Q)*x}e={left:e.left-T,top:e.top-R,right:e.right-T,bottom:e.bottom-R},T&&Math.abs(T-C)<1&&(r="nearest"),R&&Math.abs(R-k)<1&&(i="nearest")}if(O)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function P6(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class A6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?rs(n):0),r,Math.min(e.focusOffset,r?rs(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Po=null;Oe.safari&&Oe.safari_version>=26&&(Po=!1);function _P(t){if(t.setActive)return t.setActive();if(Po)return t.focus(Po);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Po==null?{get preventScroll(){return Po={preventScroll:!0},!0}}:void 0),!Po){Po=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let iT;function Nu(t,e,n=e){let r=iT||(iT=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function fl(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,t.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function $6(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function M6(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,rs(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=rs(n))}else{if(n==t)return!0;r=Js(n),n=n.parentNode}}function kP(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function TP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=rs(n)}else if(n.parentNode&&!ip(n))r=Js(n),n=n.parentNode;else return null}}function RP(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!ip(n))r=Js(n)+1,n=n.parentNode;else return null}}class zr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new zr(e.parentNode,Js(e),n)}static after(e,n){return new zr(e.parentNode,Js(e)+1,n)}}var ct=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(ct||(ct={}));const Go=ct.LTR,aw=ct.RTL;function EP(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const j6=EP("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),N6=EP("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),v0=Object.create(null),Jr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);v0[e]=n,v0[n]=-e}function QP(t){return t<=247?j6[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?N6[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const D6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ci{get dir(){return this.level%2?aw:Go}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let a=0;a<e.length;a++){let l=e[a];if(l.from<=n&&l.to>=n){if(l.level==r)return a;(s<0||(i!=0?i<0?l.from<n:l.to>n:e[s].level>l.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function PP(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!PP(r.inner,i.inner))return!1}return!0}const lt=[];function z6(t,e,n,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:e,l=s<r.length?r[s].from:n,u=s?256:i;for(let f=a,d=u,m=u;f<l;f++){let g=QP(t.charCodeAt(f));g==512?g=d:g==8&&m==4&&(g=16),lt[f]=g==4?2:g,g&7&&(m=g),d=g}for(let f=a,d=u,m=u;f<l;f++){let g=lt[f];if(g==128)f<l-1&&d==lt[f+1]&&d&24?g=lt[f]=d:lt[f]=256;else if(g==64){let O=f+1;for(;O<l&&lt[O]==64;)O++;let x=f&&d==8||O<n&&lt[O]==8?m==1?1:8:256;for(let S=f;S<O;S++)lt[S]=x;f=O-1}else g==8&&m==1&&(lt[f]=1);d=g,g&7&&(m=g)}}}function L6(t,e,n,r,i){let s=i==1?2:1;for(let a=0,l=0,u=0;a<=r.length;a++){let f=a?r[a-1].to:e,d=a<r.length?r[a].from:n;for(let m=f,g,O,x;m<d;m++)if(O=v0[g=t.charCodeAt(m)])if(O<0){for(let S=l-3;S>=0;S-=3)if(Jr[S+1]==-O){let C=Jr[S+2],k=C&2?i:C&4?C&1?s:i:0;k&&(lt[m]=lt[Jr[S]]=k),l=S;break}}else{if(Jr.length==189)break;Jr[l++]=m,Jr[l++]=g,Jr[l++]=u}else if((x=lt[m])==2||x==1){let S=x==i;u=S?0:1;for(let C=l-3;C>=0;C-=3){let k=Jr[C+2];if(k&2)break;if(S)Jr[C+2]|=2;else{if(k&4)break;Jr[C+2]|=4}}}}}function I6(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let a=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let u=a;u<l;){let f=lt[u];if(f==256){let d=u+1;for(;;)if(d==l){if(i==n.length)break;d=n[i++].to,l=i<n.length?n[i].from:e}else if(lt[d]==256)d++;else break;let m=s==1,g=(d<e?lt[d]:r)==1,O=m==g?m?1:2:r;for(let x=d,S=i,C=S?n[S-1].to:t;x>u;)x==C&&(x=n[--S].from,C=S?n[S-1].to:t),lt[--x]=O;u=d}else s=f,u++}}}function y0(t,e,n,r,i,s,a){let l=r%2?2:1;if(r%2==i%2)for(let u=e,f=0;u<n;){let d=!0,m=!1;if(f==s.length||u<s[f].from){let S=lt[u];S!=l&&(d=!1,m=S==16)}let g=!d&&l==1?[]:null,O=d?r:r+1,x=u;e:for(;;)if(f<s.length&&x==s[f].from){if(m)break e;let S=s[f];if(!d)for(let C=S.to,k=f+1;;){if(C==n)break e;if(k<s.length&&s[k].from==C)C=s[k++].to;else{if(lt[C]==l)break e;break}}if(f++,g)g.push(S);else{S.from>u&&a.push(new ci(u,S.from,O));let C=S.direction==Go!=!(O%2);b0(t,C?r+1:r,i,S.inner,S.from,S.to,a),u=S.to}x=S.to}else{if(x==n||(d?lt[x]!=l:lt[x]==l))break;x++}g?y0(t,u,x,r+1,i,g,a):u<x&&a.push(new ci(u,x,O)),u=x}else for(let u=n,f=s.length;u>e;){let d=!0,m=!1;if(!f||u>s[f-1].to){let S=lt[u-1];S!=l&&(d=!1,m=S==16)}let g=!d&&l==1?[]:null,O=d?r:r+1,x=u;e:for(;;)if(f&&x==s[f-1].to){if(m)break e;let S=s[--f];if(!d)for(let C=S.from,k=f;;){if(C==e)break e;if(k&&s[k-1].to==C)C=s[--k].from;else{if(lt[C-1]==l)break e;break}}if(g)g.push(S);else{S.to<u&&a.push(new ci(S.to,u,O));let C=S.direction==Go!=!(O%2);b0(t,C?r+1:r,i,S.inner,S.from,S.to,a),u=S.from}x=S.from}else{if(x==e||(d?lt[x-1]!=l:lt[x-1]==l))break;x--}g?y0(t,x,u,r+1,i,g,a):x<u&&a.push(new ci(x,u,O)),u=x}}function b0(t,e,n,r,i,s,a){let l=e%2?2:1;z6(t,i,s,r,l),L6(t,i,s,r,l),I6(i,s,r,l),y0(t,i,s,e,n,r,a)}function X6(t,e,n){if(!t)return[new ci(0,0,e==aw?1:0)];if(e==Go&&!n.length&&!D6.test(t))return AP(t.length);if(n.length)for(;t.length>lt.length;)lt[lt.length]=256;let r=[],i=e==Go?0:1;return b0(t,i,i,n,0,t.length,r),r}function AP(t){return[new ci(0,t,0)]}let $P="";function Z6(t,e,n,r,i){var s;let a=r.head-t.from,l=ci.find(e,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),u=e[l],f=u.side(i,n);if(a==f){let g=l+=i?1:-1;if(g<0||g>=e.length)return null;u=e[l=g],a=u.side(!i,n),f=u.side(i,n)}let d=qt(t.text,a,u.forward(i,n));(d<u.from||d>u.to)&&(d=f),$P=t.text.slice(Math.min(a,d),Math.max(a,d));let m=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return m&&d==f&&m.level+(i?0:1)<u.level?ne.cursor(m.side(!i,n)+t.from,m.forward(i,n)?1:-1,m.level):ne.cursor(d+t.from,u.forward(i,n)?-1:1,u.level)}function V6(t,e,n){for(let r=e;r<n;r++){let i=QP(t.charCodeAt(r));if(i==1)return Go;if(i==2||i==4)return aw}return Go}const MP=ge.define(),jP=ge.define(),NP=ge.define(),DP=ge.define(),w0=ge.define(),zP=ge.define(),LP=ge.define(),lw=ge.define(),cw=ge.define(),IP=ge.define({combine:t=>t.some(e=>e)}),XP=ge.define({combine:t=>t.some(e=>e)}),ZP=ge.define();class dl{constructor(e,n="nearest",r="nearest",i=5,s=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=a}map(e){return e.empty?this:new dl(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new dl(ne.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const od=Pe.define({map:(t,e)=>t.map(e)}),VP=Pe.define();function Pn(t,e,n){let r=t.facet(DP);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Yi=ge.define({combine:t=>t.length?t[0]:!0});let B6=0;const tl=ge.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class _t{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(tl.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(tl.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:a}=n||{};return new _t(B6++,e,r,i,l=>{let u=[];return a&&u.push(am.of(f=>{let d=f.plugin(l);return d?a(d):xe.none})),s&&u.push(s(l)),u})}static fromClass(e,n){return _t.define((r,i)=>new e(r,i),n)}}class Nv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Pn(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Pn(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Pn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const BP=ge.define(),uw=ge.define(),am=ge.define(),qP=ge.define(),hw=ge.define(),hh=ge.define(),UP=ge.define();function sT(t,e){let n=t.state.facet(UP);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Xe.spans(r,e.from,e.to,{point(){},span(s,a,l,u){let f=s-e.from,d=a-e.from,m=i;for(let g=l.length-1;g>=0;g--,u--){let O=l[g].spec.bidiIsolate,x;if(O==null&&(O=V6(e.text,f,d)),u>0&&m.length&&(x=m[m.length-1]).to==f&&x.direction==O)x.to=d,m=x.inner;else{let S={from:f,to:d,direction:O,inner:[]};m.push(S),m=S.inner}}}}),i}const YP=ge.define();function fw(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(YP)){let a=s(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const eu=ge.define();class wr{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new wr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,a=0;;){let l=i<e.length?e[i].fromB:1e9,u=s<n.length?n[s]:1e9,f=Math.min(l,u);if(f==1e9)break;let d=f+a,m=f,g=d;for(;;)if(s<n.length&&n[s]<=m){let O=n[s+1];s+=2,m=Math.max(m,O);for(let x=i;x<e.length&&e[x].fromB<=m;x++)a=e[x].toA-e[x].toB;g=Math.max(g,O+a)}else if(i<e.length&&e[i].fromB<=m){let O=e[i++];m=Math.max(m,O.toB),g=Math.max(g,O.toA),a=O.toA-O.toB}else break;r.push(new wr(d,g,f,m))}return r}}class sp{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Xt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,l,u)=>i.push(new wr(s,a,l,u))),this.changedRanges=i}static create(e,n,r){return new sp(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const q6=[];class Dt{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return q6}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&k6(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Js(this.dom),i=this.length?e>0:n>0;return new zr(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof cm)return e;return null}static get(e){return e.cmTile}}class lm extends Dt{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,s=e?.node==n?e:null,a=0;for(let l of this.children){if(l.sync(e),a+=l.length+l.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=l.dom&&(s.written=!0),l.dom.parentNode==n)for(;i&&i!=l.dom;)i=oT(i);else n.insertBefore(l.dom,i);r=l.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=oT(i);this.length=a}}function oT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class cm extends lm{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Dt.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let a=r.children[i++];if(a instanceof Wi)n.push(i),r=a,i=0;else{let l=s+a.length,u=e(a,s);if(u!==void 0)return u;s=l+a.breakAfter}}}resolveBlock(e,n){let r,i=-1,s,a=-1;if(this.blockTiles((l,u)=>{let f=u+l.length;if(e>=u&&e<=f){if(l.isWidget()&&n>=-1&&n<=1){if(l.flags&32)return!0;l.flags&16&&(r=void 0)}(u<e||e==f&&(n<-1?l.length:l.covers(1)))&&(!r||!l.isWidget()&&r.isWidget())&&(r=l,i=e-u),(f>e||e==u&&(n>1?l.length:l.covers(-1)))&&(!s||!l.isWidget()&&s.isWidget())&&(s=l,a=e-u)}}),!r&&!s)throw new Error("No tile at position "+e);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:a}}}class Wi extends lm{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new Wi(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class wl extends lm{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new wl(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,s=-1,a=null,l=-1;function u(d,m){for(let g=0,O=0;g<d.children.length&&O<=m;g++){let x=d.children[g],S=O+x.length;S>=m&&(x.isComposite()?u(x,m-O):(!a||a.isHidden&&(n>0||r&&Y6(a,x)))&&(S>m||x.flags&32)?(a=x,l=m-O):(O<m||x.flags&16&&!x.isHidden)&&(i=x,s=m-O)),O=S}}u(this,e);let f=(n<0?i:a)||i||a;return f?{tile:f,offset:f==i?s:l}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):U6(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new zr(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let a=r.tile.parent,l=!1;for(let u of a.children){if(l)return new zr(u.dom,0);u==r.tile&&(l=!0)}}return new zr(this.dom,0)}}function U6(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=gu(e);return n[n.length-1]||null}function Y6(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Qn extends lm{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new Qn(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Io extends Dt{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;e==0&&n<0||e==r&&n>=0?Oe.chrome||Oe.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):n<0?i--:s<r&&s++;let l=Nu(this.dom,i,s).getClientRects();if(!l.length)return null;let u=l[(a?a<0:n>=0)?0:l.length-1];return Oe.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(l,f=>f.width)||u),a?ju(u,a<0):u||null}static of(e,n){let r=new Io(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Fo extends Dt{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return ju(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=l?s.length-1:0;a=s[u],!(e>0?u==0:u==s.length-1||a.top<a.bottom);u+=l?-1:1);return ju(a,!l)}}get overrideDOMText(){if(!this.length)return Ue.empty;let{root:e}=this;if(!e)return Ue.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,s){return s||(s=e.toDOM(n),e.editable||(s.contentEditable="false")),new Fo(s,r,e,i)}}class op extends Dt{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Ue.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class G6{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:s,beforeBreak:a,parents:l}=this;for(;e||n>0;)if(i.isComposite())if(a){if(!e)break;r&&r.break(),e--,a=!1}else if(s==i.children.length){if(!e&&!l.length)break;r&&r.leave(i),a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++}else{let u=i.children[s],f=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(a=!!f,s++,e-=u.length):(l.push({tile:i,index:s}),i=u,s=0,r&&u.isComposite()&&r.enter(u))}else if(s==i.length)a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++;else if(e){let u=Math.min(e,i.length-s);r&&r.skip(i,s,s+u),e-=u,s+=u}else break;return this.tile=i,this.index=s,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class F6{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class W6{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var s;this.flushBuffer();let a=this.ensureMarks(n,r),l=a.lastChild;if(l&&l.isText()&&!(l.flags&8)&&l.length+e.length<512){this.cache.reused.set(l,2);let u=a.children[a.children.length-1]=new Io(l.dom,l.text+e);u.parent=a}else a.append(i||Io.of(e,(s=this.cache.find(Io))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?Dv(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let l=n.marks.length-1;l>=0;l--){let u=n.marks[l],f=i.lastChild;if(f instanceof Qn&&f.mark.eq(u.mark))f.dom!=u.dom&&f.setDOM(Dv(u.dom)),i=f;else{if(this.cache.reused.get(u)){let m=Dt.get(u.dom);m&&m.setDOM(Dv(u.dom))}let d=Qn.of(u.mark,u.dom);i.append(d),i=d}this.cache.reused.set(u,2)}let s=Dt.get(e.text);s&&this.cache.reused.set(s,2);let a=new Io(e.text,e.text.nodeValue);a.flags|=8,i.append(a)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=GP);let i=wl.start(e,n||((r=this.cache.find(wl))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let a=e[s],l;if(n>0&&(l=i.lastChild)&&l instanceof Qn&&l.mark.eq(a))i=l,n--;else{let u=Qn.of(a,(r=this.cache.find(Qn,f=>f.mark.eq(a)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!aT(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(Oe.ios&&aT(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(zv,0,32)||new Fo(zv.toDOM(),0,zv,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new F6(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof Wi&&i.wrapper.eq(r.wrapper))n=i;else{let s=Wi.of(r.wrapper,(e=this.cache.find(Wi,a=>a.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(s),n=s}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(op,void 0,1);return r&&(r.flags=n),r||new op(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class H6{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=i;let l=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,l)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const ap=[Fo,wl,Io,Qn,op,Wi,cm];for(let t=0;t<ap.length;t++)ap[t].bucket=t;class K6{constructor(e){this.view=e,this.buckets=ap.map(()=>[]),this.index=ap.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,s=this.buckets[i],a=this.index[i];for(let l=s.length-1;l>=0;l--){let u=(l+a)%s.length,f=s[u];if((!n||n(f))&&!this.reused.has(f))return s.splice(u,1),u<a&&this.index[i]--,this.reused.set(f,r),f}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let s=0,a=0;;s++){if(s==i.length){if(a)return null;a=1,s=0}let l=i[s];if(!this.reused.has(l)&&(a==0?l.widget.compare(e):l.widget.constructor==e.constructor&&e.updateDOM(l.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,l.widget==e&&l.length==n&&(l.flags&497)==r?(this.reused.set(l,1),l):(this.reused.set(l,2),new Fo(l.dom,n,e,l.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class J6{constructor(e,n,r,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new K6(e),this.text=new H6(e.state.doc),this.builder=new W6(this.cache,new cm(e,e.contentDOM),Xe.iter(r)),this.cache.reused.set(n,2),this.old=new G6(n),this.reuseWalker={skip:(a,l,u)=>{if(this.cache.add(a),a.isComposite())return!1},enter:a=>this.cache.add(a),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,a=0;;){let l=a<e.length?e[a++]:null,u=l?l.fromA:this.old.root.length;if(u>i){let f=u-i;this.preserve(f,!a,!l),i=u,s+=f}if(!l)break;n&&l.fromA<=n.range.fromA&&l.toA>=n.range.toA?(this.forward(l.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(s,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,l.toA),this.emit(n.range.toB,l.toB)):(this.forward(l.fromA,l.toA),this.emit(s,l.toB)),s=l.toB,i=l.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=n9(this.old),s=this.openMarks;this.old.advance(e,r?1:-1,{skip:(a,l,u)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(u-l);else{let f=u>0||l<a.length?Fo.of(a.widget,this.view,u-l,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,i,s),s=i.length)}else if(a.isText())this.builder.ensureLine(null),!l&&u==a.length?this.builder.addText(a.text,i,s,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(l,u),i,s)),s=i.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof op)this.cache.add(a);else if(a instanceof Qn)this.builder.ensureLine(null),this.builder.addMark(a,i,s),this.cache.reused.set(a,1),s=i.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof Qn&&i.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?i.length&&(i.length=s=0):a instanceof Qn&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,s=0,a=Xe.spans(this.decorations,e,n,{point:(l,u,f,d,m,g)=>{if(f instanceof Yo){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(l).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)i.continueWidget(u-l);else{let O=f.widget||(f.block?xl.block:xl.inline),x=e9(f),S=this.cache.findWidget(O,u-l,x)||Fo.of(O,this.view,u-l,x);f.block?(f.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(S)):(i.ensureLine(r),i.addInlineWidget(S,d,m))}r=null}else r=t9(r,f);u>l&&this.text.skip(u-l)},span:(l,u,f,d)=>{for(let m=l;m<u;){let g=this.text.next(Math.min(512,u-m));g==null?(i.addLineStartIfNotCovered(r),i.addBreak(),m++):(i.ensureLine(r),i.addText(g,f,m==l?d:f.length),m+=g.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=a>s,this.openMarks=a}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let s=Dt.get(i);if(i==this.view.contentDOM)break;s instanceof Qn?n.push(s):s?.isLine()?r=s:s instanceof Wi||(i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new wl(i,GP):r||n.push(Qn.of(new ch({tagName:i.nodeName.toLowerCase(),attributes:T6(i)}),i)))}return{line:r,marks:n}}}function aT(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function e9(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const GP={class:"cm-line"};function t9(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&sw(n,t),r&&(t.class+=" "+r)),t}function n9(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof Qn&&e.push(r.mark)}return e}function Dv(t){let e=Dt.get(t);return e&&e.setDOM(t.cloneNode()),t}class xl extends Ur{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}xl.inline=new xl("span");xl.block=new xl("div");const zv=new class extends Ur{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class lT{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=xe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new cm(e,e.contentDOM),this.updateInner([new wr(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!h9(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?i9(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;r=new wr(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Oe.ie||Oe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,l=this.blockWrappers;this.updateDeco();let u=a9(a,this.decorations,e.changes);u.length&&(r=wr.extendWithRanges(r,u));let f=c9(l,this.blockWrappers,e.changes);return f.length&&(r=wr.extendWithRanges(r,f)),s&&!r.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let a=this.tile,l=new J6(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=l.run(e,n),x0(a,l.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Oe.chrome||Oe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof Lv&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(VP)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,a=!s&&!(this.view.state.facet(Yi)||r.tabIndex>-1)&&mu(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||a))return;let l=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,d;if(u.empty?d=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),Oe.gecko&&u.empty&&!this.hasComposition&&r9(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=d=new zr(g,0),l=!0}let m=this.view.observer.selectionRange;(l||!m.focusNode||(!Ou(f.node,f.offset,m.anchorNode,m.anchorOffset)||!Ou(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{Oe.android&&Oe.chrome&&r.contains(m.focusNode)&&u9(m.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let g=Mu(this.view.root);if(g)if(u.empty){if(Oe.gecko){let O=s9(f.node,f.offset);if(O&&O!=3){let x=(O==1?TP:RP)(f.node,f.offset);x&&(f=new zr(x.node,x.offset))}}g.collapse(f.node,f.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(d.node,d.offset)}catch{}}else{let O=document.createRange();u.anchor>u.head&&([f,d]=[d,f]),O.setEnd(d.node,d.offset),O.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(O)}a&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new zr(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new zr(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Ou(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Mu(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let l=a.posAtStart;if(n.head==l||n.head==l+a.length)return;let u=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!u||!f||u.bottom>f.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(e==r.dom)s=r.dom.childNodes[n];else{let a=rs(e)==0?0:n==0?-1:1;for(;;){let l=e.parentNode;if(l==r.dom)break;a==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?a=-1:a=1),e=l}a<0?s=e:s=e.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Dt.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let a=0,l=i;;a++){let u=r.children[a];if(u.dom==s)return l;l+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,s=!1,a,l=-1,u=!1;return this.tile.blockTiles((f,d)=>{if(f.isWidget()){if(f.flags&32&&d>=e)return!0;f.flags&16&&(s=!0)}else{let m=d+f.length;if(d<=e&&(r=f,i=e-d,s=m<e),m>=e&&!a&&(a=f,l=e-d,u=d>e),d>e&&a)return!0}}),!r&&!a?this.domAtPos(e,n):(s&&a?r=null:u&&r&&(a=null),r&&n<0||!a?r.domIn(i,n):a.domIn(l,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof Lv?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(s,a){if(s.isComposite())for(let l of s.children){if(l.length>=a){let u=i(l,a);if(u)return u}if(a-=l.length,a<0)break}else if(s.isText()&&a<s.length){let l=qt(s.text,a);if(l==a)return null;let u=Nu(s.dom,a,l).getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(f==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,u=this.view.textDirection==ct.LTR,f=0,d=(m,g,O)=>{for(let x=0;x<m.children.length&&!(g>i);x++){let S=m.children[x],C=g+S.length,k=S.dom.getBoundingClientRect(),{height:T}=k;if(O&&!x&&(f+=k.top-O.top),S instanceof Wi)C>r&&d(S,g,k);else if(g>=r&&(f>0&&n.push(-f),n.push(T+f),f=0,a)){let R=S.dom.lastChild,Q=R?gu(R):[];if(Q.length){let A=Q[Q.length-1],$=u?A.right-k.left:k.right-A.left;$>l&&(l=$,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=C)}}O&&x==m.children.length-1&&(f+=O.bottom-k.bottom),g=C+S.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?ct.RTL:ct.LTR}measureTextSize(){let e=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let l=0,u;for(let f of a.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let d=gu(f.dom);if(d.length!=1)return;l+=d[0].width,u=d[0].height}if(l)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:l/a.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=gu(n.firstChild)[0];r=n.getBoundingClientRect().height,i=a&&a.width?a.width/27:7,s=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],a=s?s.from-1:this.view.state.doc.length;if(a>r){let l=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(xe.replace({widget:new Lv(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return xe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(am).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(hw).map((s,a)=>{let l=typeof s=="function";return l&&(r=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Xe.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(qP).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(ZP))try{if(f(this.view,e.range,e))return!0}catch(d){Pn(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=fw(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:l,offsetHeight:u}=this.view.scrollDOM;if(Q6(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==ct.LTR),window.visualViewport&&window.innerHeight-window.visualViewport.height>1&&(r.top>window.pageYOffset+window.visualViewport.offsetTop+window.visualViewport.height||r.bottom<window.pageYOffset+window.visualViewport.offsetTop)){let f=this.view.docView.lineAt(n.head,1);f&&f.dom.scrollIntoView({block:"nearest"})}}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){x0(this.tile)}}function x0(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)x0(r,e)}}function r9(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function FP(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=TP(n.focusNode,n.focusOffset),i=RP(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let l=Dt.get(i.node);if(!l||l.isText()&&l.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let u=Dt.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let a=e-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function i9(t,e,n){let r=FP(t,n);if(!r)return null;let{node:i,from:s,to:a}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||t.state.doc.sliceString(r.from,r.to)!=l)return null;let u=e.invertedDesc;return{range:new wr(u.mapPos(s),u.mapPos(a),s,a),text:i}}function s9(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let o9=class{constructor(){this.changes=[]}compareRange(e,n){hl(e,n,this.changes)}comparePoint(e,n){hl(e,n,this.changes)}boundChange(e){hl(e,e,this.changes)}};function a9(t,e,n){let r=new o9;return Xe.compare(t,e,n,r),r.changes}class l9{constructor(){this.changes=[]}compareRange(e,n){hl(e,n,this.changes)}comparePoint(){}boundChange(e){hl(e,e,this.changes)}}function c9(t,e,n){let r=new l9;return Xe.compare(t,e,n,r),r.changes}function u9(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function h9(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class Lv extends Ur{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function f9(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return ne.cursor(e);s==0?n=1:s==i.length&&(n=-1);let a=s,l=s;n<0?a=qt(i.text,s,!1):l=qt(i.text,s);let u=r(i.text.slice(a,l));for(;a>0;){let f=qt(i.text,a,!1);if(r(i.text.slice(f,a))!=u)break;a=f}for(;l<i.length;){let f=qt(i.text,l);if(r(i.text.slice(l,f))!=u)break;l=f}return ne.range(a+i.from,l+i.from)}function d9(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-l)*.5)/l);s+=u*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+u0(a,s,t.state.tabSize)}function S0(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==sn.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function p9(t,e,n,r){let i=S0(t,e.head,e.assoc||-1),s=!r||i.type!=sn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let a=t.dom.getBoundingClientRect(),l=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(l==ct.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(u!=null)return ne.cursor(u,n?-1:1)}return ne.cursor(n?i.to:i.from,n?-1:1)}function cT(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let l=e,u=null;;){let f=Z6(i,s,a,l,n),d=$P;if(!f){if(i.number==(n?t.state.doc.lines:1))return l;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(u){if(!u(d))return l}else{if(!r)return f;u=r(d)}l=f}}function m9(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let a=r(s);return i==vt.Space&&(i=a),i==a}}function g9(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return ne.cursor(i,e.assoc);let a=e.goalColumn,l,u=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),d=t.documentTop;if(f)a==null&&(a=f.left-u.left),l=s<0?f.top:f.bottom;else{let x=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-x.from))),l=(s<0?x.top:x.bottom)+d}let m=u.left+a,g=r??t.viewState.heightOracle.textHeight>>1,O=C0(t,{x:m,y:l+g*s},!1,s);return ne.cursor(O.pos,O.assoc,void 0,a)}function vu(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,a,l)=>{if(e>s&&e<a){let u=r||n||(e-s<a-e?-1:1);e=u<0?s:a,r=u}});if(!r)return e}}function WP(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let a=vu(t,i.from,0);a!=i.from&&(s=ne.cursor(a,-1))}else{let a=vu(t,i.from,-1),l=vu(t,i.to,1);(a!=i.from||l!=i.to)&&(s=ne.range(i.from==i.anchor?a:l,i.from==i.head?a:l))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?ne.create(n,e.mainIndex):e}function Iv(t,e,n){let r=vu(t.state.facet(hh).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:ne.cursor(r,r<n.from?1:-1)}class ai{constructor(e,n){this.pos=e,this.assoc=n}}function C0(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),s=i.top+t.viewState.paddingTop,{x:a,y:l}=e,u=l-s,f;for(;;){if(u<0)return new ai(0,1);if(u>t.viewState.docHeight)return new ai(t.state.doc.length,-1);if(f=t.elementAtHeight(u),r==null)break;if(f.type==sn.Text){if(r<0?f.to<t.viewport.from:f.from>t.viewport.to)break;let g=t.docView.coordsAt(r<0?f.from:f.to,r>0?-1:1);if(g&&(r<0?g.top<=u+s:g.bottom>=u+s))break}let m=t.viewState.heightOracle.textHeight/2;u=r>0?f.bottom+m:f.top-m}if(t.viewport.from>=f.to||t.viewport.to<=f.from){if(n)return null;if(f.type==sn.Text){let m=d9(t,i,f,a,l);return new ai(m,m==f.from?1:-1)}}if(f.type!=sn.Text)return u<(f.top+f.bottom)/2?new ai(f.from,1):new ai(f.to,-1);let d=t.docView.lineAt(f.from,2);return(!d||d.length!=f.length)&&(d=t.docView.lineAt(f.from,-2)),new O9(t,a,l,t.textDirectionAt(f.from)).scanTile(d,f.from)}class O9{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[ci.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[ci.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,s=new Set,a=this.bidiIn(e[0],e[i]),l,u,f=-1,d=1e9,m;e:for(;r<i;){let O=i-r,x=r+i>>1;t:if(s.has(x)){let C=r+Math.floor(Math.random()*O);for(let k=0;k<O;k++){if(!s.has(C)){x=C;break t}C++,C==i&&(C=r)}break e}s.add(x);let S=n(x);if(S)for(let C=0;C<S.length;C++){let k=S[C],T=0;if(k.bottom<this.y)(!l||l.bottom<k.bottom)&&(l=k),T=1;else if(k.top>this.y)(!u||u.top>k.top)&&(u=k),T=-1;else{let R=k.left>this.x?this.x-k.left:k.right<this.x?this.x-k.right:0,Q=Math.abs(R);Q<d&&(f=x,d=Q,m=k),R&&(T=R<0==(this.baseDir==ct.LTR)?-1:1)}T==-1&&(!a||this.baseDirAt(e[x],1))?i=x:T==1&&(!a||this.baseDirAt(e[x+1],-1))&&(r=x+1)}}if(!m){let O=l&&(!u||this.y-l.bottom<u.top-this.y)?l:u;return this.y=(O.top+O.bottom)/2,this.scan(e,n)}let g=(a?this.dirAt(e[f],1):this.baseDir)==ct.LTR;return{i:f,after:this.x>(m.left+m.right)/2==g}}scanText(e,n){let r=[];for(let s=0;s<e.length;s=qt(e.text,s))r.push(n+s);r.push(n+e.length);let i=this.scan(r,s=>{let a=r[s]-n,l=r[s+1]-n;return Nu(e.dom,a,l).getClientRects()});return i.after?new ai(r[i.i+1],-1):new ai(r[i.i],1)}scanTile(e,n){if(!e.length)return new ai(n,1);if(e.children.length==1){let l=e.children[0];if(l.isText())return this.scanText(l,n);if(l.isComposite())return this.scanTile(l,n)}let r=[n];for(let l=0,u=n;l<e.children.length;l++)r.push(u+=e.children[l].length);let i=this.scan(r,l=>{let u=e.children[l];return u.flags&48?null:(u.dom.nodeType==1?u.dom:Nu(u.dom,0,u.length)).getClientRects()}),s=e.children[i.i],a=r[i.i];return s.isText()?this.scanText(s,a):s.isComposite()?this.scanTile(s,a):i.after?new ai(r[i.i+1],-1):new ai(a,1)}}const tu="";class v9{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(qe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=tu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=Dt.get(i),l=i.nextSibling;if(l==n){a?.breakAfter&&!l&&r!=this.view.contentDOM&&this.lineBreak();break}let u=Dt.get(l);(a&&u?a.breakAfter:(a?a.breakAfter:ip(i))||ip(l)&&(i.nodeName!="BR"||a?.isWidget())&&this.text.length>s)&&!b9(l,n)&&this.lineBreak(),i=l}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,l;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(l=i.exec(n))&&(s=l.index,a=l[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=s+a}}readNode(e){let n=Dt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(y9(e,r.node,r.offset)?n:0))}}function y9(t,e,n){for(;;){if(!e||n<rs(e))return!1;if(e==t)return!0;n=Js(e)+1,e=e.parentNode}}function b9(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Dt.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class uT{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class w9{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=HP(e.docView.tile,n,r,0))){let l=s||a?[]:S9(e),u=new v9(l,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=C9(l,this.bounds.from)}else{let l=e.observer.selectionRange,u=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!O0(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),f=a&&a.node==l.anchorNode&&a.offset==l.anchorOffset||!O0(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),d=e.viewport;if((Oe.ios||Oe.chrome)&&e.state.selection.main.empty&&u!=f&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(u,f),g=Math.max(u,f),O=d.from-m,x=d.to-g;(O==0||O==1||m==0)&&(x==0||x==-1||g==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ne.range(f,u)):this.newSel=ne.single(f,u)}}}function HP(t,e,n,r){if(t.isComposite()){let i=-1,s=-1,a=-1,l=-1;for(let u=0,f=r,d=r;u<t.children.length;u++){let m=t.children[u],g=f+m.length;if(f<e&&g>n)return HP(m,e,n,f);if(g>=e&&i==-1&&(i=u,s=f),f>n&&m.dom.parentNode==t.dom){a=u,l=d;break}d=g,f=g+m.breakAfter}return{from:s,to:l<0?r+t.length:l,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:a<t.children.length&&a>=0?t.children[a].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function KP(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:l}=e.bounds,u=i.from,f=null;(s===8||Oe.android&&e.text.length<l-a)&&(u=i.to,f="end");let d=JP(t.state.doc.sliceString(a,l,tu),e.text,u-a,f);d&&(Oe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==tu+tu&&d.toB--,n={from:a+d.from,to:a+d.toA,insert:Ue.of(e.text.slice(d.from,d.toB).split(tu))})}else r&&(!t.hasFocus&&t.state.facet(Yi)||lp(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Oe.mac||Oe.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=ne.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ue.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:Oe.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=ne.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ue.of([" "])}),n)return dw(t,n,r,s);if(r&&!lp(r,i)){let a=!1,l="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),l=t.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=WP(t.state.facet(hh).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:l}),!0}else return!1}function dw(t,e,n,r=-1){if(Oe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Oe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&fl(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&fl(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&fl(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,l=()=>a||(a=x9(t,e,n));return t.state.facet(zP).some(u=>u(t,e.from,e.to,s,l))||t.dispatch(l()),!0}function x9(t,e,n){let r,i=t.state,s=i.selection.main,a=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let u=e.from<s.from?-1:1,f=u<0?s.from:s.to,d=vu(i.facet(hh).map(m=>m(t)),f,u);e.from==d&&(a=d)}if(a>-1)r={changes:e,selection:ne.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=s.from<e.from?i.sliceDoc(s.from,e.from):"",f=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=i.changes(e),f=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=t.state.sliceDoc(e.from,e.to),m,g=n&&FP(t,n.main.head);if(g){let x=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-x}}else m=t.state.doc.lineAt(s.head);let O=s.to-e.to;r=i.changeByRange(x=>{if(x.from==s.from&&x.to==s.to)return{changes:u,range:f||x.map(u)};let S=x.to-O,C=S-d.length;if(t.state.sliceDoc(C,S)!=d||S>=m.from&&C<=m.to)return{range:x};let k=i.changes({from:C,to:S,insert:e.insert}),T=x.to-s.to;return{changes:k,range:f?ne.range(Math.max(0,f.anchor+T),Math.max(0,f.head+T)):x.map(k)}})}else r={changes:u,selection:f&&i.selection.replaceRange(f)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function JP(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let a=t.length,l=e.length;for(;a>0&&l>0&&t.charCodeAt(a-1)==e.charCodeAt(l-1);)a--,l--;if(r=="end"){let u=Math.max(0,s-Math.min(a,l));n-=a+u-s}if(a<s&&t.length<e.length){let u=n<=s&&n>=a?s-n:0;s-=u,l=s+(l-a),a=s}else if(l<s){let u=n<=s&&n>=l?s-n:0;s-=u,a=s+(a-l),l=s}return{from:s,toA:a,toB:l}}function S9(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new uT(n,r)),(i!=n||s!=r)&&e.push(new uT(i,s))),e}function C9(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?ne.single(n+e,r+e):null}function lp(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class _9{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Oe.safari&&e.contentDOM.addEventListener("input",()=>null),Oe.gecko&&I9(e.contentDOM.ownerDocument)}handleEvent(e){!$9(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=k9(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let a=!n[s].handlers.length,l=r[s];l&&a!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:a})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&tA.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Oe.android&&Oe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Oe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=eA.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||T9.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,fl(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Oe.safari&&!Oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function hT(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Pn(n.state,i)}}}function k9(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(s)for(let l in s){let u=s[l];u&&n(l).handlers.push(hT(r.value,u))}if(a)for(let l in a){let u=a[l];u&&n(l).observers.push(hT(r.value,u))}}for(let r in Br)n(r).handlers.push(Br[r]);for(let r in Tr)n(r).observers.push(Tr[r]);return e}const eA=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],T9="dthko",tA=[16,17,18,20,91,92,224,225],ad=6;function ld(t){return Math.max(0,t)*.7+8}function R9(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class E9{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=P6(e.contentDOM),this.atoms=e.state.facet(hh).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(qe.allowMultipleSelections)&&Q9(e,n),this.dragging=A9(e,n)&&iA(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&R9(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let u=fw(this.view);e.clientX-u.left<=i+ad?n=-ld(i-e.clientX):e.clientX+u.right>=a-ad&&(n=ld(e.clientX-a)),e.clientY-u.top<=s+ad?r=-ld(s-e.clientY):e.clientY+u.bottom>=l-ad&&(r=ld(e.clientY-l)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=WP(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Q9(t,e){let n=t.state.facet(MP);return n.length?n[0](e):Oe.mac?e.metaKey:e.ctrlKey}function P9(t,e){let n=t.state.facet(jP);return n.length?n[0](e):Oe.mac?!e.altKey:!e.ctrlKey}function A9(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Mu(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function $9(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Dt.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const Br=Object.create(null),Tr=Object.create(null),nA=Oe.ie&&Oe.ie_version<15||Oe.ios&&Oe.webkit_version<604;function M9(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),rA(t,n.value)},50)}function um(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function rA(t,e){e=um(t.state,lw,e);let{state:n}=t,r,i=1,s=n.toText(e),a=s.lines==n.selection.ranges.length;if(_0!=null&&n.selection.ranges.every(u=>u.empty)&&_0==s.toString()){let u=-1;r=n.changeByRange(f=>{let d=n.doc.lineAt(f.from);if(d.from==u)return{range:f};u=d.from;let m=n.toText((a?s.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:m},range:ne.cursor(f.from+m.length)}})}else a?r=n.changeByRange(u=>{let f=s.line(i++);return{changes:{from:u.from,to:u.to,insert:f.text},range:ne.cursor(u.from+f.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Tr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Br.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Tr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Tr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Br.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(NP))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=N9(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new E9(t,e,n,r)),r&&t.observer.ignore(()=>{_P(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function fT(t,e,n,r){if(r==1)return ne.cursor(e,n);if(r==2)return f9(t.state,e,n);{let i=t.docView.lineAt(e,n),s=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<t.state.doc.length&&l==s.to&&l++,ne.range(a,l)}}const j9=Oe.ie&&Oe.ie_version<=11;let dT=null,pT=0,mT=0;function iA(t){if(!j9)return t.detail;let e=dT,n=mT;return dT=t,mT=Date.now(),pT=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(pT+1)%3:1}function N9(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=iA(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,a,l){let u=t.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,d=fT(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!a){let m=fT(t,n.pos,n.assoc,r),g=Math.min(m.from,d.from),O=Math.max(m.to,d.to);d=g<d.from?ne.range(g,O):ne.range(O,g)}return a?i.replaceRange(i.main.extend(d.from,d.to)):l&&r==1&&i.ranges.length>1&&(f=D9(i,u.pos))?f:l?i.addRange(d):ne.create([d])}}}function D9(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return ne.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Br.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,a=s+i.length;(s>=n.to||a<=n.from)&&(n=ne.range(s,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",um(t.state,cw,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Br.dragend=t=>(t.inputState.draggedContent=null,!1);function gT(t,e,n,r){if(n=um(t.state,lw,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,a=r&&s&&P9(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:n},u=t.state.changes(a?[a,l]:l);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Br.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&gT(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[a]=l.result),s()},l.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return gT(t,e,r,!0),!0}return!1};Br.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=nA?null:e.clipboardData;return n?(rA(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(M9(t),!1)};function z9(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function L9(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let a=t.doc.lineAt(s);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:um(t,cw,e.join(t.lineBreak)),ranges:n,linewise:r}}let _0=null;Br.copy=Br.cut=(t,e)=>{if(!mu(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=L9(t.state);if(!n&&!i)return!1;_0=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=nA?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(z9(t,n),!1)};const sA=yi.define();function oA(t,e){let n=[];for(let r of t.facet(LP)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:sA.of(!0)}):null}function aA(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=oA(t.state,e);n?t.dispatch(n):t.update([])}},10)}Tr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),aA(t)};Tr.blur=t=>{t.observer.clearSelectionRange(),aA(t)};Tr.compositionstart=Tr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Tr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Oe.chrome&&Oe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Tr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Br.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(s&&a.length){let l=a[0],u=t.posAtDOM(l.startContainer,l.startOffset),f=t.posAtDOM(l.endContainer,l.endOffset);return dw(t,{from:u,to:f,insert:t.state.toText(s)},null),!0}}let i;if(Oe.chrome&&Oe.android&&(i=eA.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Oe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Oe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Tr.compositionend(t,e),20),!1};const OT=new Set;function I9(t){OT.has(t)||(OT.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const vT=["pre-wrap","normal","pre-line","break-spaces"];let Sl=!1;function yT(){Sl=!1}class X9{constructor(e){this.lineWrapping=e,this.doc=Ue.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return vT.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,a){let l=vT.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=l||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,u){this.heightSamples={};for(let f=0;f<a.length;f++){let d=a[f];d<0?f++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class Z9{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Dr{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?sn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Yo?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Dr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ft=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(ft||(ft={}));const Md=.001;class mn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Md&&(Sl=!0),this.height=e)}replace(e,n,r){return mn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,a=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:u,toA:f,fromB:d,toB:m}=i[l],g=s.lineAt(u,ft.ByPosNoHeight,r.setDoc(n),0,0),O=g.to>=f?g:s.lineAt(f,ft.ByPosNoHeight,r,0,0);for(m+=O.to-f,f=O.to;l>0&&g.from<=i[l-1].toA;)u=i[l-1].fromA,d=i[l-1].fromB,l--,u<g.from&&(g=s.lineAt(u,ft.ByPosNoHeight,r,0,0));d+=g.from-u,u=g.from;let x=pw.build(r.setDoc(a),e,d,m);s=cp(s,s.replace(u,f,x))}return s.updateHeight(r,0)}static empty(){return new Wn(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(s>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(s+=l.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new B9(mn.of(e.slice(0,n)),a,mn.of(e.slice(r)))}}function cp(t,e){return t==e?t:(t.constructor!=e.constructor&&(Sl=!0),e)}mn.prototype.size=1;const V9=xe.replace({});class lA extends mn{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Dr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new Dr(i,0,r,this.spaceAbove,V9):this.mainBlock(r,i)}lineAt(e,n,r,i,s){let a=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(a):a}forEachLine(e,n,r,i,s,a){e<=s+this.length&&n>=s&&a(this.lineAt(0,ft.ByPos,r,i,s))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Wn extends lA{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Dr(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Wn||i instanceof Jt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Jt?i=new Wn(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):mn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Jt extends mn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,a,l=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);a=u/s,this.length>s+1&&(l=(this.height-u)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:l}}blockAt(e,n,r,i){let{firstLine:s,lastLine:a,perLine:l,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(f),m=l+d.length*u,g=Math.max(r,e-m/2);return new Dr(d.from,d.length,g,m,0)}else{let f=Math.max(0,Math.min(a-s,Math.floor((e-r)/l))),{from:d,length:m}=n.doc.line(s+f);return new Dr(d,m,r+l*f,l,0)}}lineAt(e,n,r,i,s){if(n==ft.ByHeight)return this.blockAt(e,r,i,s);if(n==ft.ByPosNoHeight){let{from:O,to:x}=r.doc.lineAt(e);return new Dr(O,x-O,0,0,0)}let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s),f=r.doc.lineAt(e),d=l+f.length*u,m=f.number-a,g=i+l*m+u*(f.from-s-m);return new Dr(f.from,f.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,n,r,i,s,a){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:l,perLine:u,perChar:f}=this.heightMetrics(r,s);for(let d=e,m=i;d<=n;){let g=r.doc.lineAt(d);if(d==e){let x=g.number-l;m+=u*x+f*(e-s-x)}let O=u+f*g.length;a(new Dr(g.from,g.length,m,O,0)),m+=O,d=g.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof Jt?r[r.length-1]=new Jt(s.length+i):r.push(null,new Jt(i-1))}if(e>0){let s=r[0];s instanceof Jt?r[0]=new Jt(e+s.length):r.unshift(new Jt(e-1),null)}return mn.of(r)}decomposeLeft(e,n){n.push(new Jt(e-1),null)}decomposeRight(e,n){n.push(null,new Jt(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],l=Math.max(n,i.from),u=-1;for(i.from>n&&a.push(new Jt(i.from-n-1).updateHeight(e,n));l<=s&&i.more;){let d=e.doc.lineAt(l).length;a.length&&a.push(null);let m=i.heights[i.index++],g=0;m<0&&(g=-m,m=i.heights[i.index++]),u==-1?u=m:Math.abs(m-u)>=Md&&(u=-2);let O=new Wn(d,m,g);O.outdated=!1,a.push(O),l+=d+1}l<=s&&a.push(null,new Jt(s-l).updateHeight(e,l));let f=mn.of(a);return(u<0||Math.abs(f.height-this.height)>=Md||Math.abs(u-this.heightMetrics(e,n).perLine)>=Md)&&(Sl=!0),cp(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class B9 extends mn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let a=i+this.left.height,l=s+this.left.length+this.break,u=n==ft.ByHeight?e<a:e<l,f=u?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,a,l);if(this.break||(u?f.to<l:f.from>l))return f;let d=n==ft.ByPosNoHeight?ft.ByPosNoHeight:ft.ByPos;return u?f.join(this.right.lineAt(l,d,r,a,l)):this.left.lineAt(l,d,r,i,s).join(f)}forEachLine(e,n,r,i,s,a){let l=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,s,a),n>=u&&this.right.forEachLine(e,n,r,l,u,a);else{let f=this.lineAt(u,ft.ByPos,r,i,s);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,s,a),f.to>=e&&f.from<=n&&a(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,l,u,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let l of r)s.push(l);if(e>0&&bT(s,a-1),n<this.length){let l=s.length;this.decomposeRight(n,s),bT(s,l)}return mn.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?mn.of(this.break?[e,null,n]:[e,n]):(this.left=cp(this.left,e),this.right=cp(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:a}=this,l=n+s.length+this.break,u=null;return i&&i.from<=n+s.length&&i.more?u=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=l+a.length&&i.more?u=a=a.updateHeight(e,l,r,i):a.updateHeight(e,l,r),u?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bT(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Jt&&(r=t[e+1])instanceof Jt&&t.splice(e-1,3,new Jt(n.length+1+r.length))}const q9=5;class pw{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Wn?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Wn(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new lA(a,i,r)):(a||s||i>=q9)&&this.addLineDeco(i,s,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Wn(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new Jt(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Wn)return e;let n=new Wn(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Wn)&&!this.isCovered?this.nodes.push(new Wn(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Wn&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new pw(r,e);return Xe.spans(n,r,i,s,0),s.finish(r)}}function U9(t,e,n){let r=new Y9;return Xe.compare(t,e,n,r,0),r.changes}class Y9{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&hl(e,n,this.changes,5)}}function G9(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let d=f,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),a=Math.min(a,g.right),l=Math.max(l,g.top),u=Math.min(f==t.parentNode?i.innerHeight:u,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-n.left,right:Math.max(s,a)-n.left,top:l-(n.top+e),bottom:Math.max(l,u)-(n.top+e)}}function F9(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function W9(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Xv{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return xe.replace({widget:new H9(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class H9 extends Ur{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wT{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=xT,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ct.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(uw).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new X9(n),this.stateDeco=ST(e),this.heightMap=mn.empty().applyChanges(this.stateDeco,Ue.empty,this.heightOracle.setDoc(e.doc),[new wr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new cd(s,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?xT:new mw(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(nu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=ST(this.state);let i=e.changedRanges,s=wr.extendWithRanges(i,U9(r,this.stateDeco,e?e.changes:Xt.empty(this.state.doc.length))),a=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);yT(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||Sl)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(XP)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ct.RTL:ct.LTR;let a=this.heightOracle.mustRefreshForWrapping(s)||this.mustMeasureContent==="refresh",l=n.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let f=0,d=0;if(l.width&&l.height){let{scaleX:Q,scaleY:A}=CP(n,l);(Q>.005&&Math.abs(this.scaleX-Q)>.005||A>.005&&Math.abs(this.scaleY-A)>.005)&&(this.scaleX=Q,this.scaleY=A,f|=16,a=u=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let O=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=O&&(this.scrollAnchorHeight=-1,this.scrollTop=O),this.scrolledToBottom=kP(e.scrollDOM);let x=(this.printing?W9:G9)(n,this.paddingTop),S=x.top-this.pixelViewport.top,C=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(u=!0)),!this.inView&&!this.scrollTarget&&!F9(e.dom))return 0;let T=l.width;if((this.contentDOMWidth!=T||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let Q=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(Q)&&(a=!0),a||i.lineWrapping&&Math.abs(T-this.contentDOMWidth)>i.charWidth){let{lineHeight:A,charWidth:$,textHeight:P}=e.docView.measureTextSize();a=A>0&&i.refresh(s,A,$,P,Math.max(5,T/$),Q),a&&(e.docView.minWidth=0,f|=16)}S>0&&C>0?d=Math.max(S,C):S<0&&C<0&&(d=Math.min(S,C)),yT();for(let A of this.viewports){let $=A.from==this.viewport.from?Q:e.docView.measureVisibleLineHeights(A);this.heightMap=(a?mn.empty().applyChanges(this.stateDeco,Ue.empty,this.heightOracle,[new wr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new Z9(A.from,$))}Sl&&(f|=2)}let R=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return R&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),f|=this.updateForViewport()),(f&2||R)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:l}=this,u=new cd(i.lineAt(a-r*1e3,ft.ByHeight,s,0,0).from,i.lineAt(l+(1-r)*1e3,ft.ByHeight,s,0,0).to);if(n){let{head:f}=n.range;if(f<u.from||f>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(f,ft.ByPos,s,0,0),g;n.y=="center"?g=(m.top+m.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&f<u.from?g=m.top:g=m.bottom-d,u=new cd(i.lineAt(g-1e3/2,ft.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,ft.ByHeight,s,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new cd(this.heightMap.lineAt(r,ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,ft.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:l}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Xv(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=ct.LTR&&!r)return[];let l=[],u=(d,m,g,O)=>{if(m-d<s)return;let x=this.state.selection.main,S=[x.from];x.empty||S.push(x.to);for(let k of S)if(k>d&&k<m){u(d,k-10,g,O),u(k+10,m,g,O);return}let C=J9(e,k=>k.from>=g.from&&k.to<=g.to&&Math.abs(k.from-d)<s&&Math.abs(k.to-m)<s&&!S.some(T=>k.from<T&&k.to>T));if(!C){if(m<g.to&&n&&r&&n.visibleRanges.some(R=>R.from<=m&&R.to>=m)){let R=n.moveToLineBoundary(ne.cursor(m),!1,!0).head;R>d&&(m=R)}let k=this.gapSize(g,d,m,O),T=r||k<2e6?k:2e6;C=new Xv(d,m,k,T)}l.push(C)},f=d=>{if(d.length<a||d.type!=sn.Text)return;let m=K9(d.from,d.to,this.stateDeco);if(m.total<a)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,O,x;if(r){let S=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,k;if(g!=null){let T=hd(m,g),R=((this.visibleBottom-this.visibleTop)/2+S)/d.height;C=T-R,k=T+R}else C=(this.visibleTop-d.top-S)/d.height,k=(this.visibleBottom-d.top+S)/d.height;O=ud(m,C),x=ud(m,k)}else{let S=m.total*this.heightOracle.charWidth,C=i*this.heightOracle.charWidth,k=0;if(S>2e6)for(let $ of e)$.from>=d.from&&$.from<d.to&&$.size!=$.displaySize&&$.from*this.heightOracle.charWidth+k<this.pixelViewport.left&&(k=$.size-$.displaySize);let T=this.pixelViewport.left+k,R=this.pixelViewport.right+k,Q,A;if(g!=null){let $=hd(m,g),P=((R-T)/2+C)/S;Q=$-P,A=$+P}else Q=(T-C)/S,A=(R+C)/S;O=ud(m,Q),x=ud(m,A)}O>d.from&&u(d.from,O,d,m),x<d.to&&u(x,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(f):f(d);return l}gapSize(e,n,r,i){let s=hd(i,r)-hd(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Xv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Xe.spans(n,this.viewport.from,this.viewport.to,{span(s,a){r.push({from:s,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let a=this.visibleRanges[s],l=r[s];(a.from!=l.from||a.to!=l.to)&&(i|=4,e&&e.mapPos(a.from,-1)==l.from&&e.mapPos(a.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||nu(this.heightMap.lineAt(e,ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||nu(this.heightMap.lineAt(this.scaler.fromDOM(e),ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return nu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let cd=class{constructor(e,n){this.from=e,this.to=n}};function K9(t,e,n){let r=[],i=t,s=0;return Xe.spans(n,t,e,{span(){},point(a,l){a>i&&(r.push({from:i,to:a}),s+=a-i),i=l}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function ud({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:a}=e[i],l=a-s;if(r<=l)return s+r;r-=l}}function hd(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function J9(t,e){for(let n of t)if(e(n))return n}const xT={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function ST(t){let e=t.facet(am).filter(r=>typeof r!="function"),n=t.facet(hw).filter(r=>typeof r!="function");return n.length&&e.push(Xe.join(n)),e}class mw{constructor(e,n,r){let i=0,s=0,a=0;this.viewports=r.map(({from:l,to:u})=>{let f=n.lineAt(l,ft.ByPos,e,0,0).top,d=n.lineAt(u,ft.ByPos,e,0,0).bottom;return i+=d-f,{from:l,to:u,top:f,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=a+(l.top-s)*this.scale,a=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof mw?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function nu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Dr(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>nu(i,e)):t._content)}const fd=ge.define({combine:t=>t.join(" ")}),k0=ge.define({combine:t=>t.indexOf(!0)>-1}),T0=Hs.newName(),cA=Hs.newName(),uA=Hs.newName(),hA={"&light":"."+cA,"&dark":"."+uA};function R0(t,e,n){return new Hs(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const eY=R0("."+T0,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},hA),tY={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Zv=Oe.ie&&Oe.ie_version<=11;class nY{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new A6,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Oe.ie&&Oe.ie_version<=11||Oe.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Oe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Oe.chrome&&Oe.chrome_version<126)&&(this.editContext=new iY(e),e.state.facet(Yi)&&(e.contentDOM.editContext=this.editContext.editContext)),Zv&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Yi)?r.root.activeElement!=this.dom:!mu(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Oe.ie&&Oe.ie_version<=11||Oe.android&&Oe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ou(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Mu(e.root);if(!n)return!1;let r=Oe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&rY(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=mu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&M6(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,tY),Zv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Zv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&fl(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&mu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new w9(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=KP(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!lp(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=CT(n,e.previousSibling||e.target.previousSibling,-1),i=CT(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Yi)!=e.state.facet(Yi)&&(e.view.contentDOM.editContext=e.state.facet(Yi)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function CT(t,e,n){for(;e;){let r=Dt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function _T(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor,1);return Ou(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function rY(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return _T(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?_T(t,n):null}class iY{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:a}=i,l=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let f=u-l>r.text.length;l==this.from&&s<this.from?l=s:u==this.to&&s>this.to&&(u=s);let d=JP(e.state.sliceDoc(l,u),r.text,(f?i.from:i.to)-l,f?"end":null);if(!d){let g=ne.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));lp(g,i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+l,to:d.toA+l,insert:Ue.of(r.text.slice(d.from,d.toB).split(`
`))};if((Oe.mac||Oe.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:l,to:u,insert:Ue.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);dw(e,m,ne.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let a=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);a<l;a++){let u=e.coordsForChar(a);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let a=s.underlineStyle,l=s.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(l)){let u=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(u<f){let d=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push(xe.mark({attributes:{style:d}}).range(u,f))}}}e.dispatch({effects:VP.of(xe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Mu(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,a,l,u,f)=>{if(r)return;let d=f.length-(a-s);if(i&&a>=i.to)if(i.from==s&&i.to==a&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=n,a+=n,a<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),f.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class pe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$6(e.parent)||document,this.viewState=new wT(e.state||qe.create(e)),e.scrollTo&&e.scrollTo.is(od)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(tl).map(i=>new Nv(i));for(let i of this.plugins)i.update(this);this.observer=new nY(this),this.inputState=new _9(this),this.inputState.ensureHandlers(this.plugins),this.docView=new lT(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent="refresh",this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Nt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,l=0,u=null;e.some(g=>g.annotation(sA))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=oA(s,a),u||(l=1));let f=this.observer.delayedAndroidKey,d=null;if(f?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(qe.phrases)!=this.state.facet(qe.phrases))return this.setState(s);i=sp.create(this,s,e),i.flags|=l;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:O}=g.state.selection;m=new dl(O.empty?O:ne.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of g.effects)O.is(od)&&(m=O.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=up.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(eu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(fd)!=i.state.facet(fd)&&(this.viewState.mustMeasureContent=!0),(n||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(w0))try{g(i)}catch(O){Pn(this.state,O,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!KP(this,d)&&f.force&&fl(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new wT(e),this.plugins=e.facet(tl).map(r=>new Nv(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new lT(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(tl),r=e.state.facet(tl);if(n!=r){let i=[];for(let s of r){let a=n.indexOf(s);if(a<0)i.push(new Nv(s));else{let l=this.plugins[a];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Pn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(kP(r))s=-1,a=this.viewState.heightMap.height;else{let O=this.viewState.scrollAnchorAt(i);s=O.from,a=O.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(O=>{try{return O.read(this)}catch(x){return Pn(this.state,x),kT}}),m=sp.create(this,this.state,[]),g=!1;m.flags|=u,n?n.flags|=u:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let O=0;O<f.length;O++)if(d[O]!=kT)try{let x=f[O];x.write&&x.write(d[O],this)}catch(x){Pn(this.state,x)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let x=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(x>1||x<-1){i=i+x,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(w0))l(n)}get themeClasses(){return T0+" "+(this.state.facet(k0)?uA:cA)+" "+this.state.facet(fd)}updateAttrs(){let e=TT(this,BP,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Yi)?"true":"false",class:"cm-content",style:`${Oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),TT(this,uw,n);let r=this.observer.ignore(()=>{let i=nT(this.contentDOM,this.contentAttrs,n),s=nT(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(pe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(eu);let e=this.state.facet(pe.cspNonce);Hs.mount(this.root,this.styleModules.concat(eY).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Iv(this,e,cT(this,e,n,r))}moveByGroup(e,n){return Iv(this,e,cT(this,e,n,r=>m9(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return ne.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return p9(this,e,n,r)}moveVertically(e,n,r){return Iv(this,e,g9(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=C0(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),C0(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),a=s[ci.find(s,e-i.from,-1,n)];return ju(r,a.dir==ct.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(IP)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>sY)return AP(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||PP(s.isolates,r=sT(this,e))))return s.order;r||(r=sT(this,e));let i=X6(e.text,n,r);return this.bidiCache.push(new up(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Oe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{_P(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return od.of(new dl(typeof e=="number"?ne.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return od.of(new dl(ne.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return _t.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return _t.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Hs.newName(),i=[fd.of(r),eu.of(R0(`.${r}`,e))];return n&&n.dark&&i.push(k0.of(!0)),i}static baseTheme(e){return oo.lowest(eu.of(R0("."+T0,e,hA)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Dt.get(r)||Dt.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}pe.styleModule=eu;pe.inputHandler=zP;pe.clipboardInputFilter=lw;pe.clipboardOutputFilter=cw;pe.scrollHandler=ZP;pe.focusChangeEffect=LP;pe.perLineTextDirection=IP;pe.exceptionSink=DP;pe.updateListener=w0;pe.editable=Yi;pe.mouseSelectionStyle=NP;pe.dragMovesSelection=jP;pe.clickAddsSelectionRange=MP;pe.decorations=am;pe.blockWrappers=qP;pe.outerDecorations=hw;pe.atomicRanges=hh;pe.bidiIsolatedRanges=UP;pe.scrollMargins=YP;pe.darkTheme=k0;pe.cspNonce=ge.define({combine:t=>t.length?t[0]:""});pe.contentAttributes=uw;pe.editorAttributes=BP;pe.lineWrapping=pe.contentAttributes.of({class:"cm-lineWrapping"});pe.announce=Pe.define();const sY=4096,kT={};class up{constructor(e,n,r,i,s,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=a}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ct.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new up(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function TT(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(t):s;a&&sw(a,n)}return n}const oY=Oe.mac?"mac":Oe.windows?"win":Oe.linux?"linux":"key";function aY(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,a,l;for(let u=0;u<n.length-1;++u){const f=n[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),l&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function dd(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const lY=oo.default(pe.domEventHandlers({keydown(t,e){return dA(fA(e.state),t,e,"editor")}})),fh=ge.define({enables:lY}),RT=new WeakMap;function fA(t){let e=t.facet(fh),n=RT.get(e);return n||RT.set(e,n=hY(e.reduce((r,i)=>r.concat(i),[]))),n}function cY(t,e,n){return dA(fA(t.state),e,t,n)}let Is=null;const uY=4e3;function hY(t,e=oY){let n=Object.create(null),r=Object.create(null),i=(a,l)=>{let u=r[a];if(u==null)r[a]=l;else if(u!=l)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,l,u,f,d)=>{var m,g;let O=n[a]||(n[a]=Object.create(null)),x=l.split(/ (?!$)/).map(k=>aY(k,e));for(let k=1;k<x.length;k++){let T=x.slice(0,k).join(" ");i(T,!0),O[T]||(O[T]={preventDefault:!0,stopPropagation:!1,run:[R=>{let Q=Is={view:R,prefix:T,scope:a};return setTimeout(()=>{Is==Q&&(Is=null)},uY),!0}]})}let S=x.join(" ");i(S,!1);let C=O[S]||(O[S]={preventDefault:!1,stopPropagation:!1,run:((g=(m=O._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});u&&C.run.push(u),f&&(C.preventDefault=!0),d&&(C.stopPropagation=!0)};for(let a of t){let l=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let f of l){let d=n[f]||(n[f]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let g in d)d[g].run.push(O=>m(O,E0))}let u=a[e]||a.key;if(u)for(let f of l)s(f,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(f,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return n}let E0=null;function dA(t,e,n,r){E0=e;let i=C6(e),s=Rn(i,0),a=oi(s)==i.length&&i!=" ",l="",u=!1,f=!1,d=!1;Is&&Is.view==n&&Is.scope==r&&(l=Is.prefix+" ",tA.indexOf(e.keyCode)<0&&(f=!0,Is=null));let m=new Set,g=C=>{if(C){for(let k of C.run)if(!m.has(k)&&(m.add(k),k(n)))return C.stopPropagation&&(d=!0),!0;C.preventDefault&&(C.stopPropagation&&(d=!0),f=!0)}return!1},O=t[r],x,S;return O&&(g(O[l+dd(i,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Oe.windows&&e.ctrlKey&&e.altKey)&&!(Oe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(x=Ks[e.keyCode])&&x!=i?(g(O[l+dd(x,e,!0)])||e.shiftKey&&(S=Au[e.keyCode])!=i&&S!=x&&g(O[l+dd(S,e,!1)]))&&(u=!0):a&&e.shiftKey&&g(O[l+dd(i,e,!0)])&&(u=!0),!u&&g(O._any)&&(u=!0)),f&&(u=!0),u&&d&&e.stopPropagation(),E0=null,u}class dh{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=pA(e);return[new dh(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return fY(e,n,r)}}function pA(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ct.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function ET(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),a=(i.top+i.bottom)/2,l=t.posAtCoords({x:s.left+1,y:a}),u=t.posAtCoords({x:s.right-1,y:a});return l==null||u==null?r:{from:Math.max(r.from,Math.min(l,u)),to:Math.min(r.to,Math.max(l,u))}}function fY(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==ct.LTR,a=t.contentDOM,l=a.getBoundingClientRect(),u=pA(t),f=a.querySelector(".cm-line"),d=f&&window.getComputedStyle(f),m=l.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=l.right-(d?parseInt(d.paddingRight):0),O=S0(t,r,1),x=S0(t,i,-1),S=O.type==sn.Text?O:null,C=x.type==sn.Text?x:null;if(S&&(t.lineWrapping||O.widgetLineBreaks)&&(S=ET(t,r,1,S)),C&&(t.lineWrapping||x.widgetLineBreaks)&&(C=ET(t,i,-1,C)),S&&C&&S.from==C.from&&S.to==C.to)return T(R(n.from,n.to,S));{let A=S?R(n.from,null,S):Q(O,!1),$=C?R(null,n.to,C):Q(x,!0),P=[];return(S||O).to<(C||x).from-(S&&C?1:0)||O.widgetLineBreaks>1&&A.bottom+t.defaultLineHeight/2<$.top?P.push(k(m,A.bottom,g,$.top)):A.bottom<$.top&&t.elementAtHeight((A.bottom+$.top)/2).type==sn.Text&&(A.bottom=$.top=(A.bottom+$.top)/2),T(A).concat(P).concat(T($))}function k(A,$,P,Z){return new dh(e,A-u.left,$-u.top,Math.max(0,P-A),Z-$)}function T({top:A,bottom:$,horizontal:P}){let Z=[];for(let B=0;B<P.length;B+=2)Z.push(k(P[B],A,P[B+1],$));return Z}function R(A,$,P){let Z=1e9,B=-1e9,ee=[];function re(ae,me,I,L,K){let G=t.coordsAtPos(ae,ae==P.to?-2:2),he=t.coordsAtPos(I,I==P.from?2:-2);!G||!he||(Z=Math.min(G.top,he.top,Z),B=Math.max(G.bottom,he.bottom,B),K==ct.LTR?ee.push(s&&me?m:G.left,s&&L?g:he.right):ee.push(!s&&L?m:he.left,!s&&me?g:G.right))}let H=A??P.from,le=$??P.to;for(let ae of t.visibleRanges)if(ae.to>H&&ae.from<le)for(let me=Math.max(ae.from,H),I=Math.min(ae.to,le);;){let L=t.state.doc.lineAt(me);for(let K of t.bidiSpans(L)){let G=K.from+L.from,he=K.to+L.from;if(G>=I)break;he>me&&re(Math.max(G,me),A==null&&G<=H,Math.min(he,I),$==null&&he>=le,K.dir)}if(me=L.to+1,me>=I)break}return ee.length==0&&re(H,A==null,le,$==null,t.textDirection),{top:Z,bottom:B,horizontal:ee}}function Q(A,$){let P=l.top+($?A.top:A.bottom);return{top:P,bottom:P,horizontal:[]}}}function dY(t,e){return t.constructor==e.constructor&&t.eq(e)}class pY{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(jd)!=e.state.facet(jd)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(jd);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!dY(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,Oe.safari&&Oe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const jd=ge.define();function mA(t){return[_t.define(e=>new pY(e,t)),jd.of(t)]}const Du=ge.define({combine(t){return bi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function mY(t={}){return[Du.of(t),gY,OY,vY,XP.of(!0)]}function gA(t){return t.startState.facet(Du)!=t.state.facet(Du)}const gY=mA({above:!0,markers(t){let{state:e}=t,n=e.facet(Du),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:ne.cursor(i.head,i.head>i.anchor?-1:1);for(let u of dh.forRange(t,a,l))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=gA(t);return n&&QT(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){QT(e.state,t)},class:"cm-cursorLayer"});function QT(t,e){e.style.animationDuration=t.facet(Du).cursorBlinkRate+"ms"}const OY=mA({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:dh.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||gA(t)},class:"cm-selectionLayer"}),vY=oo.highest(pe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),OA=Pe.define({map(t,e){return t==null?null:e.mapPos(t)}}),ru=on.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(OA)?r.value:n,t)}}),yY=_t.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ru);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ru)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ru),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ru)!=t&&this.view.dispatch({effects:OA.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function bY(){return[ru,yY]}function PT(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),a=n,l;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(a+l.index,l)}function wY(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class xY{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(l,u,f,d)=>i(d,f,f+l[0].length,l,u);else if(typeof r=="function")this.addMatch=(l,u,f,d)=>{let m=r(l,u,f);m&&d(f,f+l[0].length,m)};else if(r)this.addMatch=(l,u,f,d)=>d(f,f+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let n=new ns,r=n.add.bind(n);for(let{from:i,to:s}of wY(e,this.maxLength))PT(e.state.doc,this.regexp,i,s,(a,l)=>this.addMatch(l,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,a,l,u)=>{u>=e.view.viewport.from&&l<=e.view.viewport.to&&(r=Math.min(l,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let a=Math.max(s.from,r),l=Math.min(s.to,i);if(l>=a){let u=e.state.doc.lineAt(a),f=u.to<l?e.state.doc.lineAt(l):u,d=Math.max(s.from,u.from),m=Math.min(s.to,f.to);if(this.boundary){for(;a>u.from;a--)if(this.boundary.test(u.text[a-1-u.from])){d=a;break}for(;l<f.to;l++)if(this.boundary.test(f.text[l-f.from])){m=l;break}}let g=[],O,x=(S,C,k)=>g.push(k.range(S,C));if(u==f)for(this.regexp.lastIndex=d-u.from;(O=this.regexp.exec(u.text))&&O.index<m-u.from;)this.addMatch(O,e,O.index+u.from,x);else PT(e.state.doc,this.regexp,d,m,(S,C)=>this.addMatch(C,e,S,x));n=n.update({filterFrom:d,filterTo:m,filter:(S,C)=>S<d||C>m,add:g})}}return n}}const Q0=/x/.unicode!=null?"gu":"g",SY=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Q0),CY={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Vv=null;function _Y(){var t;if(Vv==null&&typeof document<"u"&&document.body){let e=document.body.style;Vv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return Vv||!1}const Nd=ge.define({combine(t){let e=bi(t,{render:null,specialChars:SY,addSpecialChars:null});return(e.replaceTabs=!_Y())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Q0)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Q0)),e}});function kY(t={}){return[Nd.of(t),TY()]}let AT=null;function TY(){return AT||(AT=_t.fromClass(class{constructor(t){this.view=t,this.decorations=xe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Nd)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new xY({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=Rn(e[0],0);if(s==9){let a=i.lineAt(r),l=n.state.tabSize,u=Zl(a.text,l,r-a.from);return xe.replace({widget:new PY((l-u%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=xe.replace({widget:new QY(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Nd);t.startState.facet(Nd)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const RY="";function EY(t){return t>=32?RY:t==10?"":String.fromCharCode(9216+t)}class QY extends Ur{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=EY(this.code),r=e.state.phrase("Control character")+" "+(CY[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class PY extends Ur{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function AY(){return MY}const $Y=xe.line({class:"cm-activeLine"}),MY=_t.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push($Y.range(i.from)),e=i.from)}return xe.set(n)}},{decorations:t=>t.decorations});class jY extends Ur{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?gu(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=ju(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function NY(t){let e=_t.fromClass(class{constructor(n){this.view=n,this.placeholder=t?xe.set([xe.widget({widget:new jY(t),side:1}).range(0)]):xe.none}get decorations(){return this.view.state.doc.length?xe.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,pe.contentAttributes.of({"aria-placeholder":t})]:e}const P0=2e3;function DY(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>P0||n.off>P0||e.col<0||n.col<0){let a=Math.min(e.off,n.off),l=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let f=t.doc.line(u);f.length<=l&&s.push(ne.range(f.from+a,f.to+l))}}else{let a=Math.min(e.col,n.col),l=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let f=t.doc.line(u),d=u0(f.text,a,t.tabSize,!0);if(d<0)s.push(ne.cursor(f.to));else{let m=u0(f.text,l,t.tabSize);s.push(ne.range(f.from+d,f.from+m))}}}return s}function zY(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function $T(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>P0?-1:i==r.length?zY(t,e.clientX):Zl(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function LY(t,e){let n=$T(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(s);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let l=$T(t,i);if(!l)return r;let u=DY(t.state,n,l);return u.length?a?ne.create(u.concat(r.ranges)):ne.create(u):r}}:null}function IY(t){let e=(n=>n.altKey&&n.button==0);return pe.mouseSelectionStyle.of((n,r)=>e(r)?LY(n,r):null)}const XY={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},ZY={style:"cursor: crosshair"};function VY(t={}){let[e,n]=XY[t.key||"Alt"],r=_t.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,pe.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?ZY:null})]}const pd="-10000px";class vA{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=r(a,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],l=n?[]:null;for(let u=0;u<s.length;u++){let f=s[u],d=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(d=m)}if(d<0)a[u]=this.createTooltipView(f,u?a[u-1]:null),l&&(l[u]=!!f.above);else{let m=a[u]=this.tooltipViews[d];l&&(l[u]=n[d]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(l.forEach((u,f)=>n[f]=u),n.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=a,!0}}function BY(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Bv=ge.define({combine:t=>{var e,n,r;return{position:Oe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||BY}}}),MT=new WeakMap,gw=_t.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Bv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new vA(t,Ow,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Bv);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=pd,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Oe.safari){let a=s.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=fw(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let l=this.manager.tooltipViews[a];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Bv).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,a=[];for(let l=0;l<this.manager.tooltips.length;l++){let u=this.manager.tooltips[l],f=this.manager.tooltipViews[l],{dom:d}=f,m=t.pos[l],g=t.size[l];if(!m||u.clip!==!1&&(m.bottom<=Math.max(n.top,r.top)||m.top>=Math.min(n.bottom,r.bottom)||m.right<Math.max(n.left,r.left)-.1||m.left>Math.min(n.right,r.right)+.1)){d.style.top=pd;continue}let O=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,x=O?7:0,S=g.right-g.left,C=(e=MT.get(f))!==null&&e!==void 0?e:g.bottom-g.top,k=f.offset||UY,T=this.view.textDirection==ct.LTR,R=g.width>r.right-r.left?T?r.left:r.right-g.width:T?Math.max(r.left,Math.min(m.left-(O?14:0)+k.x,r.right-S)):Math.min(Math.max(r.left,m.left-S+(O?14:0)-k.x),r.right-S),Q=this.above[l];!u.strictSide&&(Q?m.top-C-x-k.y<r.top:m.bottom+C+x+k.y>r.bottom)&&Q==r.bottom-m.bottom>m.top-r.top&&(Q=this.above[l]=!Q);let A=(Q?m.top-r.top:r.bottom-m.bottom)-x;if(A<C&&f.resize!==!1){if(A<this.view.defaultLineHeight){d.style.top=pd;continue}MT.set(f,C),d.style.height=(C=A)/s+"px"}else d.style.height&&(d.style.height="");let $=Q?m.top-C-x-k.y:m.bottom+x+k.y,P=R+S;if(f.overlap!==!0)for(let Z of a)Z.left<P&&Z.right>R&&Z.top<$+C&&Z.bottom>$&&($=Q?Z.top-C-2-x:Z.bottom+x+2);if(this.position=="absolute"?(d.style.top=($-t.parent.top)/s+"px",jT(d,(R-t.parent.left)/i)):(d.style.top=$/s+"px",jT(d,R/i)),O){let Z=m.left+(T?k.x:-k.x)-(R+14-7);O.style.left=Z/i+"px"}f.overlap!==!0&&a.push({left:R,top:$,right:P,bottom:$+C}),d.classList.toggle("cm-tooltip-above",Q),d.classList.toggle("cm-tooltip-below",!Q),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=pd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function jT(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const qY=pe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UY={x:0,y:0},Ow=ge.define({enables:[gw,qY]}),hp=ge.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class hm{static create(e){return new hm(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new vA(e,hp,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const YY=Ow.compute([hp],t=>{let e=t.facet(hp);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:hm.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class GY{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let l=e.coordsAtPos(i);if(!l||n.y<l.top||n.y>l.bottom||n.x<l.left-e.defaultCharacterWidth||n.x>l.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),f=u&&u.dir==ct.RTL?-1:1;s=n.x<l.left?-f:f}let a=this.source(e,i,s);if(a?.then){let l=this.pending={pos:i};a.then(u=>{this.pending==l&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>Pn(e.state,u,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(gw),n=e?e.manager.tooltips.findIndex(r=>r.create==hm.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!FY(s.dom,e)||this.pending){let{pos:a}=i[0]||this.pending,l=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:a;(a==l?this.view.posAtCoords(this.lastMove)!=a:!WY(this.view,a,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const md=4;function FY(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),a;if(a=t.querySelector(".cm-tooltip-arrow")){let l=a.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=n-md&&e.clientX<=r+md&&e.clientY>=i-md&&e.clientY<=s+md}function WY(t,e,n,r,i,s){let a=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,l)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function HY(t,e={}){let n=Pe.define(),r=on.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(a=>!e.hideOn(s,a))),s.docChanged)){let a=[];for(let l of i){let u=s.changes.mapPos(l.pos,-1,rn.TrackDel);if(u!=null){let f=Object.assign(Object.create(null),l);f.pos=u,f.end!=null&&(f.end=s.changes.mapPos(f.end)),a.push(f)}}i=a}for(let a of s.effects)a.is(n)&&(i=a.value),a.is(KY)&&(i=[]);return i},provide:i=>hp.from(i)});return{active:r,extension:[r,_t.define(i=>new GY(i,t,r,n,e.hoverTime||300)),YY]}}function yA(t,e){let n=t.plugin(gw);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const KY=Pe.define(),NT=ge.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function vw(t,e){let n=t.plugin(bA),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const bA=_t.fromClass(class{constructor(t){this.input=t.state.facet(zu),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(NT);this.top=new gd(t,!0,e.topContainer),this.bottom=new gd(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(NT);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new gd(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new gd(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(zu);if(n!=this.input){let r=n.filter(u=>u),i=[],s=[],a=[],l=[];for(let u of r){let f=this.specs.indexOf(u),d;f<0?(d=u(t.view),l.push(d)):(d=this.panels[f],d.update&&d.update(t)),i.push(d),(d.top?s:a).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let u of l)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class gd{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=DT(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=DT(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function DT(t){let e=t.nextSibling;return t.remove(),e}const zu=ge.define({enables:bA});function JY(t,e){let n,r=new Promise(a=>n=a),i=a=>eG(a,e,n);t.state.field(qv,!1)?t.dispatch({effects:wA.of(i)}):t.dispatch({effects:Pe.appendConfig.of(qv.init(()=>[i]))});let s=xA.of(i);return{close:s,result:r.then(a=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(qv).indexOf(i)>-1&&t.dispatch({effects:s})}),a))}}const qv=on.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(wA)?t=[n.value].concat(t):n.is(xA)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>zu.computeN([t],e=>e.field(t))}),wA=Pe.define(),xA=Pe.define();function eG(t,e,n){let r=e.content?e.content(t,()=>a(null)):null;if(!r){if(r=ot("form"),e.input){let l=ot("input",e.input);/^(text|password|number|email|tel|url)$/.test(l.type)&&l.classList.add("cm-textfield"),l.name||(l.name="input"),r.appendChild(ot("label",(e.label||"")+": ",l))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(ot("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let l=0;l<i.length;l++){let u=i[l];u.addEventListener("keydown",f=>{f.keyCode==27?(f.preventDefault(),a(null)):f.keyCode==13&&(f.preventDefault(),a(u))}),u.addEventListener("submit",f=>{f.preventDefault(),a(u)})}let s=ot("div",r,ot("button",{onclick:()=>a(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(s.className=e.class),s.classList.add("cm-dialog");function a(l){s.contains(s.ownerDocument.activeElement)&&t.focus(),n(l)}return{dom:s,top:e.top,mount:()=>{if(e.focus){let l;typeof e.focus=="string"?l=r.querySelector(e.focus):l=r.querySelector("input")||r.querySelector("button"),l&&"select"in l?l.select():l&&"focus"in l&&l.focus()}}}}class is extends Ws{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}is.prototype.elementClass="";is.prototype.toDOM=void 0;is.prototype.mapMode=rn.TrackBefore;is.prototype.startSide=is.prototype.endSide=-1;is.prototype.point=!0;const Dd=ge.define(),tG=ge.define(),nG={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Xe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},yu=ge.define();function rG(t){return[SA(),yu.of({...nG,...t})]}const zT=ge.define({combine:t=>t.some(e=>e)});function SA(t){return[iG]}const iG=_t.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(yu).map(e=>new IT(t,e)),this.fixed=!t.state.facet(zT);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(zT)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=Xe.iter(this.view.state.facet(Dd),this.view.viewport.from),r=[],i=this.gutters.map(s=>new sG(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let a=!0;for(let l of s.type)if(l.type==sn.Text&&a){A0(n,r,l.from);for(let u of i)u.line(this.view,l,r);a=!1}else if(l.widget)for(let u of i)u.widget(this.view,l)}else if(s.type==sn.Text){A0(n,r,s.from);for(let a of i)a.line(this.view,s,r)}else if(s.widget)for(let a of i)a.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(yu),n=t.state.facet(yu),r=t.docChanged||t.heightChanged||t.viewportChanged||!Xe.eq(t.startState.facet(Dd),t.state.facet(Dd),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let a=e.indexOf(s);a<0?i.push(new IT(this.view,s)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>pe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==ct.LTR?{left:r,right:i}:{right:r,left:i}})});function LT(t){return Array.isArray(t)?t:[t]}function A0(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class sG{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Xe.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==i.elements.length){let l=new CA(e,a,s,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,a,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];A0(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(tG)){let a=s(e,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class IT{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=i.clientY;let l=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=LT(n.markers(e)),n.initialSpacer&&(this.spacer=new CA(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=LT(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Xe.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class CA{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),oG(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let l=a,u=s<n.length?n[s++]:null,f=!1;if(u){let d=u.elementClass;d&&(r+=" "+d);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(u)){l=m,f=!0;break}}else l=this.markers.length;for(;a<l;){let d=this.markers[a++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!u)break;u.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),f&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function oG(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const aG=ge.define(),lG=ge.define(),nl=ge.define({combine(t){return bi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],a=n[i];r[i]=s?(l,u,f)=>s(l,u,f)||a(l,u,f):a}return r}})}});class Uv extends is{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Yv(t,e){return t.state.facet(nl).formatNumber(e,t.state)}const cG=yu.compute([nl],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(aG)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new Uv(Yv(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(lG)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(nl)!=e.state.facet(nl),initialSpacer(e){return new Uv(Yv(e,XT(e.state.doc.lines)))},updateSpacer(e,n){let r=Yv(n.view,XT(n.view.state.doc.lines));return r==e.number?e:new Uv(r)},domEventHandlers:t.facet(nl).domEventHandlers,side:"before"}));function uG(t={}){return[nl.of(t),SA(),cG]}function XT(t){let e=9;for(;e<t;)e=e*10+9;return e}const hG=new class extends is{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},fG=Dd.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(hG.range(i)))}return Xe.of(e)});function dG(){return fG}const _A=1024;let pG=0;class xr{constructor(e,n){this.from=e,this.to=n}}class Ne{constructor(e={}){this.id=pG++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ne.closedBy=new Ne({deserialize:t=>t.split(" ")});Ne.openedBy=new Ne({deserialize:t=>t.split(" ")});Ne.group=new Ne({deserialize:t=>t.split(" ")});Ne.isolate=new Ne({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ne.contextHash=new Ne({perNode:!0});Ne.lookAhead=new Ne({perNode:!0});Ne.mounted=new Ne({perNode:!0});class pl{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Ne.mounted.id]}}const mG=Object.create(null);class gn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):mG,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new gn(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ne.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ne.group),s=-1;s<(i?i.length:0);s++){let a=n[s<0?r.name:i[s]];if(a)return a}}}}gn.none=new gn("",Object.create(null),0,8);class yw{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);if(a){i||(i=Object.assign({},r.props));let l=a[1],u=a[0];u.combine&&u.id in i&&(l=u.combine(i[u.id],l)),i[u.id]=l}}n.push(i?new gn(r.name,i,r.id,r.flags):r)}return new yw(n)}}const Od=new WeakMap,ZT=new WeakMap;var Ke;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Ke||(Ke={}));class yt{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,l]of s)this.props[typeof a=="number"?a:a.id]=l}}toString(){let e=pl.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new fp(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Od.get(this)||this.topNode,s=new fp(i);return s.moveTo(e,n),Od.set(this,s._tree),s}get topNode(){return new hn(this,0,0,null)}resolve(e,n=0){let r=Lu(Od.get(this)||this.topNode,e,n,!1);return Od.set(this,r),r}resolveInner(e,n=0){let r=Lu(ZT.get(this)||this.topNode,e,n,!0);return ZT.set(this,r),r}resolveStack(e,n=0){return vG(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,a=e.mode||0,l=(a&Ke.IncludeAnonymous)>0;for(let u=this.cursor(a|Ke.IncludeAnonymous);;){let f=!1;if(u.from<=s&&u.to>=i&&(!l&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(l||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:xw(gn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new yt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new yt(gn.none,n,r,i)))}static build(e){return yG(e)}}yt.empty=new yt(gn.none,[],[],0);class bw{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new bw(this.buffer,this.index)}}class eo{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return gn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,n,r,i,s){let{buffer:a}=this,l=-1;for(let u=e;u!=n&&!(kA(s,i,a[u+1],a[u+2])&&(l=u,r>0));u=a[u+3]);return l}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),a=0;for(let l=e,u=0;l<n;){s[u++]=i[l++],s[u++]=i[l++]-r;let f=s[u++]=i[l++]-r;s[u++]=i[l++]-e,a=Math.max(a,f)}return new eo(s,a,this.set)}}function kA(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Lu(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof hn&&t.index<0?null:t.parent;if(!a)return t;t=a}let s=r?0:Ke.IgnoreOverlays;if(r)for(let a=t,l=a.parent;l;a=l,l=a.parent)a instanceof hn&&a.index<0&&((i=l.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=l);for(;;){let a=t.enter(e,n,s);if(!a)return t;t=a}}class TA{cursor(e=0){return new fp(this,e)}getChild(e,n=null,r=null){let i=VT(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return VT(this,e,n,r)}resolve(e,n=0){return Lu(this,e,n,!1)}resolveInner(e,n=0){return Lu(this,e,n,!0)}matchContext(e){return $0(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class hn extends TA{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let a=this;;){for(let{children:l,positions:u}=a._tree,f=n>0?l.length:-1;e!=f;e+=n){let d=l[e],m=u[e]+a.from,g;if(!(!(s&Ke.EnterBracketed&&d instanceof yt&&(g=pl.get(d))&&!g.overlay&&g.bracketed&&r>=m&&r<=m+d.length)&&!kA(i,r,m,m+d.length))){if(d instanceof eo){if(s&Ke.ExcludeBuffers)continue;let O=d.findChild(0,d.buffer.length,n,r-m,i);if(O>-1)return new ui(new gG(a,d,e,m),null,O)}else if(s&Ke.IncludeAnonymous||!d.type.isAnonymous||ww(d)){let O;if(!(s&Ke.IgnoreMounts)&&(O=pl.get(d))&&!O.overlay)return new hn(O.tree,m,e,a);let x=new hn(d,m,e,a);return s&Ke.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(n<0?d.children.length-1:0,n,r,i,s)}}}if(s&Ke.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Ke.IgnoreOverlays)&&(i=pl.get(this._tree))&&i.overlay){let s=e-this.from,a=r&Ke.EnterBracketed&&i.bracketed;for(let{from:l,to:u}of i.overlay)if((n>0||a?l<=s:l<s)&&(n<0||a?u>=s:u>s))return new hn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function VT(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function $0(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class gG{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class ui extends TA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new ui(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Ke.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new ui(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ui(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new ui(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];e.push(r.slice(i,s,a)),n.push(0)}return new yt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function RA(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let a=t[s];(a.from>n.from||a.to<n.to)&&(n=a,e=s)}let r=n instanceof hn&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new OG(i,n)}class OG{constructor(e,n){this.heads=e,this.node=n}get next(){return RA(this.heads)}}function vG(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof hn?r:r.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(i||(i=[r])).push(a.resolve(e,n)),s=a}else{let a=pl.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let l=new hn(a.tree,a.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Lu(l,e,n,!1))}}return i?RA(i):r}class fp{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Ke.EnterBracketed,e instanceof hn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof hn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ke.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ke.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ke.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let l=r._tree.children[s];if(this.mode&Ke.IncludeAnonymous||l instanceof eo||!l.type.isAnonymous||ww(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new ui(this.buffer,n,this.stack[i]);return this.bufferNode=new ui(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return $0(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return $0(this._tree,e,i);let a=r[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function ww(t){return t.children.some(e=>e instanceof eo||!e.type.isAnonymous||ww(e))}function yG(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=_A,reused:s=[],minRepeatType:a=r.types.length}=t,l=Array.isArray(n)?new bw(n,n.length):n,u=r.types,f=0,d=0;function m(A,$,P,Z,B,ee){let{id:re,start:H,end:le,size:ae}=l,me=d,I=f;if(ae<0)if(l.next(),ae==-1){let M=s[re];P.push(M),Z.push(H-A);return}else if(ae==-3){f=re;return}else if(ae==-4){d=re;return}else throw new RangeError(`Unrecognized record size: ${ae}`);let L=u[re],K,G,he=H-A;if(le-H<=i&&(G=C(l.pos-$,B))){let M=new Uint16Array(G.size-G.skip),N=l.pos-G.size,F=M.length;for(;l.pos>N;)F=k(G.start,M,F);K=new eo(M,le-G.start,r),he=G.start-A}else{let M=l.pos-ae;l.next();let N=[],F=[],ie=re>=a?re:-1,oe=0,ce=le;for(;l.pos>M;)ie>=0&&l.id==ie&&l.size>=0?(l.end<=ce-i&&(x(N,F,H,oe,l.end,ce,ie,me,I),oe=N.length,ce=l.end),l.next()):ee>2500?g(H,M,N,F):m(H,M,N,F,ie,ee+1);if(ie>=0&&oe>0&&oe<N.length&&x(N,F,H,oe,H,ce,ie,me,I),N.reverse(),F.reverse(),ie>-1&&oe>0){let fe=O(L,I);K=xw(L,N,F,0,N.length,0,le-H,fe,fe)}else K=S(L,N,F,le-H,me-le,I)}P.push(K),Z.push(he)}function g(A,$,P,Z){let B=[],ee=0,re=-1;for(;l.pos>$;){let{id:H,start:le,end:ae,size:me}=l;if(me>4)l.next();else{if(re>-1&&le<re)break;re<0&&(re=ae-i),B.push(H,le,ae),ee++,l.next()}}if(ee){let H=new Uint16Array(ee*4),le=B[B.length-2];for(let ae=B.length-3,me=0;ae>=0;ae-=3)H[me++]=B[ae],H[me++]=B[ae+1]-le,H[me++]=B[ae+2]-le,H[me++]=me;P.push(new eo(H,B[2]-le,r)),Z.push(le-A)}}function O(A,$){return(P,Z,B)=>{let ee=0,re=P.length-1,H,le;if(re>=0&&(H=P[re])instanceof yt){if(!re&&H.type==A&&H.length==B)return H;(le=H.prop(Ne.lookAhead))&&(ee=Z[re]+H.length+le)}return S(A,P,Z,B,ee,$)}}function x(A,$,P,Z,B,ee,re,H,le){let ae=[],me=[];for(;A.length>Z;)ae.push(A.pop()),me.push($.pop()+P-B);A.push(S(r.types[re],ae,me,ee-B,H-ee,le)),$.push(B-P)}function S(A,$,P,Z,B,ee,re){if(ee){let H=[Ne.contextHash,ee];re=re?[H].concat(re):[H]}if(B>25){let H=[Ne.lookAhead,B];re=re?[H].concat(re):[H]}return new yt(A,$,P,Z,re)}function C(A,$){let P=l.fork(),Z=0,B=0,ee=0,re=P.end-i,H={size:0,start:0,skip:0};e:for(let le=P.pos-A;P.pos>le;){let ae=P.size;if(P.id==$&&ae>=0){H.size=Z,H.start=B,H.skip=ee,ee+=4,Z+=4,P.next();continue}let me=P.pos-ae;if(ae<0||me<le||P.start<re)break;let I=P.id>=a?4:0,L=P.start;for(P.next();P.pos>me;){if(P.size<0)if(P.size==-3||P.size==-4)I+=4;else break e;else P.id>=a&&(I+=4);P.next()}B=L,Z+=ae,ee+=I}return($<0||Z==A)&&(H.size=Z,H.start=B,H.skip=ee),H.size>4?H:void 0}function k(A,$,P){let{id:Z,start:B,end:ee,size:re}=l;if(l.next(),re>=0&&Z<a){let H=P;if(re>4){let le=l.pos-(re-4);for(;l.pos>le;)P=k(A,$,P)}$[--P]=H,$[--P]=ee-A,$[--P]=B-A,$[--P]=Z}else re==-3?f=Z:re==-4&&(d=Z);return P}let T=[],R=[];for(;l.pos>0;)m(t.start||0,t.bufferStart||0,T,R,-1,0);let Q=(e=t.length)!==null&&e!==void 0?e:T.length?R[0]+T[0].length:0;return new yt(u[t.topID],T.reverse(),R.reverse(),Q)}const BT=new WeakMap;function zd(t,e){if(!t.isAnonymous||e instanceof eo||e.type!=t)return 1;let n=BT.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof yt)){n=1;break}n+=zd(t,r)}BT.set(e,n)}return n}function xw(t,e,n,r,i,s,a,l,u){let f=0;for(let x=r;x<i;x++)f+=zd(t,e[x]);let d=Math.ceil(f*1.5/8),m=[],g=[];function O(x,S,C,k,T){for(let R=C;R<k;){let Q=R,A=S[R],$=zd(t,x[R]);for(R++;R<k;R++){let P=zd(t,x[R]);if($+P>=d)break;$+=P}if(R==Q+1){if($>d){let P=x[Q];O(P.children,P.positions,0,P.children.length,S[Q]+T);continue}m.push(x[Q])}else{let P=S[R-1]+x[R-1].length-A;m.push(xw(t,x,S,Q,R,A,P,null,u))}g.push(A+T-s)}}return O(e,n,r,i,0),(l||u)(m,g,a)}class EA{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof ui?this.setBuffer(e.context.buffer,e.index,n):e instanceof hn&&this.map.set(e.tree,n)}get(e){return e instanceof ui?this.getBuffer(e.context.buffer,e.index):e instanceof hn?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Hi{constructor(e,n,r,i,s=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Hi(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let l=0,u=0,f=0;;l++){let d=l<n.length?n[l]:null,m=d?d.fromA:1e9;if(m-u>=r)for(;a&&a.from<m;){let g=a;if(u>=g.from||m<=g.to||f){let O=Math.max(g.from,u)-f,x=Math.min(g.to,m)-f;g=O>=x?null:new Hi(O,x,g.tree,g.offset+f,l>0,!!d)}if(g&&i.push(g),a.to>m)break;a=s<e.length?e[s++]:null}if(!d)break;u=d.toA,f=d.toA-d.toB}return i}}class QA{startParse(e,n,r){return typeof e=="string"&&(e=new bG(e)),r=r?r.length?r.map(i=>new xr(i.from,i.to)):[new xr(0,0)]:[new xr(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class bG{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function wG(t){return(e,n,r,i)=>new SG(e,t,n,r,i)}class qT{constructor(e,n,r,i,s,a){this.parser=e,this.parse=n,this.overlay=r,this.bracketed=i,this.target=s,this.from=a}}function UT(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class xG{constructor(e,n,r,i,s,a,l,u){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.bracketed=a,this.target=l,this.prev=u,this.depth=0,this.ranges=[]}}const M0=new Ne({perNode:!0});class SG{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new yt(r.type,r.children,r.positions,r.length,r.propValues.concat([[M0,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ne.mounted.id]=new pl(n,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new kG(this.fragments),n=null,r=null,i=new fp(new hn(this.baseTree,this.ranges[0].from,0,null),Ke.IncludeAnonymous|Ke.IgnoreMounts);e:for(let s,a;;){let l=!0,u;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)l=!1;else if(e.hasNode(i)){if(n){let f=n.mounts.find(d=>d.frag.from<=i.from&&d.frag.to>=i.to&&d.mount.overlay);if(f)for(let d of f.mount.overlay){let m=d.from+f.pos,g=d.to+f.pos;m>=i.from&&g<=i.to&&!n.ranges.some(O=>O.from<g&&O.to>m)&&n.ranges.push({from:m,to:g})}}l=!1}else if(r&&(a=CG(r.ranges,i.from,i.to)))l=a!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(_G(i),n&&n.depth++,r&&r.depth++);let f=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new xG(s.parser,s.overlay,f,this.inner.length,i.from,!!s.bracketed,i.tree,n);else{let d=FT(this.ranges,s.overlay||(i.from<i.to?[new xr(i.from,i.to)]:[]));d.length&&UT(d),(d.length||!s.overlay)&&this.inner.push(new qT(s.parser,d.length?s.parser.startParse(this.input,WT(f,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(m=>new xr(m.from-i.from,m.to-i.from)):null,!!s.bracketed,i.tree,d.length?d[0].from:i.from)),s.overlay?d.length&&(r={ranges:d,depth:0,prev:r}):l=!1}}else if(n&&(u=n.predicate(i))&&(u===!0&&(u=new xr(i.from,i.to)),u.from<u.to)){let f=n.ranges.length-1;f>=0&&n.ranges[f].to==u.from?n.ranges[f]={from:n.ranges[f].from,to:u.to}:n.ranges.push(u)}if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let f=FT(this.ranges,n.ranges);f.length&&(UT(f),this.inner.splice(n.index,0,new qT(n.parser,n.parser.startParse(this.input,WT(n.mounts,f),f),n.ranges.map(d=>new xr(d.from-n.start,d.to-n.start)),n.bracketed,n.target,f[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function CG(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function YT(t,e,n,r,i,s){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),i.push(a-s)}}function _G(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),a=i.children[s],l=a.buffer,u=[s];function f(d,m,g,O,x,S){let C=n[S],k=[],T=[];YT(a,d,C,k,T,O);let R=l[C+1],Q=l[C+2];u.push(k.length);let A=S?f(C+4,l[C+3],a.set.types[l[C]],R,Q-R,S-1):e.toTree();return k.push(A),T.push(R-O),YT(a,l[C+3],m,k,T,O),new yt(g,k,T,x)}i.children[s]=f(0,l.length,gn.none,0,a.length,n.length-1);for(let d of u){let m=t.tree.children[d],g=t.tree.positions[d];t.yield(new hn(m,g+t.from,d,t._tree))}}class GT{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Ke.IncludeAnonymous|Ke.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Ke.IgnoreOverlays|Ke.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof yt)n=n.children[0];else break}return!1}}let kG=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(M0))!==null&&n!==void 0?n:r.to,this.inner=new GT(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(M0))!==null&&e!==void 0?e:n.to,this.inner=new GT(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let a=(r=s.tree)===null||r===void 0?void 0:r.prop(Ne.mounted);if(a&&a.parser==n)for(let l=this.fragI;l<this.fragments.length;l++){let u=this.fragments[l];if(u.from>=s.to)break;u.tree==this.curFrag.tree&&i.push({frag:u,pos:s.from-u.offset,mount:a})}}}return i}};function FT(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let a=t[i-1].to,l=t[i].from;for(;s<r.length;s++){let u=r[s];if(u.from>=l)break;u.to<=a||(n||(r=n=e.slice()),u.from<a?(n[s]=new xr(u.from,a),u.to>l&&n.splice(s+1,0,new xr(l,u.to))):u.to>l?n[s--]=new xr(l,u.to):n.splice(s--,1))}}return r}function TG(t,e,n,r){let i=0,s=0,a=!1,l=!1,u=-1e9,f=[];for(;;){let d=i==t.length?1e9:a?t[i].to:t[i].from,m=s==e.length?1e9:l?e[s].to:e[s].from;if(a!=l){let g=Math.max(u,n),O=Math.min(d,m,r);g<O&&f.push(new xr(g,O))}if(u=Math.min(d,m),u==1e9)break;d==u&&(a?(a=!1,i++):a=!0),m==u&&(l?(l=!1,s++):l=!0)}return f}function WT(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let a=r+(i.overlay?i.overlay[0].from:0),l=a+i.tree.length,u=Math.max(s.from,a),f=Math.min(s.to,l);if(i.overlay){let d=i.overlay.map(g=>new xr(g.from+r,g.to+r)),m=TG(e,d,u,f);for(let g=0,O=u;;g++){let x=g==m.length,S=x?f:m[g].from;if(S>O&&n.push(new Hi(O,S,i.tree,-a,s.from>=O||s.openStart,s.to<=S||s.openEnd)),x)break;O=m[g].to}}else n.push(new Hi(u,f,i.tree,-a,s.from>=a||s.openStart,s.to<=l||s.openEnd))}return n}let RG=0;class br{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=RG++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof br&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new br(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new dp(e);return r=>r.modified.indexOf(n)>-1?r:dp.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let EG=0;class dp{constructor(e){this.name=e,this.instances=[],this.id=EG++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&QG(n,l.modified));if(r)return r;let i=[],s=new br(e.name,i,e,n);for(let l of n)l.instances.push(s);let a=PG(n);for(let l of e.set)if(!l.modified.length)for(let u of a)i.push(dp.get(l,u));return s}}function QG(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function PG(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function fm(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],a=2,l=i;for(let m=0;;){if(l=="..."&&m>0&&m+3==i.length){a=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let O=i[m++];if(m==i.length&&O=="!"){a=0;break}if(O!="/")throw new RangeError("Invalid path: "+i);l=i.slice(m)}let u=s.length-1,f=s[u];if(!f)throw new RangeError("Invalid path: "+i);let d=new Iu(r,a,u>0?s.slice(0,u):null);e[f]=d.sort(e[f])}}return PA.add(e)}const PA=new Ne({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Iu(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Iu{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Iu.empty=new Iu([],2,null);function AA(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let a=i;for(let l of s)for(let u of l.set){let f=n[u.id];if(f){a=a?a+" "+f:f;break}}return a},scope:r}}function AG(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function $G(t,e,n,r=0,i=t.length){let s=new MG(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class MG{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:a,from:l,to:u}=e;if(l>=r||u<=n)return;a.isTop&&(s=this.highlighters.filter(O=>!O.scope||O.scope(a)));let f=i,d=jG(e)||Iu.empty,m=AG(s,d.tags);if(m&&(f&&(f+=" "),f+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(n,l),f),d.opaque)return;let g=e.tree&&e.tree.prop(Ne.mounted);if(g&&g.overlay){let O=e.node.enter(g.overlay[0].from+l,1),x=this.highlighters.filter(C=>!C.scope||C.scope(g.tree.type)),S=e.firstChild();for(let C=0,k=l;;C++){let T=C<g.overlay.length?g.overlay[C]:null,R=T?T.from+l:u,Q=Math.max(n,k),A=Math.min(r,R);if(Q<A&&S)for(;e.from<A&&(this.highlightRange(e,Q,A,i,s),this.startSpan(Math.min(A,e.to),f),!(e.to>=R||!e.nextSibling())););if(!T||R>r)break;k=T.to+l,k>n&&(this.highlightRange(O.cursor(),Math.max(n,T.from+l),Math.min(r,k),"",x),this.startSpan(Math.min(r,k),f))}S&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function jG(t){let e=t.type.prop(PA);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const de=br.define,vd=de(),Ds=de(),HT=de(Ds),KT=de(Ds),zs=de(),yd=de(zs),Gv=de(zs),ni=de(),Eo=de(ni),ei=de(),ti=de(),j0=de(),Gc=de(j0),bd=de(),j={comment:vd,lineComment:de(vd),blockComment:de(vd),docComment:de(vd),name:Ds,variableName:de(Ds),typeName:HT,tagName:de(HT),propertyName:KT,attributeName:de(KT),className:de(Ds),labelName:de(Ds),namespace:de(Ds),macroName:de(Ds),literal:zs,string:yd,docString:de(yd),character:de(yd),attributeValue:de(yd),number:Gv,integer:de(Gv),float:de(Gv),bool:de(zs),regexp:de(zs),escape:de(zs),color:de(zs),url:de(zs),keyword:ei,self:de(ei),null:de(ei),atom:de(ei),unit:de(ei),modifier:de(ei),operatorKeyword:de(ei),controlKeyword:de(ei),definitionKeyword:de(ei),moduleKeyword:de(ei),operator:ti,derefOperator:de(ti),arithmeticOperator:de(ti),logicOperator:de(ti),bitwiseOperator:de(ti),compareOperator:de(ti),updateOperator:de(ti),definitionOperator:de(ti),typeOperator:de(ti),controlOperator:de(ti),punctuation:j0,separator:de(j0),bracket:Gc,angleBracket:de(Gc),squareBracket:de(Gc),paren:de(Gc),brace:de(Gc),content:ni,heading:Eo,heading1:de(Eo),heading2:de(Eo),heading3:de(Eo),heading4:de(Eo),heading5:de(Eo),heading6:de(Eo),contentSeparator:de(ni),list:de(ni),quote:de(ni),emphasis:de(ni),strong:de(ni),link:de(ni),monospace:de(ni),strikethrough:de(ni),inserted:de(),deleted:de(),changed:de(),invalid:de(),meta:bd,documentMeta:de(bd),annotation:de(bd),processingInstruction:de(bd),definition:br.defineModifier("definition"),constant:br.defineModifier("constant"),function:br.defineModifier("function"),standard:br.defineModifier("standard"),local:br.defineModifier("local"),special:br.defineModifier("special")};for(let t in j){let e=j[t];e instanceof br&&(e.name=t)}AA([{tag:j.link,class:"tok-link"},{tag:j.heading,class:"tok-heading"},{tag:j.emphasis,class:"tok-emphasis"},{tag:j.strong,class:"tok-strong"},{tag:j.keyword,class:"tok-keyword"},{tag:j.atom,class:"tok-atom"},{tag:j.bool,class:"tok-bool"},{tag:j.url,class:"tok-url"},{tag:j.labelName,class:"tok-labelName"},{tag:j.inserted,class:"tok-inserted"},{tag:j.deleted,class:"tok-deleted"},{tag:j.literal,class:"tok-literal"},{tag:j.string,class:"tok-string"},{tag:j.number,class:"tok-number"},{tag:[j.regexp,j.escape,j.special(j.string)],class:"tok-string2"},{tag:j.variableName,class:"tok-variableName"},{tag:j.local(j.variableName),class:"tok-variableName tok-local"},{tag:j.definition(j.variableName),class:"tok-variableName tok-definition"},{tag:j.special(j.variableName),class:"tok-variableName2"},{tag:j.definition(j.propertyName),class:"tok-propertyName tok-definition"},{tag:j.typeName,class:"tok-typeName"},{tag:j.namespace,class:"tok-namespace"},{tag:j.className,class:"tok-className"},{tag:j.macroName,class:"tok-macroName"},{tag:j.propertyName,class:"tok-propertyName"},{tag:j.operator,class:"tok-operator"},{tag:j.comment,class:"tok-comment"},{tag:j.meta,class:"tok-meta"},{tag:j.invalid,class:"tok-invalid"},{tag:j.punctuation,class:"tok-punctuation"}]);var Fv;const rl=new Ne;function $A(t){return ge.define({combine:t?e=>e.concat(t):void 0})}const Sw=new Ne;class Lr{constructor(e,n,r=[],i=""){this.data=e,this.name=i,qe.prototype.hasOwnProperty("tree")||Object.defineProperty(qe.prototype,"tree",{get(){return kt(this)}}),this.parser=n,this.extension=[to.of(this),qe.languageData.of((s,a,l)=>{let u=JT(s,a,l),f=u.type.prop(rl);if(!f)return[];let d=s.facet(f),m=u.type.prop(Sw);if(m){let g=u.resolve(a-u.from,l);for(let O of m)if(O.test(g,s)){let x=s.facet(O.facet);return O.type=="replace"?x:x.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return JT(e,n,r).type.prop(rl)==this.data}findRegions(e){let n=e.facet(to);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(rl)==this.data){r.push({from:a,to:a+s.length});return}let l=s.prop(Ne.mounted);if(l){if(l.tree.prop(rl)==this.data){if(l.overlay)for(let u of l.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+s.length});return}else if(l.overlay){let u=r.length;if(i(l.tree,l.overlay[0].from+a),r.length>u)return}}for(let u=0;u<s.children.length;u++){let f=s.children[u];f instanceof yt&&i(f,s.positions[u]+a)}};return i(kt(e),0),r}get allowsNesting(){return!0}}Lr.setState=Pe.define();function JT(t,e,n){let r=t.facet(to),i=kt(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Ke.ExcludeBuffers|Ke.EnterBracketed))s.type.isTop&&(i=s);return i}class Cl extends Lr{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=$A(e.languageData);return new Cl(n,e.parser.configure({props:[rl.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Cl(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function kt(t){let e=t.field(Lr.state,!1);return e?e.tree:yt.empty}class NG{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Fc=null;class pp{constructor(e,n,r=[],i,s,a,l,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=l,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new pp(e,n,[],yt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new NG(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=yt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Hi.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Hi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Fc;Fc=this;try{return e()}finally{Fc=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=eR(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:l}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,d,m,g)=>u.push({fromA:f,toA:d,fromB:m,toB:g})),r=Hi.applyChanges(r,u),i=yt.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){l=[];for(let f of this.skipped){let d=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);d<m&&l.push({from:d,to:m})}}}return new pp(this.parser,n,r,i,s,a,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=eR(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends QA{createParse(n,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let u=Fc;if(u){for(let f of i)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new yt(gn.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Fc}}function eR(t,e,n){return Hi.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class _l{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new _l(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=pp.create(e.facet(to).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new _l(r)}}Lr.state=on.define({create:_l.init,update(t,e){for(let n of e.effects)if(n.is(Lr.setState))return n.value;return e.startState.facet(to)!=e.state.facet(to)?_l.init(e.state):t.apply(e)}});let MA=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(MA=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Wv=typeof navigator<"u"&&(!((Fv=navigator.scheduling)===null||Fv===void 0)&&Fv.isInputPending)?()=>navigator.scheduling.isInputPending():null,DG=_t.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Lr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Lr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=MA(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Lr.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!Wv?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&r.doc.length>i+1e3,u=s.context.work(()=>Wv&&Wv()||Date.now()>a,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Lr.setState.of(new _l(s.context))})),this.chunkBudget>0&&!(u&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Pn(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),to=ge.define({combine(t){return t.length?t[0]:null},enables:t=>[Lr.state,DG,pe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Cw{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const zG=ge.define(),ph=ge.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function mp(t){let e=t.facet(ph);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Xu(t,e){let n="",r=t.tabSize,i=t.facet(ph)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function _w(t,e){t instanceof qe&&(t=new dm(t));for(let r of t.state.facet(zG)){let i=r(t,e);if(i!==void 0)return i}let n=kt(t.state);return n.length>=e?LG(t,n,e):null}class dm{constructor(e,n={}){this.state=e,this.options=n,this.unit=mp(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Zl(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const pm=new Ne;function LG(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let a=i;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)s.push(a);for(let a=s.length-1;a>=0;a--)r={node:s[a],next:r}}return jA(r,t,n)}function jA(t,e,n){for(let r=t;r;r=r.next){let i=XG(r.node);if(i)return i(kw.create(e,n,r))}return 0}function IG(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function XG(t){let e=t.type.prop(pm);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ne.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>NA(a,!0,1,void 0,s&&!IG(a)?i.from:void 0)}return t.parent==null?ZG:null}function ZG(){return 0}class kw extends dm{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new kw(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(VG(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return jA(this.context.next,this.base,this.pos)}}function VG(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function BG(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=n.to;;){let u=e.childAfter(l);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let f=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+f}}l=u.to}}function qG({closing:t,align:e=!0,units:n=1}){return r=>NA(r,e,n,t)}function NA(t,e,n,r,i){let s=t.textAfter,a=s.match(/^\s*/)[0].length,l=r&&s.slice(a,a+r.length)==r||i==t.pos+a,u=e?BG(t):null;return u?l?t.column(u.from):t.column(u.to):t.baseIndent+(l?0:t.unit*n)}const UG=t=>t.baseIndent;function Ld({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const YG=200;function GG(){return qe.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+YG)return t;let s=n.sliceString(i.from,r);if(!e.some(f=>f.test(s)))return t;let{state:a}=t,l=-1,u=[];for(let{head:f}of a.selection.ranges){let d=a.doc.lineAt(f);if(d.from==l)continue;l=d.from;let m=_w(a,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],O=Xu(a,m);g!=O&&u.push({from:d.from,to:d.from+g.length,insert:O})}return u.length?[t,{changes:u,sequential:!0}]:t})}const FG=ge.define(),mm=new Ne;function DA(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function WG(t,e,n){let r=kt(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let a=i;a;a=a.next){let l=a.node;if(l.to<=n||l.from>n)continue;if(s&&l.from<e)break;let u=l.type.prop(mm);if(u&&(l.to<r.length-50||r.length==t.doc.length||!HG(l))){let f=u(l,t);f&&f.from<=n&&f.from>=e&&f.to>n&&(s=f)}}return s}function HG(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function gp(t,e,n){for(let r of t.facet(FG)){let i=r(t,e,n);if(i)return i}return WG(t,e,n)}function zA(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const gm=Pe.define({map:zA}),mh=Pe.define({map:zA});function LA(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Wo=on.define({create(){return xe.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=tR(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(gm)&&!KG(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(ZA),i=r?xe.replace({widget:new sF(r(e.state,n.value))}):nR;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(mh)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=tR(t,e.selection.main.head)),t},provide:t=>pe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(nR.range(r,i))}return xe.set(e,!0)}});function tR(t,e,n=e){let r=!1;return t.between(e,n,(i,s)=>{i<n&&s>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,s)=>i>=n||s<=e}):t}function Op(t,e,n){var r;let i=null;return(r=t.field(Wo,!1))===null||r===void 0||r.between(e,n,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function KG(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function IA(t,e){return t.field(Wo,!1)?e:e.concat(Pe.appendConfig.of(VA()))}const JG=t=>{for(let e of LA(t)){let n=gp(t.state,e.from,e.to);if(n)return t.dispatch({effects:IA(t.state,[gm.of(n),XA(t,n)])}),!0}return!1},eF=t=>{if(!t.state.field(Wo,!1))return!1;let e=[];for(let n of LA(t)){let r=Op(t.state,n.from,n.to);r&&e.push(mh.of(r),XA(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function XA(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return pe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const tF=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=gp(e,i.from,i.to);s&&n.push(gm.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:IA(t.state,n)}),!!n.length},nF=t=>{let e=t.state.field(Wo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(mh.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},rF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:JG},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:eF},{key:"Ctrl-Alt-[",run:tF},{key:"Ctrl-Alt-]",run:nF}],iF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},ZA=ge.define({combine(t){return bi(t,iF)}});function VA(t){return[Wo,lF]}function BA(t,e){let{state:n}=t,r=n.facet(ZA),i=a=>{let l=t.lineBlockAt(t.posAtDOM(a.target)),u=Op(t.state,l.from,l.to);u&&t.dispatch({effects:mh.of(u)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const nR=xe.replace({widget:new class extends Ur{toDOM(t){return BA(t,null)}}});class sF extends Ur{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return BA(e,this.value)}}const oF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Hv extends is{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function aF(t={}){let e={...oF,...t},n=new Hv(e,!0),r=new Hv(e,!1),i=_t.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(to)!=a.state.facet(to)||a.startState.field(Wo,!1)!=a.state.field(Wo,!1)||kt(a.startState)!=kt(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let l=new ns;for(let u of a.viewportLineBlocks){let f=Op(a.state,u.from,u.to)?r:gp(a.state,u.from,u.to)?n:null;f&&l.add(u.from,u.from,f)}return l.finish()}}),{domEventHandlers:s}=e;return[i,rG({class:"cm-foldGutter",markers(a){var l;return((l=a.plugin(i))===null||l===void 0?void 0:l.markers)||Xe.empty},initialSpacer(){return new Hv(e,!1)},domEventHandlers:{...s,click:(a,l,u)=>{if(s.click&&s.click(a,l,u))return!0;let f=Op(a.state,l.from,l.to);if(f)return a.dispatch({effects:mh.of(f)}),!0;let d=gp(a.state,l.from,l.to);return d?(a.dispatch({effects:gm.of(d)}),!0):!1}}}),VA()]}const lF=pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class gh{constructor(e,n){this.specs=e;let r;function i(l){let u=Hs.newName();return(r||(r=Object.create(null)))["."+u]=l,u}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof Lr?l=>l.prop(rl)==a.data:a?l=>l==a:void 0,this.style=AA(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=r?new Hs(r):null,this.themeType=n.themeType}static define(e,n){return new gh(e,n||{})}}const N0=ge.define(),qA=ge.define({combine(t){return t.length?[t[0]]:null}});function Kv(t){let e=t.facet(N0);return e.length?e:t.facet(qA)}function UA(t,e){let n=[uF],r;return t instanceof gh&&(t.module&&n.push(pe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(qA.of(t)):r?n.push(N0.computeN([pe.darkTheme],i=>i.facet(pe.darkTheme)==(r=="dark")?[t]:[])):n.push(N0.of(t)),n}class cF{constructor(e){this.markCache=Object.create(null),this.tree=kt(e.state),this.decorations=this.buildDeco(e,Kv(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=kt(e.state),r=Kv(e.state),i=r!=Kv(e.startState),{viewport:s}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&a>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return xe.none;let r=new ns;for(let{from:i,to:s}of e.visibleRanges)$G(this.tree,n,(a,l,u)=>{r.add(a,l,this.markCache[u]||(this.markCache[u]=xe.mark({class:u})))},i,s);return r.finish()}}const uF=oo.high(_t.fromClass(cF,{decorations:t=>t.decorations})),hF=gh.define([{tag:j.meta,color:"#404740"},{tag:j.link,textDecoration:"underline"},{tag:j.heading,textDecoration:"underline",fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strong,fontWeight:"bold"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.keyword,color:"#708"},{tag:[j.atom,j.bool,j.url,j.contentSeparator,j.labelName],color:"#219"},{tag:[j.literal,j.inserted],color:"#164"},{tag:[j.string,j.deleted],color:"#a11"},{tag:[j.regexp,j.escape,j.special(j.string)],color:"#e40"},{tag:j.definition(j.variableName),color:"#00f"},{tag:j.local(j.variableName),color:"#30a"},{tag:[j.typeName,j.namespace],color:"#085"},{tag:j.className,color:"#167"},{tag:[j.special(j.variableName),j.macroName],color:"#256"},{tag:j.definition(j.propertyName),color:"#00c"},{tag:j.comment,color:"#940"},{tag:j.invalid,color:"#f00"}]),fF=pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),YA=1e4,GA="()[]{}",FA=ge.define({combine(t){return bi(t,{afterCursor:!0,brackets:GA,maxScanDistance:YA,renderMatch:mF})}}),dF=xe.mark({class:"cm-matchingBracket"}),pF=xe.mark({class:"cm-nonmatchingBracket"});function mF(t){let e=[],n=t.matched?dF:pF;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}function rR(t){let e=[],n=t.facet(FA);for(let r of t.selection.ranges){if(!r.empty)continue;let i=hi(t,r.head,-1,n)||r.head>0&&hi(t,r.head-1,1,n)||n.afterCursor&&(hi(t,r.head,1,n)||r.head<t.doc.length&&hi(t,r.head+1,-1,n));i&&(e=e.concat(n.renderMatch(i,t)))}return xe.set(e,!0)}const gF=_t.fromClass(class{constructor(t){this.paused=!1,this.decorations=rR(t.state)}update(t){(t.docChanged||t.selectionSet||this.paused)&&(t.view.composing?(this.decorations=this.decorations.map(t.changes),this.paused=!0):(this.decorations=rR(t.state),this.paused=!1))}},{decorations:t=>t.decorations}),OF=[gF,fF];function vF(t={}){return[FA.of(t),OF]}const WA=new Ne;function D0(t,e,n){let r=t.prop(e<0?Ne.openedBy:Ne.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function z0(t){let e=t.type.prop(WA);return e?e(t.node):t}function hi(t,e,n,r={}){let i=r.maxScanDistance||YA,s=r.brackets||GA,a=kt(t),l=a.resolveInner(e,n);for(let u=l;u;u=u.parent){let f=D0(u.type,n,s);if(f&&u.from<u.to){let d=z0(u);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return yF(t,e,n,u,d,f,s)}}return bF(t,e,n,a,l.type,i,s)}function yF(t,e,n,r,i,s,a){let l=r.parent,u={from:i.from,to:i.to},f=0,d=l?.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(f==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=z0(d);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(D0(d.type,n,a))f++;else if(D0(d.type,-n,a)){if(f==0){let m=z0(d);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(n<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function bF(t,e,n,r,i,s,a){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=a.indexOf(l);if(u<0||u%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let O=d.value;n<0&&(g+=O.length);let x=e+g*n;for(let S=n>0?0:O.length-1,C=n>0?O.length:-1;S!=C;S+=n){let k=a.indexOf(O[S]);if(!(k<0||r.resolveInner(x+S,1).type!=i))if(k%2==0==n>0)m++;else{if(m==1)return{start:f,end:{from:x+S,to:x+S+1},matched:k>>1==u>>1};m--}}n>0&&(g+=O.length)}return d.done?{start:f,matched:!1}:null}const wF=Object.create(null),iR=[gn.none],sR=[],oR=Object.create(null),xF=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])xF[t]=SF(wF,e);function Jv(t,e){sR.indexOf(t)>-1||(sR.push(t),console.warn(e))}function SF(t,e){let n=[];for(let l of e.split(" ")){let u=[];for(let f of l.split(".")){let d=t[f]||j[f];d?typeof d=="function"?u.length?u=u.map(d):Jv(f,`Modifier ${f} used at start of tag`):u.length?Jv(f,`Tag ${f} used as modifier`):u=Array.isArray(d)?d:[d]:Jv(f,`Unknown highlighting tag ${f}`)}for(let f of u)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(l=>l.id),s=oR[i];if(s)return s.id;let a=oR[i]=gn.define({id:iR.length,name:r,props:[fm({[r]:n})]});return iR.push(a),a.id}ct.RTL,ct.LTR;const CF=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Rw(t.state,n.from);return r.line?_F(t):r.block?TF(t):!1};function Tw(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const _F=Tw(QF,0),kF=Tw(HA,0),TF=Tw((t,e)=>HA(t,e,EF(e)),0);function Rw(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Wc=50;function RF(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Wc,r),a=t.sliceDoc(i,i+Wc),l=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(a)[0].length,f=s.length-l;if(s.slice(f-e.length,f)==e&&a.slice(u,u+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+u,margin:u&&1}};let d,m;i-r<=2*Wc?d=m=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+Wc),m=t.sliceDoc(i-Wc,i));let g=/^\s*/.exec(d)[0].length,O=/\s*$/.exec(m)[0].length,x=m.length-O-n.length;return d.slice(g,g+e.length)==e&&m.slice(x,x+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-O-n.length,margin:/\s/.test(m.charAt(x-1))?1:0}}:null}function EF(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function HA(t,e,n=e.selection.ranges){let r=n.map(s=>Rw(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,a)=>RF(e,r[a],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let a=0,l;a<i.length;a++)if(l=i[a]){let u=r[a],{open:f,close:d}=l;s.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:s}}return null}function QF(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:s,to:a}of n){let l=r.length,u=1e9,f;for(let d=s;d<=a;){let m=e.doc.lineAt(d);if(f==null&&(f=Rw(e,m.from).line,!f))continue e;if(m.from>i&&(s==a||a>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,O=g==m.length,x=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<u&&(u=g),r.push({line:m,comment:x,token:f,indent:g,empty:O,single:!1})}d=m.to+1}if(u<1e9)for(let d=l;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=u);r.length==l+1&&(r[l].single=!0)}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:u,indent:f,empty:d,single:m}of r)(m||!d)&&s.push({from:l.from+f,insert:u+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:l,token:u}of r)if(l>=0){let f=a.from+l,d=f+u.length;a.text[d-a.from]==" "&&d++,s.push({from:f,to:d})}return{changes:s}}return null}const L0=yi.define(),PF=yi.define(),AF=ge.define(),KA=ge.define({combine(t){return bi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),JA=on.define({create(){return fi.empty},update(t,e){let n=e.state.facet(KA),r=e.annotation(L0);if(r){let u=An.fromTransaction(e,r.selection),f=r.side,d=f==0?t.undone:t.done;return u?d=vp(d,d.length,n.minDepth,u):d=n$(d,e.startState.selection),new fi(f==0?r.rest:d,f==0?d:r.rest)}let i=e.annotation(PF);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Nt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=An.fromTransaction(e),a=e.annotation(Nt.time),l=e.annotation(Nt.userEvent);return s?t=t.addChanges(s,a,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,l,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new fi(t.done.map(An.fromJSON),t.undone.map(An.fromJSON))}});function $F(t={}){return[JA,KA.of(t),pe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?e$:e.inputType=="historyRedo"?I0:null;return r?(e.preventDefault(),r(n)):!1}})]}function Om(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(JA,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const e$=Om(0,!1),I0=Om(1,!1),MF=Om(0,!0),jF=Om(1,!0);class An{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new An(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new An(e.changes&&Xt.fromJSON(e.changes),[],e.mapped&&pi.fromJSON(e.mapped),e.startSelection&&ne.fromJSON(e.startSelection),e.selectionsAfter.map(ne.fromJSON))}static fromTransaction(e,n){let r=Sr;for(let i of e.startState.facet(AF)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new An(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Sr)}static selection(e){return new An(void 0,Sr,void 0,void 0,e)}}function vp(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function NF(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,a,l)=>{for(let u=0;u<n.length;){let f=n[u++],d=n[u++];l>=f&&a<=d&&(r=!0)}}),r}function DF(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function t$(t,e){return t.length?e.length?t.concat(e):t:e}const Sr=[],zF=200;function n$(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-zF));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),vp(t,t.length-1,1e9,n.setSelAfter(r)))}else return[An.selection([e])]}function LF(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ey(t,e){if(!t.length)return t;let n=t.length,r=Sr;for(;n;){let i=IF(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[An.selection(r)]:Sr}function IF(t,e,n){let r=t$(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):Sr,n);if(!t.changes)return An.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(s):s;return new An(i,Pe.mapEffects(t.effects,e),a,t.startSelection.map(s),r)}const XF=/^(input\.type|delete)($|\.)/;class fi{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new fi(this.done,this.undone):this}addChanges(e,n,r,i,s){let a=this.done,l=a[a.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||XF.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,NF(l.changes,e.changes))||r=="input.type.compose")?a=vp(a,a.length-1,i.minDepth,new An(e.changes.compose(l.changes),t$(Pe.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,Sr)):a=vp(a,a.length,i.minDepth,e),new fi(a,Sr,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Sr;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&DF(s[s.length-1],e)?this:new fi(n$(this.done,e),this.undone,n,r)}addMapping(e){return new fi(ey(this.done,e),ey(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],a=s.selectionsAfter[0]||(s.startSelection?s.startSelection.map(s.changes.invertedDesc,1):n.selection);if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:L0.of({side:e,rest:LF(i),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?Sr:i.slice(0,i.length-1);return s.mapped&&(l=ey(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:L0.of({side:e,rest:l,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}fi.empty=new fi(Sr,Sr);const ZF=[{key:"Mod-z",run:e$,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:I0,preventDefault:!0},{linux:"Ctrl-Shift-z",run:I0,preventDefault:!0},{key:"Mod-u",run:MF,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:jF,preventDefault:!0}];function Vl(t,e){return ne.create(t.ranges.map(e),t.mainIndex)}function Yr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Gr({state:t,dispatch:e},n){let r=Vl(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Yr(t,r)),!0)}function vm(t,e){return ne.cursor(e?t.to:t.from)}function r$(t,e){return Gr(t,n=>n.empty?t.moveByChar(n,e):vm(n,e))}function fn(t){return t.textDirectionAt(t.state.selection.main.head)==ct.LTR}const i$=t=>r$(t,!fn(t)),s$=t=>r$(t,fn(t));function o$(t,e){return Gr(t,n=>n.empty?t.moveByGroup(n,e):vm(n,e))}const VF=t=>o$(t,!fn(t)),BF=t=>o$(t,fn(t));function qF(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function ym(t,e,n){let r=kt(t).resolveInner(e.head),i=n?Ne.closedBy:Ne.openedBy;for(let u=e.head;;){let f=n?r.childAfter(u):r.childBefore(u);if(!f)break;qF(t,f,i)?r=f:u=n?f.to:f.from}let s=r.type.prop(i),a,l;return s&&(a=n?hi(t,r.from,1):hi(t,r.to,-1))&&a.matched?l=n?a.end.to:a.end.from:l=n?r.to:r.from,ne.cursor(l,n?-1:1)}const UF=t=>Gr(t,e=>ym(t.state,e,!fn(t))),YF=t=>Gr(t,e=>ym(t.state,e,fn(t)));function a$(t,e){return Gr(t,n=>{if(!n.empty)return vm(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const l$=t=>a$(t,!1),c$=t=>a$(t,!0);function u$(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(pe.scrollMargins)){let a=s(t);a?.top&&(n=Math.max(a?.top,n)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function h$(t,e){let n=u$(t),{state:r}=t,i=Vl(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):vm(a,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),u=l.top+n.marginTop,f=l.bottom-n.marginBottom;a&&a.top>u&&a.bottom<f&&(s=pe.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-u}))}return t.dispatch(Yr(r,i),{effects:s}),!0}const aR=t=>h$(t,!1),X0=t=>h$(t,!0);function ao(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=ne.cursor(r.from+s))}return i}const GF=t=>Gr(t,e=>ao(t,e,!0)),FF=t=>Gr(t,e=>ao(t,e,!1)),WF=t=>Gr(t,e=>ao(t,e,!fn(t))),HF=t=>Gr(t,e=>ao(t,e,fn(t))),KF=t=>Gr(t,e=>ne.cursor(t.lineBlockAt(e.head).from,1)),JF=t=>Gr(t,e=>ne.cursor(t.lineBlockAt(e.head).to,-1));function eW(t,e,n){let r=!1,i=Vl(t.selection,s=>{let a=hi(t,s.head,-1)||hi(t,s.head,1)||s.head>0&&hi(t,s.head-1,1)||s.head<t.doc.length&&hi(t,s.head+1,-1);if(!a||!a.end)return s;r=!0;let l=a.start.from==s.head?a.end.to:a.end.from;return ne.cursor(l)});return r?(e(Yr(t,i)),!0):!1}const tW=({state:t,dispatch:e})=>eW(t,e);function Er(t,e){let n=Vl(t.state.selection,r=>{let i=e(r);return ne.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Yr(t.state,n)),!0)}function f$(t,e){return Er(t,n=>t.moveByChar(n,e))}const d$=t=>f$(t,!fn(t)),p$=t=>f$(t,fn(t));function m$(t,e){return Er(t,n=>t.moveByGroup(n,e))}const nW=t=>m$(t,!fn(t)),rW=t=>m$(t,fn(t)),iW=t=>Er(t,e=>ym(t.state,e,!fn(t))),sW=t=>Er(t,e=>ym(t.state,e,fn(t)));function g$(t,e){return Er(t,n=>t.moveVertically(n,e))}const O$=t=>g$(t,!1),v$=t=>g$(t,!0);function y$(t,e){return Er(t,n=>t.moveVertically(n,e,u$(t).height))}const lR=t=>y$(t,!1),cR=t=>y$(t,!0),oW=t=>Er(t,e=>ao(t,e,!0)),aW=t=>Er(t,e=>ao(t,e,!1)),lW=t=>Er(t,e=>ao(t,e,!fn(t))),cW=t=>Er(t,e=>ao(t,e,fn(t))),uW=t=>Er(t,e=>ne.cursor(t.lineBlockAt(e.head).from)),hW=t=>Er(t,e=>ne.cursor(t.lineBlockAt(e.head).to)),uR=({state:t,dispatch:e})=>(e(Yr(t,{anchor:0})),!0),hR=({state:t,dispatch:e})=>(e(Yr(t,{anchor:t.doc.length})),!0),fR=({state:t,dispatch:e})=>(e(Yr(t,{anchor:t.selection.main.anchor,head:0})),!0),dR=({state:t,dispatch:e})=>(e(Yr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),fW=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dW=({state:t,dispatch:e})=>{let n=bm(t).map(({from:r,to:i})=>ne.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:ne.create(n),userEvent:"select"})),!0},pW=({state:t,dispatch:e})=>{let n=Vl(t.selection,r=>{let i=kt(t),s=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=s.node.from&&a.node.to<=s.node.to&&(s=a)}for(let a=s;a;a=a.next){let{node:l}=a;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&a.next)return ne.range(l.to,l.from)}return r});return n.eq(t.selection)?!1:(e(Yr(t,n)),!0)};function b$(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let a=n.doc.lineAt(s.head);if(e?a.to<t.state.doc.length:a.from>0)for(let l=s;;){let u=t.moveVertically(l,e);if(u.head<a.from||u.head>a.to){i.some(f=>f.head==u.head)||i.push(u);break}else{if(u.head==l.head)break;l=u}}}return i.length==r.ranges.length?!1:(t.dispatch(Yr(n,ne.create(i,i.length-1))),!0)}const mW=t=>b$(t,!1),gW=t=>b$(t,!0),OW=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=ne.create([n.main]):n.main.empty||(r=ne.create([ne.cursor(n.main.head)])),r?(e(Yr(t,r)),!0):!1};function Oh(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:a,to:l}=s;if(a==l){let u=e(s);u<a?(n="delete.backward",u=wd(t,u,!1)):u>a&&(n="delete.forward",u=wd(t,u,!0)),a=Math.min(a,u),l=Math.max(l,u)}else a=wd(t,a,!1),l=wd(t,l,!0);return a==l?{range:s}:{changes:{from:a,to:l},range:ne.cursor(a,a<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?pe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function wd(t,e,n){if(t instanceof pe)for(let r of t.state.facet(pe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const w$=(t,e,n)=>Oh(t,r=>{let i=r.from,{state:s}=t,a=s.doc.lineAt(i),l,u;if(n&&!e&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(l=a.text.slice(0,i-a.from))){if(l[l.length-1]=="	")return i-1;let f=Zl(l,s.tabSize),d=f%mp(s)||mp(s);for(let m=0;m<d&&l[l.length-1-m]==" ";m++)i--;u=i}else u=qt(a.text,i-a.from,e,e)+a.from,u==i&&a.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,i-a.from))&&(u=qt(a.text,u-a.from,!1,!1)+a.from);return u}),Z0=t=>w$(t,!1,!0),x$=t=>w$(t,!0,!1),S$=(t,e)=>Oh(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let l=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=qt(s.text,r-s.from,e)+s.from,f=s.text.slice(Math.min(r,u)-s.from,Math.max(r,u)-s.from),d=a(f);if(l!=null&&d!=l)break;(f!=" "||r!=n.head)&&(l=d),r=u}return r}),C$=t=>S$(t,!1),vW=t=>S$(t,!0),yW=t=>Oh(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),bW=t=>Oh(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),wW=t=>Oh(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),xW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ue.of(["",""])},range:ne.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},SW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),a=i==s.from?i-1:qt(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:qt(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(a,i))},range:ne.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function bm(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function _$(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of bm(t)){if(n?s.to==t.doc.length:s.from==0)continue;let a=t.doc.lineAt(n?s.to+1:s.from-1),l=a.length+1;if(n){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+t.lineBreak});for(let u of s.ranges)i.push(ne.range(Math.min(t.doc.length,u.anchor+l),Math.min(t.doc.length,u.head+l)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:t.lineBreak+a.text});for(let u of s.ranges)i.push(ne.range(u.anchor-l,u.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:ne.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const CW=({state:t,dispatch:e})=>_$(t,e,!1),_W=({state:t,dispatch:e})=>_$(t,e,!0);function k$(t,e,n){if(t.readOnly)return!1;let r=[];for(let s of bm(t))n?r.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):r.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kW=({state:t,dispatch:e})=>k$(t,e,!1),TW=({state:t,dispatch:e})=>k$(t,e,!0),RW=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(bm(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Vl(e.selection,i=>{let s;if(t.lineWrapping){let a=t.lineBlockAt(i.head),l=t.coordsAtPos(i.head,i.assoc||1);l&&(s=a.bottom+t.documentTop-l.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function EW(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=kt(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ne.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const pR=T$(!1),QW=T$(!0);function T$(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:a}=i,l=e.doc.lineAt(s),u=!t&&s==a&&EW(e,s);t&&(s=a=(a<=l.to?l:e.doc.lineAt(a)).to);let f=new dm(e,{simulateBreak:s,simulateDoubleBreak:!!u}),d=_w(f,s);for(d==null&&(d=Zl(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;u?{from:s,to:a}=u:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let m=["",Xu(e,d)];return u&&m.push(Xu(e,f.lineIndent(l.from,-1))),{changes:{from:s,to:a,insert:Ue.of(m)},range:ne.cursor(s+1+m[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ew(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let l=t.doc.lineAt(a);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),a=l.to+1}let s=t.changes(i);return{changes:i,range:ne.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const PW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new dm(t,{overrideIndentation:s=>{let a=n[s];return a??-1}}),i=Ew(t,(s,a,l)=>{let u=_w(r,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let f=/^\s*/.exec(s.text)[0],d=Xu(t,u);(f!=d||l.from<s.from+f.length)&&(n[s.from]=u,a.push({from:s.from,to:s.from+f.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},R$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Ew(t,(n,r)=>{r.push({from:n.from,insert:t.facet(ph)})}),{userEvent:"input.indent"})),!0),E$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Ew(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Zl(i,t.tabSize),a=0,l=Xu(t,Math.max(0,s-mp(t)));for(;a<i.length&&a<l.length&&i.charCodeAt(a)==l.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:l.slice(a)})}),{userEvent:"delete.dedent"})),!0),AW=t=>(t.setTabFocusMode(),!0),$W=[{key:"Ctrl-b",run:i$,shift:d$,preventDefault:!0},{key:"Ctrl-f",run:s$,shift:p$},{key:"Ctrl-p",run:l$,shift:O$},{key:"Ctrl-n",run:c$,shift:v$},{key:"Ctrl-a",run:KF,shift:uW},{key:"Ctrl-e",run:JF,shift:hW},{key:"Ctrl-d",run:x$},{key:"Ctrl-h",run:Z0},{key:"Ctrl-k",run:yW},{key:"Ctrl-Alt-h",run:C$},{key:"Ctrl-o",run:xW},{key:"Ctrl-t",run:SW},{key:"Ctrl-v",run:X0}],MW=[{key:"ArrowLeft",run:i$,shift:d$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:VF,shift:nW,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:WF,shift:lW,preventDefault:!0},{key:"ArrowRight",run:s$,shift:p$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:BF,shift:rW,preventDefault:!0},{mac:"Cmd-ArrowRight",run:HF,shift:cW,preventDefault:!0},{key:"ArrowUp",run:l$,shift:O$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:uR,shift:fR},{mac:"Ctrl-ArrowUp",run:aR,shift:lR},{key:"ArrowDown",run:c$,shift:v$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:hR,shift:dR},{mac:"Ctrl-ArrowDown",run:X0,shift:cR},{key:"PageUp",run:aR,shift:lR},{key:"PageDown",run:X0,shift:cR},{key:"Home",run:FF,shift:aW,preventDefault:!0},{key:"Mod-Home",run:uR,shift:fR},{key:"End",run:GF,shift:oW,preventDefault:!0},{key:"Mod-End",run:hR,shift:dR},{key:"Enter",run:pR,shift:pR},{key:"Mod-a",run:fW},{key:"Backspace",run:Z0,shift:Z0,preventDefault:!0},{key:"Delete",run:x$,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:C$,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:vW,preventDefault:!0},{mac:"Mod-Backspace",run:bW,preventDefault:!0},{mac:"Mod-Delete",run:wW,preventDefault:!0}].concat($W.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),jW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:UF,shift:iW},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:YF,shift:sW},{key:"Alt-ArrowUp",run:CW},{key:"Shift-Alt-ArrowUp",run:kW},{key:"Alt-ArrowDown",run:_W},{key:"Shift-Alt-ArrowDown",run:TW},{key:"Mod-Alt-ArrowUp",run:mW},{key:"Mod-Alt-ArrowDown",run:gW},{key:"Escape",run:OW},{key:"Mod-Enter",run:QW},{key:"Alt-l",mac:"Ctrl-l",run:dW},{key:"Mod-i",run:pW,preventDefault:!0},{key:"Mod-[",run:E$},{key:"Mod-]",run:R$},{key:"Mod-Alt-\\",run:PW},{key:"Shift-Mod-k",run:RW},{key:"Shift-Mod-\\",run:tW},{key:"Mod-/",run:CF},{key:"Alt-A",run:kF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:AW}].concat(MW),NW={key:"Tab",run:R$,shift:E$},mR=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class kl{constructor(e,n,r=0,i=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?l=>s(mR(l)):mR,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Rn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=ew(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=oi(e);let i=this.normalize(n);if(i.length)for(let s=0,a=r;;s++){let l=i.charCodeAt(s),u=this.match(l,a,this.bufferPos+this.bufferStart);if(s==i.length-1){if(u)return this.value=u,this;break}a==r&&s<n.length&&n.charCodeAt(s)==l&&a++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let a=this.matches[s],l=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(kl.prototype[Symbol.iterator]=function(){return this});const Q$={from:-1,to:-1,match:/.*/.exec("")},Qw="gm"+(/x/.unicode==null?"":"u");class P${constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Q$,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new A$(e,n,r,i,s);this.re=new RegExp(n,Qw+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=yp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=yp(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ty=new WeakMap;class ml{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=ty.get(e);if(!i||i.from>=r||i.to<=n){let l=new ml(n,e.sliceString(n,r));return ty.set(e,l),l}if(i.from==n&&i.to==r)return i;let{text:s,from:a}=i;return a>n&&(s=e.sliceString(n,a)+s,a=n),i.to<r&&(s+=e.sliceString(i.to,r)),ty.set(e,new ml(a,s)),new ml(n,s.slice(n-a,r-a))}}class A${constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=Q$,this.matchPos=yp(e,i),this.re=new RegExp(n,Qw+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=ml.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=yp(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ml.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(P$.prototype[Symbol.iterator]=A$.prototype[Symbol.iterator]=function(){return this});function DW(t){try{return new RegExp(t,Qw),!0}catch{return!1}}function yp(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const zW=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=JY(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(s=>{let a=s&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.elements.line.value);if(!a){t.dispatch({effects:r});return}let l=e.doc.lineAt(e.selection.main.head),[,u,f,d,m]=a,g=d?+d.slice(1):0,O=f?+f:l.number;if(f&&m){let C=O/100;u&&(C=C*(u=="-"?-1:1)+l.number/e.doc.lines),O=Math.round(e.doc.lines*C)}else f&&u&&(O=O*(u=="-"?-1:1)+l.number);let x=e.doc.line(Math.max(1,Math.min(e.doc.lines,O))),S=ne.cursor(x.from+Math.max(0,Math.min(g,x.length)));t.dispatch({effects:[r,pe.scrollIntoView(S.from,{y:"center"})],selection:S})}),!0},LW={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},IW=ge.define({combine(t){return bi(t,LW,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function XW(t){return[UW,qW]}const ZW=xe.mark({class:"cm-selectionMatch"}),VW=xe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function gR(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=vt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=vt.Word)}function BW(t,e,n,r){return t(e.sliceDoc(n,n+1))==vt.Word&&t(e.sliceDoc(r-1,r))==vt.Word}const qW=_t.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(IW),{state:n}=t,r=n.selection;if(r.ranges.length>1)return xe.none;let i=r.main,s,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return xe.none;let u=n.wordAt(i.head);if(!u)return xe.none;a=n.charCategorizer(i.head),s=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return xe.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(gR(a,n,i.from,i.to)&&BW(a,n,i.from,i.to)))return xe.none}else if(s=n.sliceDoc(i.from,i.to),!s)return xe.none}let l=[];for(let u of t.visibleRanges){let f=new kl(n.doc,s,u.from,u.to);for(;!f.next().done;){let{from:d,to:m}=f.value;if((!a||gR(a,n,d,m))&&(i.empty&&d<=i.from&&m>=i.to?l.push(VW.range(d,m)):(d>=i.to||m<=i.from)&&l.push(ZW.range(d,m)),l.length>e.maxMatches))return xe.none}}return xe.set(l)}},{decorations:t=>t.decorations}),UW=pe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),YW=({state:t,dispatch:e})=>{let{selection:n}=t,r=ne.create(n.ranges.map(i=>t.wordAt(i.head)||ne.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function GW(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let a=!1,l=new kl(t.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(a)return null;l=new kl(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(u=>u.from==l.value.from))continue;if(s){let u=t.wordAt(l.value.from);if(!u||u.from!=l.value.from||u.to!=l.value.to)continue}return l.value}}const FW=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return YW({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=GW(t,r);return i?(e(t.update({selection:t.selection.addRange(ne.range(i.from,i.to),!1),effects:pe.scrollIntoView(i.to)})),!0):!1},Bl=ge.define({combine(t){return bi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new cH(e),scrollToMatch:e=>pe.scrollIntoView(e)})}});class $${constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||DW(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new tH(this):new KW(this)}getCursor(e,n=0,r){let i=e.doc?e:qe.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Ja(this,i,n,r):Ka(this,i,n,r)}}class M${constructor(e){this.spec=e}}function WW(t,e,n){return(r,i,s,a)=>{if(n&&!n(r,i,s,a))return!1;let l=r>=a&&i<=a+s.length?s.slice(r-a,i-a):e.doc.sliceString(r,i);return t(l,e,r,i)}}function Ka(t,e,n,r){let i;return t.wholeWord&&(i=HW(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=WW(t.test,e,i)),new kl(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:s=>s.toLowerCase(),i)}function HW(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(bp(i,n-s))!=vt.Word||e(wp(i,n-s))!=vt.Word)&&(e(wp(i,r-s))!=vt.Word||e(bp(i,r-s))!=vt.Word))}class KW extends M${constructor(e){super(e)}nextMatch(e,n,r){let i=Ka(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Ka(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),a=Ka(this.spec,e,s,i),l=null;for(;!a.nextOverlapping().done;)l=a.value;if(l)return l;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Ka(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Ka(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function JW(t,e,n){return(r,i,s)=>(!n||n(r,i,s))&&t(s[0],e,r,i)}function Ja(t,e,n,r){let i;return t.wholeWord&&(i=eH(e.charCategorizer(e.selection.main.head))),t.test&&(i=JW(t.test,e,i)),new P$(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function bp(t,e){return t.slice(qt(t,e,!1),e)}function wp(t,e){return t.slice(e,qt(t,e))}function eH(t){return(e,n,r)=>!r[0].length||(t(bp(r.input,r.index))!=vt.Word||t(wp(r.input,r.index))!=vt.Word)&&(t(wp(r.input,r.index+r[0].length))!=vt.Word||t(bp(r.input,r.index+r[0].length))!=vt.Word)}class tH extends M${nextMatch(e,n,r){let i=Ja(this.spec,e,r,e.doc.length).next();return i.done&&(i=Ja(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),a=Ja(this.spec,e,s,r),l=null;for(;!a.next().done;)l=a.value;if(l&&(s==n||l.from>s+10))return l;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=Ja(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Ja(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Zu=Pe.define(),Pw=Pe.define(),Bs=on.define({create(t){return new ny(V0(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Zu)?t=new ny(n.value.create(),t.panel):n.is(Pw)&&(t=new ny(t.query,n.value?Aw:null));return t},provide:t=>zu.from(t,e=>e.panel)});class ny{constructor(e,n){this.query=e,this.panel=n}}const nH=xe.mark({class:"cm-searchMatch"}),rH=xe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),iH=_t.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Bs))}update(t){let e=t.state.field(Bs);(e!=t.startState.field(Bs)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return xe.none;let{view:n}=this,r=new ns;for(let i=0,s=n.visibleRanges,a=s.length;i<a;i++){let{from:l,to:u}=s[i];for(;i<a-1&&u>s[i+1].from-500;)u=s[++i].to;t.highlight(n.state,l,u,(f,d)=>{let m=n.state.selection.ranges.some(g=>g.from==f&&g.to==d);r.add(f,d,m?rH:nH)})}return r.finish()}},{decorations:t=>t.decorations});function vh(t){return e=>{let n=e.state.field(Bs,!1);return n&&n.query.spec.valid?t(e,n):D$(e)}}const xp=vh((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=ne.single(r.from,r.to),s=t.state.facet(Bl);return t.dispatch({selection:i,effects:[$w(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),N$(t),!0}),Sp=vh((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=ne.single(i.from,i.to),a=t.state.facet(Bl);return t.dispatch({selection:s,effects:[$w(t,i),a.scrollToMatch(s.main,t)],userEvent:"select.search"}),N$(t),!0}),sH=vh((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:ne.create(n.map(r=>ne.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),oH=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],a=0;for(let l=new kl(t.doc,t.sliceDoc(r,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==r&&(a=s.length),s.push(ne.range(l.value.from,l.value.to))}return e(t.update({selection:ne.create(s,a),userEvent:"select.search.matches"})),!0},OR=vh((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let a=s,l=[],u,f,d=[];a.from==r&&a.to==i&&(f=n.toText(e.getReplacement(a)),l.push({from:a.from,to:a.to,insert:f}),a=e.nextMatch(n,a.from,a.to),d.push(pe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let m=t.state.changes(l);return a&&(u=ne.single(a.from,a.to).map(m),d.push($w(t,a)),d.push(n.facet(Bl).scrollToMatch(u.main,t))),t.dispatch({changes:m,selection:u,effects:d,userEvent:"input.replace"}),!0}),aH=vh((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:pe.announce.of(r),userEvent:"input.replace.all"}),!0});function Aw(t){return t.state.facet(Bl).createPanel(t)}function V0(t,e){var n,r,i,s,a;let l=t.selection.main,u=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!u)return e;let f=t.facet(Bl);return new $$({search:((n=e?.literal)!==null&&n!==void 0?n:f.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:f.wholeWord})}function j$(t){let e=vw(t,Aw);return e&&e.dom.querySelector("[main-field]")}function N$(t){let e=j$(t);e&&e==t.root.activeElement&&e.select()}const D$=t=>{let e=t.state.field(Bs,!1);if(e&&e.panel){let n=j$(t);if(n&&n!=t.root.activeElement){let r=V0(t.state,e.query.spec);r.valid&&t.dispatch({effects:Zu.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Pw.of(!0),e?Zu.of(V0(t.state,e.query.spec)):Pe.appendConfig.of(hH)]});return!0},z$=t=>{let e=t.state.field(Bs,!1);if(!e||!e.panel)return!1;let n=vw(t,Aw);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Pw.of(!1)}),!0},lH=[{key:"Mod-f",run:D$,scope:"editor search-panel"},{key:"F3",run:xp,shift:Sp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xp,shift:Sp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:z$,scope:"editor search-panel"},{key:"Mod-Shift-l",run:oH},{key:"Mod-Alt-g",run:zW},{key:"Mod-d",run:FW,preventDefault:!0}];class cH{constructor(e){this.view=e;let n=this.query=e.state.field(Bs).query.spec;this.commit=this.commit.bind(this),this.searchField=ot("input",{value:n.search,placeholder:Un(e,"Find"),"aria-label":Un(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ot("input",{value:n.replace,placeholder:Un(e,"Replace"),"aria-label":Un(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ot("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=ot("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=ot("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,a){return ot("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.dom=ot("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>xp(e),[Un(e,"next")]),r("prev",()=>Sp(e),[Un(e,"previous")]),r("select",()=>sH(e),[Un(e,"all")]),ot("label",null,[this.caseField,Un(e,"match case")]),ot("label",null,[this.reField,Un(e,"regexp")]),ot("label",null,[this.wordField,Un(e,"by word")]),...e.state.readOnly?[]:[ot("br"),this.replaceField,r("replace",()=>OR(e),[Un(e,"replace")]),r("replaceAll",()=>aH(e),[Un(e,"replace all")])],ot("button",{name:"close",onclick:()=>z$(e),"aria-label":Un(e,"close"),type:"button"},[""])])}commit(){let e=new $$({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Zu.of(e)}))}keydown(e){cY(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Sp:xp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),OR(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Zu)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Bl).top}}function Un(t,e){return t.state.phrase(e)}const xd=30,Sd=/[\s\.,:;?!]/;function $w(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-xd),a=Math.min(i,n+xd),l=t.state.sliceDoc(s,a);if(s!=r.from){for(let u=0;u<xd;u++)if(!Sd.test(l[u+1])&&Sd.test(l[u])){l=l.slice(u);break}}if(a!=i){for(let u=l.length-1;u>l.length-xd;u--)if(!Sd.test(l[u-1])&&Sd.test(l[u])){l=l.slice(0,u);break}}return pe.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const uH=pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),hH=[Bs,oo.low(iH),uH];class L${constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=kt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(X$(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function vR(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function fH(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=vR(e)+vR(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function I$(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:fH(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function dH(t,e){return n=>{for(let r=kt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class yR{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Zo(t){return t.selection.main.from}function X$(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Mw=yi.define();function pH(t,e,n,r){let{main:i}=t.selection,s=n-i.from,a=r-i.from;return{...t.changeByRange(l=>{if(l!=i&&n!=r&&t.sliceDoc(l.from+s,l.from+a)!=t.sliceDoc(n,r))return{range:l};let u=t.toText(e);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+a,insert:u},range:ne.cursor(l.from+s+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const bR=new WeakMap;function mH(t){if(!Array.isArray(t))return t;let e=bR.get(t);return e||bR.set(t,e=I$(t)),e}const Cp=Pe.define(),Vu=Pe.define();class gH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Rn(e,n),i=oi(r);this.chars.push(r);let s=e.slice(n,n+i),a=s.toUpperCase();this.folded.push(Rn(a==s?s.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:a}=this;if(n.length==1){let T=Rn(e,0),R=oi(T),Q=R==e.length?0:-100;if(T!=n[0])if(T==r[0])Q+=-200;else return null;return this.ret(Q,[0,R])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,f=0;if(l<0){for(let T=0,R=Math.min(e.length,200);T<R&&f<u;){let Q=Rn(e,T);(Q==n[f]||Q==r[f])&&(i[f++]=T),T+=oi(Q)}if(f<u)return null}let d=0,m=0,g=!1,O=0,x=-1,S=-1,C=/[a-z]/.test(e),k=!0;for(let T=0,R=Math.min(e.length,200),Q=0;T<R&&m<u;){let A=Rn(e,T);l<0&&(d<u&&A==n[d]&&(s[d++]=T),O<u&&(A==n[O]||A==r[O]?(O==0&&(x=T),S=T+1,O++):O=0));let $,P=A<255?A>=48&&A<=57||A>=97&&A<=122?2:A>=65&&A<=90?1:0:($=ew(A))!=$.toLowerCase()?1:$!=$.toUpperCase()?2:0;(!T||P==1&&C||Q==0&&P!=0)&&(n[m]==A||r[m]==A&&(g=!0)?a[m++]=T:a.length&&(k=!1)),Q=P,T+=oi(A)}return m==u&&a[0]==0&&k?this.result(-100+(g?-200:0),a,e):O==u&&x==0?this.ret(-200-e.length+(S==e.length?0:-100),[0,S]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):O==u?this.ret(-900-e.length,[x,S]):m==u?this.result(-100+(g?-200:0)+-700+(k?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let a of n){let l=a+(this.astral?oi(Rn(r,a)):1);s&&i[s-1]==a?i[s-1]=l:(i[s++]=a,i[s++]=l)}return this.ret(e-r.length,i)}}class OH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Bt=ge.define({combine(t){return bi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:vH,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>wR(e(r),n(r)),optionClass:(e,n)=>r=>wR(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function wR(t,e){return t?e?t+" "+e:t:e}function vH(t,e,n,r,i,s){let a=t.textDirection==ct.RTL,l=a,u=!1,f="top",d,m,g=e.left-i.left,O=i.right-e.right,x=r.right-r.left,S=r.bottom-r.top;if(l&&g<Math.min(x,O)?l=!1:!l&&O<Math.min(x,g)&&(l=!0),x<=(l?g:O))d=Math.max(i.top,Math.min(n.top,i.bottom-S))-e.top,m=Math.min(400,l?g:O);else{u=!0,m=Math.min(400,(a?e.right:i.right-e.left)-30);let T=i.bottom-e.bottom;T>=S||T>e.top?d=n.bottom-e.top:(f="bottom",d=e.bottom-n.top)}let C=(e.bottom-e.top)/s.offsetHeight,k=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${d/C}px; max-width: ${m/k}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":l?"left":"right")}}function yH(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let a=document.createElement("span");a.className="cm-completionLabel";let l=n.displayLabel||n.label,u=0;for(let f=0;f<s.length;){let d=s[f++],m=s[f++];d>u&&a.appendChild(document.createTextNode(l.slice(u,d)));let g=a.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(l.slice(d,m))),g.className="cm-completionMatchedText",u=m}return u<l.length&&a.appendChild(document.createTextNode(l.slice(u))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function ry(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class bH{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:a}=i.open,l=e.state.facet(Bt);this.optionContent=yH(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=ry(s.length,a,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(n).open;for(let d=u.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Bt).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Vu.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:a,disabled:l}=r.open;(!i.open||i.open.options!=s)&&(this.range=ry(s.length,a,e.state.facet(Bt).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),l!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=ry(n.options.length,n.selected,this.view.state.facet(Bt).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(i);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(l,i)}).catch(l=>Pn(this.view.state,l,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&xH(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Bt).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let s=null;for(let a=r.from;a<r.to;a++){let{completion:l,match:u}=e[a],{section:f}=l;if(f){let g=typeof f=="string"?f:f.name;if(g!=s&&(a>r.from||r.from==0))if(s=g,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let O=i.appendChild(document.createElement("completion-section"));O.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+a,d.setAttribute("role","option");let m=this.optionClass(l);m&&(d.className=m);for(let g of this.optionContent){let O=g(l,this.view.state,this.view,u);O&&d.appendChild(O)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function wH(t,e){return n=>new bH(n,t,e)}function xH(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function xR(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function SH(t,e){let n=[],r=null,i=null,s=d=>{n.push(d);let{section:m}=d.completion;if(m){r||(r=[]);let g=typeof m=="string"?m:m.name;r.some(O=>O.name==g)||r.push(typeof m=="string"?{name:g}:m)}},a=e.facet(Bt);for(let d of t)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new yR(g,d.source,m?m(g):[],1e9-n.length));else{let g=e.sliceDoc(d.from,d.to),O,x=a.filterStrict?new OH(g):new gH(g);for(let S of d.result.options)if(O=x.match(S.label)){let C=S.displayLabel?m?m(S,O.matched):[]:O.matched,k=O.score+(S.boost||0);if(s(new yR(S,d.source,C,k)),typeof S.section=="object"&&S.section.rank==="dynamic"){let{name:T}=S.section;i||(i=Object.create(null)),i[T]=Math.max(k,i[T]||-1e9)}}}}if(r){let d=Object.create(null),m=0,g=(O,x)=>(O.rank==="dynamic"&&x.rank==="dynamic"?i[x.name]-i[O.name]:0)||(typeof O.rank=="number"?O.rank:1e9)-(typeof x.rank=="number"?x.rank:1e9)||(O.name<x.name?-1:1);for(let O of r.sort(g))m-=1e5,d[O.name]=m;for(let O of n){let{section:x}=O.completion;x&&(O.score+=d[typeof x=="string"?x:x.name])}}let l=[],u=null,f=a.compareCompletions;for(let d of n.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=d.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?l.push(d):xR(d.completion)>xR(u)&&(l[l.length-1]=d),u=d.completion}return l}class il{constructor(e,n,r,i,s,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new il(this.options,SR(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,a){if(i&&!a&&e.some(f=>f.isPending))return i.setDisabled();let l=SH(e,n);if(!l.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let u=n.facet(Bt).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let f=i.options[i.selected].completion;for(let d=0;d<l.length;d++)if(l[d].completion==f){u=d;break}}return new il(l,SR(r,u),{pos:e.reduce((f,d)=>d.hasResult()?Math.min(f,d.from):f,1e8),create:EH,above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new il(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new il(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class _p{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new _p(TH,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Bt),s=(r.override||n.languageDataAt("autocomplete",Zo(n)).map(mH)).map(u=>(this.active.find(d=>d.source==u)||new Cr(u,this.active.some(d=>d.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((u,f)=>u==this.active[f])&&(s=this.active);let a=this.open,l=e.effects.some(u=>u.is(jw));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!CH(s,this.active)||l?a=il.build(s,n,this.id,a,r,l):a&&a.disabled&&!s.some(u=>u.isPending)&&(a=null),!a&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new Cr(u.source,0):u));for(let u of e.effects)u.is(V$)&&(a=a&&a.setSelected(u.value,this.id));return s==this.active&&a==this.open?this:new _p(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_H:kH}}function CH(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const _H={"aria-autocomplete":"list"},kH={};function SR(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const TH=[];function Z$(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(Mw);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Cr{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=Z$(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Cr(i.source,0)),r&4&&i.state==0&&(i=new Cr(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Cp))i=new Cr(i.source,1,s.value);else if(s.is(Vu))i=new Cr(i.source,0);else if(s.is(jw))for(let a of s.value)a.source==i.source&&(i=a);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Zo(e.state))}}class gl extends Cr{constructor(e,n,r,i,s,a){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),l=Zo(e.state);if(l>a||!i||n&2&&(Zo(e.startState)==this.from||l<this.limit))return new Cr(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return RH(i.validFor,e.state,s,a)?new gl(this.source,this.explicit,u,i,s,a):i.update&&(i=i.update(i,s,a,new L$(e.state,l,!1)))?new gl(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:Zo(e.state)):new Cr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new gl(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Cr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function RH(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):X$(t,!0).test(i)}const jw=Pe.define({map(t,e){return t.map(n=>n.map(e))}}),V$=Pe.define(),En=on.define({create(){return _p.start()},update(t,e){return t.update(e)},provide:t=>[Ow.from(t,e=>e.tooltip),pe.contentAttributes.from(t,e=>e.attrs)]});function Nw(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(En).active.find(i=>i.source==e.source);return r instanceof gl?(typeof n=="string"?t.dispatch({...pH(t.state,n,r.from,r.to),annotations:Mw.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const EH=wH(En,Nw);function Cd(t,e="option"){return n=>{let r=n.state.field(En,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Bt).interactionDelay)return!1;let i=1,s;e=="page"&&(s=yA(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return l<0?l=e=="page"?0:a-1:l>=a&&(l=e=="page"?a-1:0),n.dispatch({effects:V$.of(l)}),!0}}const QH=t=>{let e=t.state.field(En,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Bt).interactionDelay?!1:Nw(t,e.open.options[e.open.selected])},iy=t=>t.state.field(En,!1)?(t.dispatch({effects:Cp.of(!0)}),!0):!1,PH=t=>{let e=t.state.field(En,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Vu.of(null)}),!0)};class AH{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const $H=50,MH=1e3,jH=_t.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(En).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(En),n=t.state.facet(Bt);if(!t.selectionSet&&!t.docChanged&&t.startState.field(En)==e)return;let r=t.transactions.some(s=>{let a=Z$(s,n);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>$H&&Date.now()-a.time>MH){for(let l of a.context.abortListeners)try{l()}catch(u){Pn(this.view.state,u)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(a=>a.is(Cp)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(En);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Bt).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Zo(e),r=new L$(e,n,t.explicit,this.view),i=new AH(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Vu.of(null)}),Pn(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Bt).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Bt),r=this.view.state.field(En);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Zo(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(l,s.done.from+(s.active.explicit?0:1)),f=new gl(s.active.source,s.active.explicit,u,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:l);for(let d of s.updates)f=f.update(d,n);if(f.hasResult()){e.push(f);continue}}let a=r.active.find(l=>l.source==s.active.source);if(a&&a.isPending)if(s.done==null){let l=new Cr(s.active.source,0);for(let u of s.updates)l=l.update(u,n);l.isPending||e.push(l)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:jw.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(En,!1);if(e&&e.tooltip&&this.view.state.facet(Bt).closeOnBlur){let n=e.open&&yA(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Vu.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Cp.of(!1)}),20),this.composing=0}}}),NH=typeof navigator=="object"&&/Win/.test(navigator.platform),DH=oo.highest(pe.domEventHandlers({keydown(t,e){let n=e.state.field(En,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(NH&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&Nw(e,r),!1}})),B$=pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class zH{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class Dw{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,rn.TrackDel),r=e.mapPos(this.to,1,rn.TrackDel);return n==null||r==null?null:new Dw(this.field,n,r)}}class zw{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),a=/^\s*/.exec(s.text)[0];for(let u of this.lines){if(r.length){let f=a,d=/^\t*/.exec(u)[0].length;for(let m=0;m<d;m++)f+=e.facet(ph);i.push(n+f.length-d),u=f+u.slice(d)}r.push(u),n+=u.length+1}let l=this.fieldPositions.map(u=>new Dw(u.field,i[u.line]+u.from,i[u.line]+u.to));return{text:r,ranges:l}}static parse(e){let n=[],r=[],i=[],s;for(let a of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(a);){let l=s[1]?+s[1]:null,u=s[2]||s[3]||"",f=-1,d=u.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<n.length;m++)(l!=null?n[m].seq==l:d&&n[m].name==d)&&(f=m);if(f<0){let m=0;for(;m<n.length&&(l==null||n[m].seq!=null&&n[m].seq<l);)m++;n.splice(m,0,{seq:l,name:d}),f=m;for(let g of i)g.field>=f&&g.field++}for(let m of i)if(m.line==r.length&&m.from>s.index){let g=s[2]?3+(s[1]||"").length:2;m.from-=g,m.to-=g}i.push(new zH(f,r.length,s.index,s.index+d.length)),a=a.slice(0,s.index)+u+a.slice(s.index+s[0].length)}a=a.replace(/\\([{}])/g,(l,u,f)=>{for(let d of i)d.line==r.length&&d.from>f&&(d.from--,d.to--);return u}),r.push(a)}return new zw(r,i)}}let LH=xe.widget({widget:new class extends Ur{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),IH=xe.mark({class:"cm-snippetField"});class ql{constructor(e,n){this.ranges=e,this.active=n,this.deco=xe.set(e.map(r=>(r.from==r.to?LH:IH).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new ql(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const yh=Pe.define({map(t,e){return t&&t.map(e)}}),XH=Pe.define(),Bu=on.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(yh))return n.value;if(n.is(XH)&&t)return new ql(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>pe.decorations.from(t,e=>e?e.deco:xe.none)});function Lw(t,e){return ne.create(t.filter(n=>n.field==e).map(n=>ne.range(n.from,n.to)))}function ZH(t){let e=zw.parse(t);return(n,r,i,s)=>{let{text:a,ranges:l}=e.instantiate(n.state,i),{main:u}=n.state.selection,f={changes:{from:i,to:s==u.from?u.to:s,insert:Ue.of(a)},scrollIntoView:!0,annotations:r?[Mw.of(r),Nt.userEvent.of("input.complete")]:void 0};if(l.length&&(f.selection=Lw(l,0)),l.some(d=>d.field>0)){let d=new ql(l,0),m=f.effects=[yh.of(d)];n.state.field(Bu,!1)===void 0&&m.push(Pe.appendConfig.of([Bu,YH,GH,B$]))}n.dispatch(n.state.update(f))}}function q$(t){return({state:e,dispatch:n})=>{let r=e.field(Bu,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(a=>a.field==i+t);return n(e.update({selection:Lw(r.ranges,i),effects:yh.of(s?null:new ql(r.ranges,i)),scrollIntoView:!0})),!0}}const VH=({state:t,dispatch:e})=>t.field(Bu,!1)?(e(t.update({effects:yh.of(null)})),!0):!1,BH=q$(1),qH=q$(-1),UH=[{key:"Tab",run:BH,shift:qH},{key:"Escape",run:VH}],CR=ge.define({combine(t){return t.length?t[0]:UH}}),YH=oo.highest(fh.compute([CR],t=>t.facet(CR)));function kn(t,e){return{...e,apply:ZH(t)}}const GH=pe.domEventHandlers({mousedown(t,e){let n=e.state.field(Bu,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:Lw(n.ranges,i.field),effects:yh.of(n.ranges.some(s=>s.field>i.field)?new ql(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),qu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Xo=Pe.define({map(t,e){let n=e.mapPos(t,-1,rn.TrackAfter);return n??void 0}}),Iw=new class extends Ws{};Iw.startSide=1;Iw.endSide=-1;const U$=on.define({create(){return Xe.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Xo)&&(t=t.update({add:[Iw.range(n.value,n.value+1)]}));return t}});function FH(){return[HH,U$]}const sy="()[]{}<>";function Y$(t){for(let e=0;e<sy.length;e+=2)if(sy.charCodeAt(e)==t)return sy.charAt(e+1);return ew(t<128?t:t+1)}function G$(t,e){return t.languageDataAt("closeBrackets",e)[0]||qu}const WH=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),HH=pe.inputHandler.of((t,e,n,r)=>{if((WH?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&oi(Rn(r,0))==1||e!=i.from||n!=i.to)return!1;let s=eK(t.state,r);return s?(t.dispatch(s),!0):!1}),KH=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=G$(t,t.selection.main.head).brackets||qu.brackets,i=null,s=t.changeByRange(a=>{if(a.empty){let l=tK(t.doc,a.head);for(let u of r)if(u==l&&wm(t.doc,a.head)==Y$(Rn(u,0)))return{changes:{from:a.head-u.length,to:a.head+u.length},range:ne.cursor(a.head-u.length)}}return{range:i=a}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},JH=[{key:"Backspace",run:KH}];function eK(t,e){let n=G$(t,t.selection.main.head),r=n.brackets||qu.brackets;for(let i of r){let s=Y$(Rn(i,0));if(e==i)return s==i?iK(t,i,r.indexOf(i+i+i)>-1,n):nK(t,i,s,n.before||qu.before);if(e==s&&F$(t,t.selection.main.from))return rK(t,i,s)}return null}function F$(t,e){let n=!1;return t.field(U$).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function wm(t,e){let n=t.sliceString(e,e+2);return n.slice(0,oi(Rn(n,0)))}function tK(t,e){let n=t.sliceString(e-2,e);return oi(Rn(n,0))==n.length?n:n.slice(1)}function nK(t,e,n,r){let i=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:Xo.of(a.to+e.length),range:ne.range(a.anchor+e.length,a.head+e.length)};let l=wm(t.doc,a.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+n,from:a.head},effects:Xo.of(a.head+e.length),range:ne.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function rK(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&wm(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:ne.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function iK(t,e,n,r){let i=r.stringPrefixes||qu.stringPrefixes,s=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Xo.of(l.to+e.length),range:ne.range(l.anchor+e.length,l.head+e.length)};let u=l.head,f=wm(t.doc,u),d;if(f==e){if(_R(t,u))return{changes:{insert:e+e,from:u},effects:Xo.of(u+e.length),range:ne.cursor(u+e.length)};if(F$(t,u)){let g=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:ne.cursor(u+g.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(d=kR(t,u-2*e.length,i))>-1&&_R(t,d))return{changes:{insert:e+e+e+e,from:u},effects:Xo.of(u+e.length),range:ne.cursor(u+e.length)};if(t.charCategorizer(u)(f)!=vt.Word&&kR(t,u,i)>-1&&!sK(t,u,e,i))return{changes:{insert:e+e,from:u},effects:Xo.of(u+e.length),range:ne.cursor(u+e.length)}}return{range:s=l}});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function _R(t,e){let n=kt(t).resolveInner(e+1);return n.parent&&n.from==e}function sK(t,e,n,r){let i=kt(t).resolveInner(e,-1),s=r.reduce((a,l)=>Math.max(a,l.length),0);for(let a=0;a<5;a++){let l=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),u=l.indexOf(n);if(!u||u>-1&&r.indexOf(l.slice(0,u))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+u;){if(t.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function kR(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=vt.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=vt.Word)return s}return-1}function oK(t={}){return[DH,En,Bt.of(t),jH,aK,B$]}const W$=[{key:"Ctrl-Space",run:iy},{mac:"Alt-`",run:iy},{mac:"Alt-i",run:iy},{key:"Escape",run:PH},{key:"ArrowDown",run:Cd(!0)},{key:"ArrowUp",run:Cd(!1)},{key:"PageDown",run:Cd(!0,"page")},{key:"PageUp",run:Cd(!1,"page")},{key:"Enter",run:QH}],aK=oo.highest(fh.computeN([Bt],t=>t.facet(Bt).defaultKeymap?[W$]:[]));class TR{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class jo{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Uu).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((O,x)=>O.from-x.from||O.to-x.to),a=new ns,l=[],u=0,f=r.doc.iter(),d=0,m=r.doc.length;for(let O=0;;){let x=O==s.length?null:s[O];if(!x&&!l.length)break;let S,C;if(l.length)S=u,C=l.reduce((R,Q)=>Math.min(R,Q.to),x&&x.from>S?x.from:1e8);else{if(S=x.from,S>m)break;C=x.to,l.push(x),O++}for(;O<s.length;){let R=s[O];if(R.from==S&&(R.to>R.from||R.to==S))l.push(R),O++,C=Math.min(R.to,C);else{C=Math.min(R.from,C);break}}C=Math.min(C,m);let k=!1;if(l.some(R=>R.from==S&&(R.to==C||C==m))&&(k=S==C,!k&&C-S<10)){let R=S-(d+f.value.length);R>0&&(f.next(R),d=S);for(let Q=S;;){if(Q>=C){k=!0;break}if(!f.lineBreak&&d+f.value.length>Q)break;Q=d+f.value.length,d+=f.value.length,f.next()}}let T=bK(l);if(k)a.add(S,S,xe.widget({widget:new gK(T),diagnostics:l.slice()}));else{let R=l.reduce((Q,A)=>A.markClass?Q+" "+A.markClass:Q,"");a.add(S,C,xe.mark({class:"cm-lintRange cm-lintRange-"+T+R,diagnostics:l.slice(),inclusiveEnd:l.some(Q=>Q.to>C)}))}if(u=C,u==m)break;for(let R=0;R<l.length;R++)l[R].to<=u&&l.splice(R--,1)}let g=a.finish();return new jo(g,n,no(g))}}function no(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!r)r=new TR(i,s,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new TR(r.from,s,r.diagnostic)}}),r}function lK(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Uu).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(a=>a.is(H$))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function cK(t,e){return t.field(nr,!1)?e:e.concat(Pe.appendConfig.of(wK))}const H$=Pe.define(),Xw=Pe.define(),K$=Pe.define(),nr=on.define({create(){return new jo(xe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=no(n,t.selected.diagnostic,s)||no(n,null,s)}!n.size&&i&&e.state.facet(Uu).autoPanel&&(i=null),t=new jo(n,i,r)}for(let n of e.effects)if(n.is(H$)){let r=e.state.facet(Uu).autoPanel?n.value.length?Yu.open:null:t.panel;t=jo.init(n.value,r,e.state)}else n.is(Xw)?t=new jo(t.diagnostics,n.value?Yu.open:null,t.selected):n.is(K$)&&(t=new jo(t.diagnostics,t.panel,n.value));return t},provide:t=>[zu.from(t,e=>e.panel),pe.decorations.from(t,e=>e.diagnostics)]}),uK=xe.mark({class:"cm-lintRange cm-lintRange-active"});function hK(t,e,n){let{diagnostics:r}=t.state.field(nr),i,s=-1,a=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,f,{spec:d})=>{if(e>=u&&e<=f&&(u==f||(e>u||n>0)&&(e<f||n<0)))return i=d.diagnostics,s=u,a=f,!1});let l=t.state.facet(Uu).tooltipFilter;return i&&l&&(i=l(i,t.state)),i?{pos:s,end:a,above:t.state.doc.lineAt(s).to<a,create(){return{dom:fK(t,i)}}}:null}function fK(t,e){return ot("ul",{class:"cm-tooltip-lint"},e.map(n=>eM(t,n,!1)))}const dK=t=>{let e=t.state.field(nr,!1);(!e||!e.panel)&&t.dispatch({effects:cK(t.state,[Xw.of(!0)])});let n=vw(t,Yu.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},RR=t=>{let e=t.state.field(nr,!1);return!e||!e.panel?!1:(t.dispatch({effects:Xw.of(!1)}),!0)},pK=t=>{let e=t.state.field(nr,!1);if(!e)return!1;let n=t.state.selection.main,r=no(e.diagnostics,null,n.to+1);return!r&&(r=no(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},mK=[{key:"Mod-Shift-m",run:dK,preventDefault:!0},{key:"F8",run:pK}],Uu=ge.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...bi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:ER,tooltipFilter:ER,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function ER(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function J$(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function eM(t,e,n){var r;let i=n?J$(e.actions):[];return ot("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ot("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,a)=>{let l=!1,u=O=>{if(O.preventDefault(),l)return;l=!0;let x=no(t.state.field(nr).diagnostics,e);x&&s.apply(t,x.from,x.to)},{name:f}=s,d=i[a]?f.indexOf(i[a]):-1,m=d<0?f:[f.slice(0,d),ot("u",f.slice(d,d+1)),f.slice(d+1)],g=s.markClass?" "+s.markClass:"";return ot("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:u,onmousedown:u,"aria-label":` Action: ${f}${d<0?"":` (access key "${i[a]})"`}.`},m)}),e.source&&ot("div",{class:"cm-diagnosticSource"},e.source))}class gK extends Ur{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ot("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class QR{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=eM(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Yu{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)RR(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=J$(s.actions);for(let l=0;l<a.length;l++)if(a[l].toUpperCase().charCodeAt(0)==i.keyCode){let u=no(this.view.state.field(nr).diagnostics,s);u&&s.actions[l].apply(e,u.from,u.to)}}else return;i.preventDefault()}},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=ot("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=ot("div",{class:"cm-panel-lint"},this.list,ot("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>RR(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(nr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(nr),r=0,i=!1,s=null,a=new Set;for(e.between(0,this.view.state.doc.length,(l,u,{spec:f})=>{for(let d of f.diagnostics){if(a.has(d))continue;a.add(d);let m=-1,g;for(let O=r;O<this.items.length;O++)if(this.items[O].diagnostic==d){m=O;break}m<0?(g=new QR(this.view,d),this.items.splice(r,0,g),i=!0):(g=this.items[m],m>r&&(this.items.splice(r,m-r),i=!0)),n&&g.diagnostic==n.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new QR(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:u})=>{let f=u.height/this.list.offsetHeight;l.top<u.top?this.list.scrollTop-=(u.top-l.top)/f:l.bottom>u.bottom&&(this.list.scrollTop+=(l.bottom-u.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(nr),r=no(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:K$.of(r)})}static open(e){return new Yu(e)}}function OK(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function _d(t){return OK(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const vK=pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:_d("#d11")},".cm-lintRange-warning":{backgroundImage:_d("orange")},".cm-lintRange-info":{backgroundImage:_d("#999")},".cm-lintRange-hint":{backgroundImage:_d("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function yK(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function bK(t){let e="hint",n=1;for(let r of t){let i=yK(r.severity);i>n&&(n=i,e=r.severity)}return e}const wK=[nr,pe.decorations.compute([nr],t=>{let{selected:e,panel:n}=t.field(nr);return!e||!n||e.from==e.to?xe.none:xe.set([uK.range(e.from,e.to)])}),HY(hK,{hideOn:lK}),vK];var PR=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(JH)),e.defaultKeymap!==!1&&(r=r.concat(jW)),e.searchKeymap!==!1&&(r=r.concat(lH)),e.historyKeymap!==!1&&(r=r.concat(ZF)),e.foldKeymap!==!1&&(r=r.concat(rF)),e.completionKeymap!==!1&&(r=r.concat(W$)),e.lintKeymap!==!1&&(r=r.concat(mK));var i=[];return e.lineNumbers!==!1&&i.push(uG()),e.highlightActiveLineGutter!==!1&&i.push(dG()),e.highlightSpecialChars!==!1&&i.push(kY()),e.history!==!1&&i.push($F()),e.foldGutter!==!1&&i.push(aF()),e.drawSelection!==!1&&i.push(mY()),e.dropCursor!==!1&&i.push(bY()),e.allowMultipleSelections!==!1&&i.push(qe.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(GG()),e.syntaxHighlighting!==!1&&i.push(UA(hF,{fallback:!0})),e.bracketMatching!==!1&&i.push(vF()),e.closeBrackets!==!1&&i.push(FH()),e.autocompletion!==!1&&i.push(oK()),e.rectangularSelection!==!1&&i.push(IY()),n!==!1&&i.push(VY()),e.highlightActiveLine!==!1&&i.push(AY()),e.highlightSelectionMatches!==!1&&i.push(XW()),e.tabSize&&typeof e.tabSize=="number"&&i.push(ph.of(" ".repeat(e.tabSize))),i.concat([fh.of(r.flat())]).filter(Boolean)};const xK="#e5c07b",AR="#e06c75",SK="#56b6c2",CK="#ffffff",Id="#abb2bf",B0="#7d8799",_K="#61afef",kK="#98c379",$R="#d19a66",TK="#c678dd",RK="#21252b",MR="#2c313a",jR="#282c34",oy="#353a42",EK="#3E4451",NR="#528bff",QK=pe.theme({"&":{color:Id,backgroundColor:jR},".cm-content":{caretColor:NR},".cm-cursor, .cm-dropCursor":{borderLeftColor:NR},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:EK},".cm-panels":{backgroundColor:RK,color:Id},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:jR,color:B0,border:"none"},".cm-activeLineGutter":{backgroundColor:MR},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:oy},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:oy,borderBottomColor:oy},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:MR,color:Id}}},{dark:!0}),PK=gh.define([{tag:j.keyword,color:TK},{tag:[j.name,j.deleted,j.character,j.propertyName,j.macroName],color:AR},{tag:[j.function(j.variableName),j.labelName],color:_K},{tag:[j.color,j.constant(j.name),j.standard(j.name)],color:$R},{tag:[j.definition(j.name),j.separator],color:Id},{tag:[j.typeName,j.className,j.number,j.changed,j.annotation,j.modifier,j.self,j.namespace],color:xK},{tag:[j.operator,j.operatorKeyword,j.url,j.escape,j.regexp,j.link,j.special(j.string)],color:SK},{tag:[j.meta,j.comment],color:B0},{tag:j.strong,fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.link,color:B0,textDecoration:"underline"},{tag:j.heading,fontWeight:"bold",color:AR},{tag:[j.atom,j.bool,j.special(j.variableName)],color:$R},{tag:[j.processingInstruction,j.string,j.inserted],color:kK},{tag:j.invalid,color:CK}]),tM=[QK,UA(PK)];var AK=pe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),$K=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:a="",basicSetup:l=!0}=e,u=[];switch(n&&u.unshift(fh.of([NW])),l&&(typeof l=="boolean"?u.unshift(PR()):u.unshift(PR(l))),a&&u.unshift(NY(a)),s){case"light":u.push(AK);break;case"dark":u.push(tM);break;case"none":break;default:u.push(s);break}return r===!1&&u.push(pe.editable.of(!1)),i&&u.push(qe.readOnly.of(!0)),[...u]},MK=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class jK{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class DR{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var ay=null,NK=()=>typeof window>"u"?new DR:(ay||(ay=new DR),ay),zR=yi.define(),DK=200,zK=[];function LK(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:a,extensions:l=zK,autoFocus:u,theme:f="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:O=null,minWidth:x=null,maxWidth:S=null,placeholder:C="",editable:k=!0,readOnly:T=!1,indentWithTab:R=!0,basicSetup:Q=!0,root:A,initialState:$}=t,[P,Z]=w.useState(),[B,ee]=w.useState(),[re,H]=w.useState(),le=w.useState(()=>({current:null}))[0],ae=w.useState(()=>({current:null}))[0],me=pe.theme({"&":{height:d,minHeight:m,maxHeight:g,width:O,minWidth:x,maxWidth:S},"& .cm-scroller":{height:"100% !important"}}),I=pe.updateListener.of(G=>{if(G.docChanged&&typeof r=="function"&&!G.transactions.some(N=>N.annotation(zR))){le.current?le.current.reset():(le.current=new jK(()=>{if(ae.current){var N=ae.current;ae.current=null,N()}le.current=null},DK),NK().add(le.current));var he=G.state.doc,M=he.toString();r(M,G)}i&&i(MK(G))}),L=$K({theme:f,editable:k,readOnly:T,placeholder:C,indentWithTab:R,basicSetup:Q}),K=[I,me,...L];return a&&typeof a=="function"&&K.push(pe.updateListener.of(a)),K=K.concat(l),w.useLayoutEffect(()=>{if(P&&!re){var G={doc:e,selection:n,extensions:K},he=$?qe.fromJSON($.json,G,$.fields):qe.create(G);if(H(he),!B){var M=new pe({state:he,parent:P,root:A});ee(M),s&&s(M,he)}}return()=>{B&&(H(void 0),ee(void 0))}},[P,re]),w.useEffect(()=>{t.container&&Z(t.container)},[t.container]),w.useEffect(()=>()=>{B&&(B.destroy(),ee(void 0)),le.current&&(le.current.cancel(),le.current=null)},[B]),w.useEffect(()=>{u&&B&&B.focus()},[u,B]),w.useEffect(()=>{B&&B.dispatch({effects:Pe.reconfigure.of(K)})},[f,l,d,m,g,O,x,S,C,k,T,R,Q,r,a]),w.useEffect(()=>{if(e!==void 0){var G=B?B.state.doc.toString():"";if(B&&e!==G){var he=le.current&&!le.current.isDone,M=()=>{B&&e!==B.state.doc.toString()&&B.dispatch({changes:{from:0,to:B.state.doc.toString().length,insert:e||""},annotations:[zR.of(!0)]})};he?ae.current=M:M()}}},[e,B]),{state:re,setState:H,view:B,setView:ee,container:P,setContainer:Z}}var IK=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],nM=w.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:a,onStatistics:l,onCreateEditor:u,onUpdate:f,autoFocus:d,theme:m="light",height:g,minHeight:O,maxHeight:x,width:S,minWidth:C,maxWidth:k,basicSetup:T,placeholder:R,indentWithTab:Q,editable:A,readOnly:$,root:P,initialState:Z}=t,B=t6(t,IK),ee=w.useRef(null),{state:re,view:H,container:le,setContainer:ae}=LK({root:P,value:r,autoFocus:d,theme:m,height:g,minHeight:O,maxHeight:x,width:S,minWidth:C,maxWidth:k,basicSetup:T,placeholder:R,indentWithTab:Q,editable:A,readOnly:$,selection:i,onChange:a,onStatistics:l,onCreateEditor:u,onUpdate:f,extensions:s,initialState:Z});w.useImperativeHandle(e,()=>({editor:ee.current,state:re,view:H}),[ee,le,re,H]);var me=w.useCallback(L=>{ee.current=L,ae(L)},[ae]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var I=typeof m=="string"?"cm-theme-"+m:"cm-theme";return y.jsx("div",Hy({ref:me,className:""+I+(n?" "+n:"")},B))});nM.displayName="CodeMirror";var LR={};class kp{constructor(e,n,r,i,s,a,l,u,f,d=0,m){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=l,this.bufferBase=u,this.curContext=f,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new kp(e,[],n,r,r,0,[],0,i?new IR(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),l=s.dynamicPrecedence(i);if(l&&(this.score+=l),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-f;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=d));let m=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let O=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,O,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let O=this.stack[u-3];this.state=s.getGoto(O,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,l=this.buffer.length;if(l==0&&a.parent&&(l=a.bufferBase-a.parent.bufferBase,a=a.parent),l>0&&a.buffer[l-4]==0&&a.buffer[l-1]>-1){if(n==r)return;if(a.buffer[l-2]>=n){a.buffer[l-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let l=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){l=!0;break}if(l)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:a}=this.p;this.pos=i;let l=a.stateFlag(s,1);!l&&(i>r||n<=a.maxNode)&&(this.reducePos=i),this.pushState(s,l?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new kp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new XK(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let a=n[s+1];i.some((l,u)=>u&1&&l==a)||i.push(n[s],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let l=(a>>19)-s;if(l>1){let u=a&65535,f=this.stack.length-l*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return l<<19|65536|u}}else{let l=r(a,s+1);if(l!=null)return l}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new IR(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class IR{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class XK{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Tp{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Tp(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Tp(this.stack,this.pos,this.index)}}function iu(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let a=t.charCodeAt(r++),l=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,l=!0),s+=u,l)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Xd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const XR=new Xd;class ZK{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=XR,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,l=this.range;for(;l.to<=r;)l=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=XR,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Ol{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;rM(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Ol.prototype.contextual=Ol.prototype.fallback=Ol.prototype.extend=!1;class Rp{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?iu(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,a=e.resolveOffset(1,1);if(rM(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,a==null)break;e.reset(a,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Rp.prototype.contextual=Ol.prototype.fallback=Ol.prototype.extend=!1;class ar{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function rM(t,e,n,r,i,s){let a=0,l=1<<r,{dialect:u}=n.p.parser;e:for(;(l&t[a])!=0;){let f=t[a+1];for(let O=a+3;O<f;O+=2)if((t[O+1]&l)>0){let x=t[O];if(u.allows(x)&&(e.token.value==-1||e.token.value==x||VK(x,e.token.value,i,s))){e.acceptToken(x);break}}let d=e.next,m=0,g=t[a+2];if(e.next<0&&g>m&&t[f+g*3-3]==65535){a=t[f+g*3-1];continue e}for(;m<g;){let O=m+g>>1,x=f+O+(O<<1),S=t[x],C=t[x+1]||65536;if(d<S)g=O;else if(d>=C)m=O+1;else{a=t[x+2],e.advance();continue e}}break}}function ZR(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function VK(t,e,n,r){let i=ZR(n,r,e);return i<0||ZR(n,r,t)<i}const Yn=typeof process<"u"&&LR&&/\bparse\b/.test(LR.LOG);let ly=null;function VR(t,e,n){let r=t.cursor(Ke.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class BK{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?VR(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?VR(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(s instanceof yt){if(a==e){if(a<this.safeFrom)return null;let l=a+s.length;if(l<=this.safeTo){let u=s.prop(Ne.lookAhead);if(!u||l+u<this.fragment.to)return s}}this.index[n]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+s.length}}}class qK{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Xd)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,a=i.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<s.length;f++){if((1<<f&a)==0)continue;let d=s[f],m=this.tokens[f];if(!(r&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=a||m.context!=l)&&(this.updateCachedToken(m,d,e),m.mask=a,m.context=l),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let g=n;if(m.extended>-1&&(n=this.addActions(e,m.extended,m.end,n)),n=this.addActions(e,m.value,m.end,n),!d.extend&&(r=m,n>g))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new Xd,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Xd,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let l=s.specializers[a](this.stream.read(e.start,e.end),r);if(l>=0&&r.p.parser.dialect.allows(l>>1)){(l&1)==0?e.value=l>>1:e.extended=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:a}=e.p,{data:l}=a;for(let u=0;u<2;u++)for(let f=a.stateSlot(s,u?2:1);;f+=3){if(l[f]==65535)if(l[f+1]==1)f=Ui(l,f+2);else{i==0&&l[f+1]==2&&(i=this.putAction(Ui(l,f+2),n,r,i));break}l[f]==n&&(i=this.putAction(Ui(l,f+1),n,r,i))}return i}}class UK{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ZK(n,i),this.tokens=new qK(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[kp.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new BK(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let l=e[a];for(;;){if(this.tokens.mainToken=null,l.pos>n)r.push(l);else{if(this.advanceStack(l,r,e))continue;{i||(i=[],s=[]),i.push(l);let u=this.tokens.getMainToken(l);s.push(u.value,u.end)}}break}}if(!r.length){let a=i&&GK(i);if(a)return Yn&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Yn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return Yn&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((l,u)=>u.score-l.score);r.length>a;)r.pop();r.some(l=>l.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let l=r[a];for(let u=a+1;u<r.length;u++){let f=r[u];if(l.sameState(f)||l.buffer.length>500&&f.buffer.length>500)if((l.score-f.score||l.buffer.length-f.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,l)=>l.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,a=Yn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,d=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(Ne.contextHash)||0)==d))return e.useNode(m,g),Yn&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof yt)||m.children.length==0||m.positions[0]>0)break;let O=m.children[0];if(O instanceof yt&&m.positions[0]==0)m=O;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),Yn&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let d=u[f++],m=u[f++],g=u[f++],O=f==u.length||!r,x=O?e:e.split(),S=this.tokens.mainToken;if(x.apply(d,m,S?S.start:x.pos,g),Yn&&console.log(a+this.stackID(x)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${x==e?"":", split"})`),O)return!0;x.pos>i?n.push(x):r.push(x)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return BR(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let a=0;a<e.length;a++){let l=e[a],u=n[a<<1],f=n[(a<<1)+1],d=Yn?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),Yn&&console.log(d+this.stackID(l)+" (restarted)"),this.advanceFully(l,r))))continue;let m=l.split(),g=d;for(let O=0;O<10&&m.forceReduce()&&(Yn&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));O++)Yn&&(g=this.stackID(m)+" -> ");for(let O of l.recoverByInsert(u))Yn&&console.log(d+this.stackID(O)+" (via recover-insert)"),this.advanceFully(O,r);this.stream.end>l.pos?(f==l.pos&&(f++,u=0),l.recoverByDelete(u,f),Yn&&console.log(d+this.stackID(l)+` (via recover-delete ${this.parser.getName(u)})`),BR(l,r)):(!i||i.score<m.score)&&(i=m)}return i}stackToTree(e){return e.close(),yt.build({buffer:Tp.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(ly||(ly=new WeakMap)).get(e);return n||ly.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function BR(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class YK{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const cy=t=>t;class iM{constructor(e){this.start=e.start,this.shift=e.shift||cy,this.reduce=e.reduce||cy,this.reuse=e.reuse||cy,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Tl extends QA{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let l=0;l<e.repeatNodeCount;l++)n.push("");let r=Object.keys(e.topRules).map(l=>e.topRules[l][1]),i=[];for(let l=0;l<n.length;l++)i.push([]);function s(l,u,f){i[l].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let l of e.nodeProps){let u=l[0];typeof u=="string"&&(u=Ne[u]);for(let f=1;f<l.length;){let d=l[f++];if(d>=0)s(d,u,l[f++]);else{let m=l[f+-d];for(let g=-d;g>0;g--)s(l[f++],u,m);f++}}}this.nodeSet=new yw(n.map((l,u)=>gn.define({name:u>=this.minRepeatTerm?void 0:l,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=_A;let a=iu(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(qR),this.states=iu(e.states,Uint32Array),this.data=iu(e.stateData),this.goto=iu(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Ol(a,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new UK(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let a=i[s++],l=a&1,u=i[s++];if(l&&r)return u;for(let f=s+(a>>1);s<f;s++)if(i[s]==e)return u;if(l)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=Ui(r,s+2)];else{if(r[s+1]==2)return Ui(r,s+2);break}if(a==n||a==0)return Ui(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ui(this.data,s+2);else break;i=n(Ui(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ui(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,a)=>a&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Tl.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(l=>l.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=qR(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let a=n.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let a=this.dialects[n[s]],l;(l=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new YK(e,r,i)}static deserialize(e){return new Tl(e)}}function Ui(t,e){return t[e]|t[e+1]<<16}function GK(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function qR(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const FK=55,WK=1,HK=56,KK=2,JK=57,eJ=3,UR=4,tJ=5,Zw=6,sM=7,oM=8,aM=9,lM=10,nJ=11,rJ=12,iJ=13,uy=58,sJ=14,oJ=15,YR=59,cM=21,aJ=23,uM=24,lJ=25,q0=27,hM=28,cJ=29,uJ=32,hJ=35,fJ=37,dJ=38,pJ=0,mJ=1,gJ={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},OJ={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},GR={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function vJ(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let FR=null,WR=null,HR=0;function U0(t,e){let n=t.pos+e;if(HR==n&&WR==t)return FR;let r=t.peek(e),i="";for(;vJ(r);)i+=String.fromCharCode(r),r=t.peek(++e);return WR=t,HR=n,FR=i?i.toLowerCase():r==yJ||r==bJ?void 0:null}const fM=60,Ep=62,Vw=47,yJ=63,bJ=33,wJ=45;function KR(t,e){this.name=t,this.parent=e}const xJ=[Zw,lM,sM,oM,aM],SJ=new iM({start:null,shift(t,e,n,r){return xJ.indexOf(e)>-1?new KR(U0(r,1)||"",t):t},reduce(t,e){return e==cM&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==Zw||i==fJ?new KR(U0(r,1)||"",t):t},strict:!1}),CJ=new ar((t,e)=>{if(t.next!=fM){t.next<0&&e.context&&t.acceptToken(uy);return}t.advance();let n=t.next==Vw;n&&t.advance();let r=U0(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?oJ:sJ);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(nJ);if(i&&OJ[i])return t.acceptToken(uy,-2);if(e.dialectEnabled(pJ))return t.acceptToken(rJ);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(iJ)}else{if(r=="script")return t.acceptToken(sM);if(r=="style")return t.acceptToken(oM);if(r=="textarea")return t.acceptToken(aM);if(gJ.hasOwnProperty(r))return t.acceptToken(lM);i&&GR[i]&&GR[i][r]?t.acceptToken(uy,-1):t.acceptToken(Zw)}},{contextual:!0}),_J=new ar(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(YR);break}if(t.next==wJ)e++;else if(t.next==Ep&&e>=2){n>=3&&t.acceptToken(YR,-2);break}else e=0;t.advance()}});function kJ(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const TJ=new ar((t,e)=>{if(t.next==Vw&&t.peek(1)==Ep){let n=e.dialectEnabled(mJ)||kJ(e.context);t.acceptToken(n?tJ:UR,2)}else t.next==Ep&&t.acceptToken(UR,1)});function Bw(t,e,n){let r=2+t.length;return new ar(i=>{for(let s=0,a=0,l=0;;l++){if(i.next<0){l&&i.acceptToken(e);break}if(s==0&&i.next==fM||s==1&&i.next==Vw||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,a++;else if(s==r&&i.next==Ep){l>a?i.acceptToken(e,-a):i.acceptToken(n,-(a-2));break}else if((i.next==10||i.next==13)&&l){i.acceptToken(e,1);break}else s=a=0;i.advance()}})}const RJ=Bw("script",FK,WK),EJ=Bw("style",HK,KK),QJ=Bw("textarea",JK,eJ),PJ=fm({"Text RawText IncompleteTag IncompleteCloseTag":j.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":j.angleBracket,TagName:j.tagName,"MismatchedCloseTag/TagName":[j.tagName,j.invalid],AttributeName:j.attributeName,"AttributeValue UnquotedAttributeValue":j.attributeValue,Is:j.definitionOperator,"EntityReference CharacterReference":j.character,Comment:j.blockComment,ProcessingInst:j.processingInstruction,DoctypeDecl:j.documentMeta}),AJ=Tl.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:SJ,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[PJ],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[RJ,EJ,QJ,TJ,CJ,_J,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function dM(t,e){let n=Object.create(null);for(let r of t.getChildren(uM)){let i=r.getChild(lJ),s=r.getChild(q0)||r.getChild(hM);i&&(n[e.read(i.from,i.to)]=s?s.type.id==q0?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function JR(t,e){let n=t.getChild(aJ);return n?e.read(n.from,n.to):" "}function hy(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=dM(t.node.parent.firstChild,e))))return{parser:i.parser,bracketed:!0};return null}function pM(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let l of t)(l.tag=="script"?n:l.tag=="style"?r:l.tag=="textarea"?i:s).push(l);let a=e.length?Object.create(null):null;for(let l of e)(a[l.name]||(a[l.name]=[])).push(l);return wG((l,u)=>{let f=l.type.id;if(f==cJ)return hy(l,u,n);if(f==uJ)return hy(l,u,r);if(f==hJ)return hy(l,u,i);if(f==cM&&s.length){let d=l.node,m=d.firstChild,g=m&&JR(m,u),O;if(g){for(let x of s)if(x.tag==g&&(!x.attrs||x.attrs(O||(O=dM(m,u))))){let S=d.lastChild,C=S.type.id==dJ?S.from:d.to;if(C>m.to)return{parser:x.parser,overlay:[{from:m.to,to:C}]}}}}if(a&&f==uM){let d=l.node,m;if(m=d.firstChild){let g=a[u.read(m.from,m.to)];if(g)for(let O of g){if(O.tagName&&O.tagName!=JR(d.parent,u))continue;let x=d.lastChild;if(x.type.id==q0){let S=x.from+1,C=x.lastChild,k=x.to-(C&&C.isError?0:1);if(k>S)return{parser:O.parser,overlay:[{from:S,to:k}],bracketed:!0}}else if(x.type.id==hM)return{parser:O.parser,overlay:[{from:x.from,to:x.to}]}}}}return null})}const $J=122,eE=1,MJ=123,jJ=124,mM=2,NJ=125,DJ=3,zJ=4,gM=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],LJ=58,IJ=40,OM=95,XJ=91,Zd=45,ZJ=46,VJ=35,BJ=37,qJ=38,UJ=92,YJ=10,GJ=42;function Gu(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function qw(t){return t>=48&&t<=57}function tE(t){return qw(t)||t>=97&&t<=102||t>=65&&t<=70}const vM=(t,e,n)=>(r,i)=>{for(let s=!1,a=0,l=0;;l++){let{next:u}=r;if(Gu(u)||u==Zd||u==OM||s&&qw(u))!s&&(u!=Zd||l>0)&&(s=!0),a===l&&u==Zd&&a++,r.advance();else if(u==UJ&&r.peek(1)!=YJ){if(r.advance(),tE(r.next)){do r.advance();while(tE(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(a==2&&i.canShift(mM)?e:u==IJ?n:t);break}}},FJ=new ar(vM(MJ,mM,jJ)),WJ=new ar(vM(NJ,DJ,zJ)),HJ=new ar(t=>{if(gM.includes(t.peek(-1))){let{next:e}=t;(Gu(e)||e==OM||e==VJ||e==ZJ||e==GJ||e==XJ||e==LJ&&Gu(t.peek(1))||e==Zd||e==qJ)&&t.acceptToken($J)}}),KJ=new ar(t=>{if(!gM.includes(t.peek(-1))){let{next:e}=t;if(e==BJ&&(t.advance(),t.acceptToken(eE)),Gu(e)){do t.advance();while(Gu(t.next)||qw(t.next));t.acceptToken(eE)}}}),JJ=fm({"AtKeyword import charset namespace keyframes media supports":j.definitionKeyword,"from to selector":j.keyword,NamespaceName:j.namespace,KeyframeName:j.labelName,KeyframeRangeName:j.operatorKeyword,TagName:j.tagName,ClassName:j.className,PseudoClassName:j.constant(j.className),IdName:j.labelName,"FeatureName PropertyName":j.propertyName,AttributeName:j.attributeName,NumberLiteral:j.number,KeywordQuery:j.keyword,UnaryQueryOp:j.operatorKeyword,"CallTag ValueName":j.atom,VariableName:j.variableName,Callee:j.operatorKeyword,Unit:j.unit,"UniversalSelector NestingSelector":j.definitionOperator,"MatchOp CompareOp":j.compareOperator,"ChildOp SiblingOp, LogicOp":j.logicOperator,BinOp:j.arithmeticOperator,Important:j.modifier,Comment:j.blockComment,ColorLiteral:j.color,"ParenthesizedContent StringLiteral":j.string,":":j.punctuation,"PseudoOp #":j.derefOperator,"; ,":j.separator,"( )":j.paren,"[ ]":j.squareBracket,"{ }":j.brace}),eee={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},tee={__proto__:null,or:98,and:98,not:106,only:106,layer:170},nee={__proto__:null,selector:112,layer:166},ree={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},iee={__proto__:null,to:207},see=Tl.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[JJ],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[HJ,KJ,FJ,WJ,1,2,3,4,new Rp("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},dynamicPrecedences:{76:1},specialized:[{term:124,get:t=>eee[t]||-1},{term:125,get:t=>tee[t]||-1},{term:4,get:t=>nee[t]||-1},{term:25,get:t=>ree[t]||-1},{term:123,get:t=>iee[t]||-1}],tokenPrec:1963});let fy=null;function dy(){if(!fy&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));fy=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return fy||[]}const nE=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),rE=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),oee=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),aee=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Zi=/^(\w[\w-]*|-\w[\w-]*|)$/,lee=/^-(-[\w-]*)?$/;function cee(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const iE=new EA,uee=["Declaration"];function hee(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function yM(t,e,n){if(e.to-e.from>4096){let r=iE.get(e);if(r)return r;let i=[],s=new Set,a=e.cursor(Ke.IncludeAnonymous);if(a.firstChild())do for(let l of yM(t,a.node,n))s.has(l.label)||(s.add(l.label),i.push(l));while(a.nextSibling());return iE.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var a;if(n(s)&&s.matchContext(uee)&&((a=s.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let l=t.sliceString(s.from,s.to);i.has(l)||(i.add(l),r.push({label:l,type:"variable"}))}}),r}}const fee=t=>e=>{let{state:n,pos:r}=e,i=kt(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:dy(),validFor:Zi};if(i.name=="ValueName")return{from:i.from,options:rE,validFor:Zi};if(i.name=="PseudoClassName")return{from:i.from,options:nE,validFor:Zi};if(t(i)||(e.explicit||s)&&cee(i,n.doc))return{from:t(i)||s?i.from:r,options:yM(n.doc,hee(i),t),validFor:lee};if(i.name=="TagName"){for(let{parent:u}=i;u;u=u.parent)if(u.name=="Block")return{from:i.from,options:dy(),validFor:Zi};return{from:i.from,options:oee,validFor:Zi}}if(i.name=="AtKeyword")return{from:i.from,options:aee,validFor:Zi};if(!e.explicit)return null;let a=i.resolve(r),l=a.childBefore(r);return l&&l.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:nE,validFor:Zi}:l&&l.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:rE,validFor:Zi}:a.name=="Block"||a.name=="Styles"?{from:r,options:dy(),validFor:Zi}:null},dee=fee(t=>t.name=="VariableName"),Qp=Cl.define({name:"css",parser:see.configure({props:[pm.add({Declaration:Ld()}),mm.add({"Block KeyframeList":DA})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function pee(){return new Cw(Qp,Qp.data.of({autocomplete:dee}))}const mee=316,gee=317,sE=1,Oee=2,vee=3,yee=4,bee=318,wee=320,xee=321,See=5,Cee=6,_ee=0,Y0=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],bM=125,kee=59,G0=47,Tee=42,Ree=43,Eee=45,Qee=60,Pee=44,Aee=63,$ee=46,Mee=91,jee=new iM({start:!1,shift(t,e){return e==See||e==Cee||e==wee?t:e==xee},strict:!1}),Nee=new ar((t,e)=>{let{next:n}=t;(n==bM||n==-1||e.context)&&t.acceptToken(bee)},{contextual:!0,fallback:!0}),Dee=new ar((t,e)=>{let{next:n}=t,r;Y0.indexOf(n)>-1||n==G0&&((r=t.peek(1))==G0||r==Tee)||n!=bM&&n!=kee&&n!=-1&&!e.context&&t.acceptToken(mee)},{contextual:!0}),zee=new ar((t,e)=>{t.next==Mee&&!e.context&&t.acceptToken(gee)},{contextual:!0}),Lee=new ar((t,e)=>{let{next:n}=t;if(n==Ree||n==Eee){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(sE);t.acceptToken(r?sE:Oee)}}else n==Aee&&t.peek(1)==$ee&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(vee))},{contextual:!0});function py(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const Iee=new ar((t,e)=>{if(t.next!=Qee||!e.dialectEnabled(_ee)||(t.advance(),t.next==G0))return;let n=0;for(;Y0.indexOf(t.next)>-1;)t.advance(),n++;if(py(t.next,!0)){for(t.advance(),n++;py(t.next,!1);)t.advance(),n++;for(;Y0.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==Pee)return;for(let r=0;;r++){if(r==7){if(!py(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(yee,-n)}),Xee=fm({"get set async static":j.modifier,"for while do if else switch try catch finally return throw break continue default case defer":j.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":j.operatorKeyword,"let var const using function class extends":j.definitionKeyword,"import export from":j.moduleKeyword,"with debugger new":j.keyword,TemplateString:j.special(j.string),super:j.atom,BooleanLiteral:j.bool,this:j.self,null:j.null,Star:j.modifier,VariableName:j.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":j.function(j.variableName),VariableDefinition:j.definition(j.variableName),Label:j.labelName,PropertyName:j.propertyName,PrivatePropertyName:j.special(j.propertyName),"CallExpression/MemberExpression/PropertyName":j.function(j.propertyName),"FunctionDeclaration/VariableDefinition":j.function(j.definition(j.variableName)),"ClassDeclaration/VariableDefinition":j.definition(j.className),"NewExpression/VariableName":j.className,PropertyDefinition:j.definition(j.propertyName),PrivatePropertyDefinition:j.definition(j.special(j.propertyName)),UpdateOp:j.updateOperator,"LineComment Hashbang":j.lineComment,BlockComment:j.blockComment,Number:j.number,String:j.string,Escape:j.escape,ArithOp:j.arithmeticOperator,LogicOp:j.logicOperator,BitOp:j.bitwiseOperator,CompareOp:j.compareOperator,RegExp:j.regexp,Equals:j.definitionOperator,Arrow:j.function(j.punctuation),": Spread":j.punctuation,"( )":j.paren,"[ ]":j.squareBracket,"{ }":j.brace,"InterpolationStart InterpolationEnd":j.special(j.brace),".":j.derefOperator,", ;":j.separator,"@":j.meta,TypeName:j.typeName,TypeDefinition:j.definition(j.typeName),"type enum interface implements namespace module declare":j.definitionKeyword,"abstract global Privacy readonly override":j.modifier,"is keyof unique infer asserts":j.operatorKeyword,JSXAttributeValue:j.attributeValue,JSXText:j.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":j.angleBracket,"JSXIdentifier JSXNameSpacedName":j.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":j.attributeName,"JSXBuiltin/JSXIdentifier":j.standard(j.tagName)}),Zee={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},Vee={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},Bee={__proto__:null,"<":193},qee=Tl.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:jee,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[Xee],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Dee,zee,Lee,Iee,2,3,4,5,6,7,8,9,10,11,12,13,14,Nee,new Rp("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new Rp("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>Zee[t]||-1},{term:343,get:t=>Vee[t]||-1},{term:95,get:t=>Bee[t]||-1}],tokenPrec:15201}),wM=[kn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),kn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),kn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),kn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),kn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),kn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),kn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),kn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),kn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),kn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),kn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Uee=wM.concat([kn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),kn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),kn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),oE=new EA,xM=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Hc(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const Yee=["FunctionDeclaration"],Gee={FunctionDeclaration:Hc("function"),ClassDeclaration:Hc("class"),ClassExpression:()=>!0,EnumDeclaration:Hc("constant"),TypeAliasDeclaration:Hc("type"),NamespaceDeclaration:Hc("namespace"),VariableDefinition(t,e){t.matchContext(Yee)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function SM(t,e){let n=oE.get(e);if(n)return n;let r=[],i=!0;function s(a,l){let u=t.sliceString(a.from,a.to);r.push({label:u,type:l})}return e.cursor(Ke.IncludeAnonymous).iterate(a=>{if(i)i=!1;else if(a.name){let l=Gee[a.name];if(l&&l(a,s)||xM.has(a.name))return!1}else if(a.to-a.from>8192){for(let l of SM(t,a.node))r.push(l);return!1}}),oE.set(e,r),r}const aE=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,CM=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Fee(t){let e=kt(t.state).resolveInner(t.pos,-1);if(CM.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&aE.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)xM.has(i.name)&&(r=r.concat(SM(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:aE}}const mi=Cl.define({name:"javascript",parser:qee.configure({props:[pm.add({IfStatement:Ld({except:/^\s*({|else\b)/}),TryStatement:Ld({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:UG,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:qG({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Ld({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),mm.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":DA,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),_M={test:t=>/^JSX/.test(t.name),facet:$A({commentTokens:{block:{open:"{/*",close:"*/}"}}})},kM=mi.configure({dialect:"ts"},"typescript"),TM=mi.configure({dialect:"jsx",props:[Sw.add(t=>t.isTop?[_M]:void 0)]}),RM=mi.configure({dialect:"jsx ts",props:[Sw.add(t=>t.isTop?[_M]:void 0)]},"typescript");let EM=t=>({label:t,type:"keyword"});const QM="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(EM),Wee=QM.concat(["declare","implements","private","protected","public"].map(EM));function Hee(t={}){let e=t.jsx?t.typescript?RM:TM:t.typescript?kM:mi,n=t.typescript?Uee.concat(Wee):wM.concat(QM);return new Cw(e,[mi.data.of({autocomplete:dH(CM,I$(n))}),mi.data.of({autocomplete:Fee}),t.jsx?ete:[]])}function Kee(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function lE(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const Jee=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ete=pe.inputHandler.of((t,e,n,r,i)=>{if((Jee?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!mi.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:a}=s,l=a.changeByRange(u=>{var f;let{head:d}=u,m=kt(a).resolveInner(d-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(a.doc.sliceString(d-1,d)!=r||m.name=="JSXAttributeValue"&&m.to>d)){if(r==">"&&m.name=="JSXFragmentTag")return{range:u,changes:{from:d,insert:"</>"}};if(r=="/"&&m.name=="JSXStartCloseTag"){let O=m.parent,x=O.parent;if(x&&O.from==d-2&&((g=lE(a.doc,x.firstChild,d))||((f=x.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let S=`${g}>`;return{range:ne.cursor(d+S.length,-1),changes:{from:d,insert:S}}}}else if(r==">"){let O=Kee(m);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(d,d+2))&&(g=lE(a.doc,O,d)))return{range:u,changes:{from:d,insert:`</${g}>`}}}}return{range:u}});return l.changes.empty?!1:(t.dispatch([s,a.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Kc=["_blank","_self","_top","_parent"],my=["ascii","utf-8","utf-16","latin1","latin1"],gy=["get","post","put","delete"],Oy=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Gn=["true","false"],be={},tte={a:{attrs:{href:null,ping:null,type:null,media:null,target:Kc,hreflang:null}},abbr:be,address:be,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:be,aside:be,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:be,base:{attrs:{href:null,target:Kc}},bdi:be,bdo:be,blockquote:{attrs:{cite:null}},body:be,br:be,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Oy,formmethod:gy,formnovalidate:["novalidate"],formtarget:Kc,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:be,center:be,cite:be,code:be,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:be,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:be,div:be,dl:be,dt:be,em:be,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:be,figure:be,footer:be,form:{attrs:{action:null,name:null,"accept-charset":my,autocomplete:["on","off"],enctype:Oy,method:gy,novalidate:["novalidate"],target:Kc}},h1:be,h2:be,h3:be,h4:be,h5:be,h6:be,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:be,hgroup:be,hr:be,html:{attrs:{manifest:null}},i:be,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Oy,formmethod:gy,formnovalidate:["novalidate"],formtarget:Kc,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:be,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:be,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:be,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:my,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:be,noscript:be,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:be,param:{attrs:{name:null,value:null}},pre:be,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:be,rt:be,ruby:be,samp:be,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:my}},section:be,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:be,source:{attrs:{src:null,type:null,media:null}},span:be,strong:be,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:be,summary:be,sup:be,table:be,tbody:be,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:be,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:be,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:be,time:{attrs:{datetime:null}},title:be,tr:be,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:be,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:be},PM={accesskey:null,class:null,contenteditable:Gn,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Gn,autocorrect:Gn,autocapitalize:Gn,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Gn,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Gn,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Gn,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Gn,"aria-hidden":Gn,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Gn,"aria-multiselectable":Gn,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Gn,"aria-relevant":null,"aria-required":Gn,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},AM="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of AM)PM[t]=null;class Pp{constructor(e,n){this.tags={...tte,...e},this.globalAttrs={...PM,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Pp.default=new Pp;function Rl(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function El(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function $M(t,e,n){let r=n.tags[Rl(t,El(e))];return r?.children||n.allTags}function Uw(t,e){let n=[];for(let r=El(e);r&&!r.type.isTop;r=El(r.parent)){let i=Rl(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const MM=/^[:\-\.\w\u00b7-\uffff]*$/;function cE(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",a=El(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:i,options:$M(t.doc,a,e).map(l=>({label:l,type:"type"})).concat(Uw(t.doc,n).map((l,u)=>({label:"/"+l,apply:"/"+l+s,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function uE(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:Uw(t.doc,e).map((s,a)=>({label:s,apply:s+i,type:"type",boost:99-a})),validFor:MM}}function nte(t,e,n,r){let i=[],s=0;for(let a of $M(t.doc,n,e))i.push({label:"<"+a,type:"type"});for(let a of Uw(t.doc,n))i.push({label:"</"+a+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function rte(t,e,n,r,i){let s=El(n),a=s?e.tags[Rl(t.doc,s)]:null,l=a&&a.attrs?Object.keys(a.attrs):[],u=a&&a.globalAttrs===!1?l:l.length?l.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:u.map(f=>({label:f,type:"property"})),validFor:MM}}function ite(t,e,n,r,i){var s;let a=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),l=[],u;if(a){let f=t.sliceDoc(a.from,a.to),d=e.globalAttrs[f];if(!d){let m=El(n),g=m?e.tags[Rl(t.doc,m)]:null;d=g?.attrs&&g.attrs[f]}if(d){let m=t.sliceDoc(r,i).toLowerCase(),g='"',O='"';/^['"]/.test(m)?(u=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",O=t.sliceDoc(i,i+1)==m[0]?"":m[0],m=m.slice(1),r++):u=/^[^\s<>='"]*$/;for(let x of d)l.push({label:x,apply:g+x+O,type:"constant"})}}return{from:r,to:i,options:l,validFor:u}}function ste(t,e){let{state:n,pos:r}=e,i=kt(n).resolveInner(r,-1),s=i.resolve(r);for(let a=r,l;s==i&&(l=i.childBefore(a));){let u=l.lastChild;if(!u||!u.type.isError||u.from<u.to)break;s=i=l,a=u.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?uE(n,i,i.from,r):cE(n,t,i,i.from,r):i.name=="StartTag"||i.name=="IncompleteTag"?cE(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?uE(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?rte(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?ite(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?nte(n,t,i,r):null}function ote(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Pp(e,n):Pp.default;return i=>ste(r,i)}const ate=mi.parser.configure({top:"SingleExpression"}),jM=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:kM.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:TM.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:RM.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:ate},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:mi.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Qp.parser}],NM=[{name:"style",parser:Qp.parser.configure({top:"Styles"})}].concat(AM.map(t=>({name:t,parser:mi.parser}))),DM=Cl.define({name:"html",parser:AJ.configure({props:[pm.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),mm.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),WA.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),Vd=DM.configure({wrap:pM(jM,NM)});function lte(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=pM((t.nestedLanguages||[]).concat(jM),(t.nestedAttributes||[]).concat(NM)));let r=n?DM.configure({wrap:n,dialect:e}):e?Vd.configure({dialect:e}):Vd;return new Cw(r,[Vd.data.of({autocomplete:ote(t)}),t.autoCloseTags!==!1?cte:[],Hee().support,pee().support])}const hE=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),cte=pe.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Vd.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:a}=s,l=a.changeByRange(u=>{var f,d,m;let g=a.doc.sliceString(u.from-1,u.to)==r,{head:O}=u,x=kt(a).resolveInner(O,-1),S;if(g&&r==">"&&x.name=="EndTag"){let C=x.parent;if(((d=(f=C.parent)===null||f===void 0?void 0:f.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(S=Rl(a.doc,C.parent,O))&&!hE.has(S)){let k=O+(a.doc.sliceString(O,O+1)===">"?1:0),T=`</${S}>`;return{range:u,changes:{from:O,to:k,insert:T}}}}else if(g&&r=="/"&&x.name=="IncompleteCloseTag"){let C=x.parent;if(x.from==O-2&&((m=C.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(S=Rl(a.doc,C,O))&&!hE.has(S)){let k=O+(a.doc.sliceString(O,O+1)===">"?1:0),T=`${S}>`;return{range:ne.cursor(O+T.length,-1),changes:{from:O,to:k,insert:T}}}}return{range:u}});return l.changes.empty?!1:(t.dispatch([s,a.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),zM="default";async function LM(){const{data:t,error:e}=await kr.from("lover_cv_templates").select("id, name, html_content, created_at, updated_at").eq("name",zM).maybeSingle();if(e)throw new Error(e.message);return t}async function ute(t){const{data:e,error:n}=await kr.from("lover_cv_templates").upsert({name:zM,html_content:t},{onConflict:"name"}).select("id, name, html_content, created_at, updated_at").single();if(n)throw new Error(n.message);return e}function fE(t,e){const n=new Map;for(const s of e)n.set(s.question_id,s.label);const r=new Map;for(const s of t){if(!s.value_text)continue;const a=r.get(s.question_id);a?a.push(s.value_text):r.set(s.question_id,[s.value_text])}const i={};for(const[s,a]of r){const l=n.get(s);l&&(i[l]=a.join(", "))}return i}function hte(t,e){return t.replace(/\{\{(.+?)\}\}/g,(n,r)=>{const i=r.trim();return i in e?e[i]:n})}function fte(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState([]),[a,l]=w.useState(!0),[u,f]=w.useState(null),d=w.useRef(null),m=t!==n;w.useEffect(()=>{let x=!0;return Promise.all([LM(),kb()]).then(([S,C])=>{x&&(S&&(e(S.html_content),r(S.html_content)),s(C))}).catch(S=>{x&&f({title:"Erreur de chargement",description:S instanceof Error?S.message:String(S),variant:"error"})}).finally(()=>{x&&l(!1)}),()=>{x=!1}},[]);const g=Jn({mutationFn:()=>ute(t),onSuccess:()=>{r(t),f({title:"Template sauvegard",description:"Le template a t enregistr.",variant:"success"})},onError:x=>{f({title:"Erreur de sauvegarde",description:x.message,variant:"error"})}}),O=w.useCallback(()=>{if(!d.current)return;const x={};for(const k of i)x[k.label]=`[${k.label}]`;const S=hte(t,x),C=d.current.contentDocument;C&&(C.open(),C.write(S),C.close())},[t,i]);return w.useEffect(()=>{const x=setTimeout(O,300);return()=>clearTimeout(x)},[O]),w.useEffect(()=>{if(!u)return;const x=setTimeout(()=>f(null),4200);return()=>clearTimeout(x)},[u]),a?y.jsx("div",{className:"flex flex-1 items-center justify-center",children:y.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement du template..."})}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex flex-1 flex-col gap-4 px-4 lg:px-6",children:y.jsxs(en,{className:"flex min-h-0 flex-1 flex-col",children:[y.jsx(Tn,{className:"pb-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(Hn,{className:"text-2xl",children:"Template Lover CV"}),y.jsxs(yr,{children:["Editez le template HTML. Utilisez ","{{NomDuChamp}}"," pour les placeholders."]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[m&&y.jsx(Vs,{variant:"outline",className:"border-amber-300 text-amber-600",children:"Non sauvegard"}),y.jsxs(Fe,{size:"sm",onClick:()=>g.mutate(),disabled:g.isPending||!m,className:"gap-2",children:[y.jsx(HZ,{className:"size-4"}),g.isPending?"Sauvegarde...":"Sauvegarder"]})]})]})}),y.jsxs(rr,{className:"flex min-h-0 flex-1 flex-col gap-3",children:[i.length>0&&y.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[y.jsx("span",{className:"mr-1 text-xs font-medium text-muted-foreground",children:"Placeholders :"}),i.map(x=>y.jsx(Vs,{variant:"secondary",className:"cursor-pointer font-mono text-xs",onClick:()=>{navigator.clipboard.writeText(`{{${x.label}}}`),f({title:"Copi",description:`{{${x.label}}} copi dans le presse-papier.`,variant:"info"})},children:`{{${x.label}}}`},x.question_id))]}),y.jsxs("div",{className:"grid max-h-[70vh] min-h-0 flex-1 grid-cols-1 gap-4 lg:grid-cols-2",children:[y.jsx("div",{className:"min-h-0 overflow-hidden rounded-lg border",children:y.jsx(nM,{value:t,onChange:e,extensions:[lte()],theme:tM,height:"100%",className:"h-full [&_.cm-editor]:h-full [&_.cm-scroller]:!overflow-auto"})}),y.jsx("div",{className:"min-h-0 overflow-auto rounded-lg border bg-white",children:y.jsx("iframe",{ref:d,title:"Aperu Lover CV",className:"min-h-full w-full",style:{height:"900px"},sandbox:"allow-same-origin allow-scripts"})})]})]})]})}),u?Fi.createPortal(y.jsx("div",{className:"fixed right-6 top-16 z-50 flex w-full max-w-sm flex-col gap-3",children:y.jsx(Vp,{title:u.title,description:u.description,variant:u.variant,onClose:()=>f(null)})}),document.body):null]})}var dte=w.createContext(void 0);function Yw(t){const e=w.useContext(dte);return t||e||"ltr"}function pte(t,[e,n]){return Math.min(n,Math.max(e,t))}function mte(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Gw="ScrollArea",[IM]=os(Gw),[gte,Qr]=IM(Gw),XM=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[l,u]=w.useState(null),[f,d]=w.useState(null),[m,g]=w.useState(null),[O,x]=w.useState(null),[S,C]=w.useState(null),[k,T]=w.useState(0),[R,Q]=w.useState(0),[A,$]=w.useState(!1),[P,Z]=w.useState(!1),B=ut(e,re=>u(re)),ee=Yw(i);return y.jsx(gte,{scope:n,type:r,dir:ee,scrollHideDelay:s,scrollArea:l,viewport:f,onViewportChange:d,content:m,onContentChange:g,scrollbarX:O,onScrollbarXChange:x,scrollbarXEnabled:A,onScrollbarXEnabledChange:$,scrollbarY:S,onScrollbarYChange:C,scrollbarYEnabled:P,onScrollbarYEnabledChange:Z,onCornerWidthChange:T,onCornerHeightChange:Q,children:y.jsx(nt.div,{dir:ee,...a,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":R+"px",...t.style}})})});XM.displayName=Gw;var ZM="ScrollAreaViewport",VM=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Qr(ZM,n),l=w.useRef(null),u=ut(e,l,a.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:y.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});VM.displayName=ZM;var wi="ScrollAreaScrollbar",Fw=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qr(wi,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=t.orientation==="horizontal";return w.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?y.jsx(Ote,{...r,ref:e,forceMount:n}):i.type==="scroll"?y.jsx(vte,{...r,ref:e,forceMount:n}):i.type==="auto"?y.jsx(BM,{...r,ref:e,forceMount:n}):i.type==="always"?y.jsx(Ww,{...r,ref:e}):null});Fw.displayName=wi;var Ote=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qr(wi,t.__scopeScrollArea),[s,a]=w.useState(!1);return w.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const f=()=>{window.clearTimeout(u),a(!0)},d=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(On,{present:n||s,children:y.jsx(BM,{"data-state":s?"visible":"hidden",...r,ref:e})})}),vte=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Qr(wi,t.__scopeScrollArea),s=t.orientation==="horizontal",a=Sm(()=>u("SCROLL_END"),100),[l,u]=mte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,i.scrollHideDelay,u]),w.useEffect(()=>{const f=i.viewport,d=s?"scrollLeft":"scrollTop";if(f){let m=f[d];const g=()=>{const O=f[d];m!==O&&(u("SCROLL"),a()),m=O};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,s,u,a]),y.jsx(On,{present:n||l!=="hidden",children:y.jsx(Ww,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Se(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Se(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),BM=w.forwardRef((t,e)=>{const n=Qr(wi,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=w.useState(!1),l=t.orientation==="horizontal",u=Sm(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?f:d)}},10);return Ql(n.viewport,u),Ql(n.content,u),y.jsx(On,{present:r||s,children:y.jsx(Ww,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Ww=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Qr(wi,t.__scopeScrollArea),s=w.useRef(null),a=w.useRef(0),[l,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=FM(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function m(g,O){return Cte(g,a.current,l,O)}return n==="horizontal"?y.jsx(yte,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,O=dE(g,l,i.dir);s.current.style.transform=`translate3d(${O}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):n==="vertical"?y.jsx(bte,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,O=dE(g,l);s.current.style.transform=`translate3d(0, ${O}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),yte=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Qr(wi,t.__scopeScrollArea),[a,l]=w.useState(),u=w.useRef(null),f=ut(e,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),y.jsx(UM,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xm(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(g),HM(g,m)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:$p(a.paddingLeft),paddingEnd:$p(a.paddingRight)}})}})}),bte=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Qr(wi,t.__scopeScrollArea),[a,l]=w.useState(),u=w.useRef(null),f=ut(e,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),y.jsx(UM,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xm(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(s.viewport){const g=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(g),HM(g,m)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:$p(a.paddingTop),paddingEnd:$p(a.paddingBottom)}})}})}),[wte,qM]=IM(wi),UM=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:m,...g}=t,O=Qr(wi,n),[x,S]=w.useState(null),C=ut(e,B=>S(B)),k=w.useRef(null),T=w.useRef(""),R=O.viewport,Q=r.content-r.viewport,A=un(d),$=un(u),P=Sm(m,10);function Z(B){if(k.current){const ee=B.clientX-k.current.left,re=B.clientY-k.current.top;f({x:ee,y:re})}}return w.useEffect(()=>{const B=ee=>{const re=ee.target;x?.contains(re)&&A(ee,Q)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[R,x,Q,A]),w.useEffect($,[r,$]),Ql(x,P),Ql(O.content,P),y.jsx(wte,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:un(s),onThumbPointerUp:un(a),onThumbPositionChange:$,onThumbPointerDown:un(l),children:y.jsx(nt.div,{...g,ref:C,style:{position:"absolute",...g.style},onPointerDown:Se(t.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),k.current=x.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",O.viewport&&(O.viewport.style.scrollBehavior="auto"),Z(B))}),onPointerMove:Se(t.onPointerMove,Z),onPointerUp:Se(t.onPointerUp,B=>{const ee=B.target;ee.hasPointerCapture(B.pointerId)&&ee.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=T.current,O.viewport&&(O.viewport.style.scrollBehavior=""),k.current=null})})})}),Ap="ScrollAreaThumb",YM=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=qM(Ap,t.__scopeScrollArea);return y.jsx(On,{present:n||i.hasThumb,children:y.jsx(xte,{ref:e,...r})})}),xte=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Qr(Ap,n),a=qM(Ap,n),{onThumbPositionChange:l}=a,u=ut(e,m=>a.onThumbChange(m)),f=w.useRef(void 0),d=Sm(()=>{f.current&&(f.current(),f.current=void 0)},100);return w.useEffect(()=>{const m=s.viewport;if(m){const g=()=>{if(d(),!f.current){const O=_te(m,l);f.current=O,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[s.viewport,d,l]),y.jsx(nt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Se(t.onPointerDownCapture,m=>{const O=m.target.getBoundingClientRect(),x=m.clientX-O.left,S=m.clientY-O.top;a.onThumbPointerDown({x,y:S})}),onPointerUp:Se(t.onPointerUp,a.onThumbPointerUp)})});YM.displayName=Ap;var Hw="ScrollAreaCorner",GM=w.forwardRef((t,e)=>{const n=Qr(Hw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?y.jsx(Ste,{...t,ref:e}):null});GM.displayName=Hw;var Ste=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Qr(Hw,n),[s,a]=w.useState(0),[l,u]=w.useState(0),f=!!(s&&l);return Ql(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),u(d)}),Ql(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),f?y.jsx(nt.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function $p(t){return t?parseInt(t,10):0}function FM(t,e){const n=t/e;return isNaN(n)?0:n}function xm(t){const e=FM(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Cte(t,e,n,r="ltr"){const i=xm(n),s=i/2,a=e||s,l=i-a,u=n.scrollbar.paddingStart+a,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,m=r==="ltr"?[0,d]:[d*-1,0];return WM([u,f],m)(t)}function dE(t,e,n="ltr"){const r=xm(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,l=s-r,u=n==="ltr"?[0,a]:[a*-1,0],f=pte(t,u);return WM([0,a],[0,l])(f)}function WM(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function HM(t,e){return t>0&&t<e}var _te=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Sm(t,e){const n=un(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ql(t,e){const n=un(e);Ji(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var KM=XM,kte=VM,Tte=GM;const JM=w.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(KM,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[y.jsx(kte,{className:"h-full w-full rounded-[inherit]",children:e}),y.jsx(ej,{}),y.jsx(Tte,{})]}));JM.displayName=KM.displayName;const ej=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>y.jsx(Fw,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:y.jsx(YM,{className:"relative flex-1 rounded-full bg-border"})}));ej.displayName=Fw.displayName;async function Rte(t){const r=await fetch("https://ixwaprjprfcmxlyphsau.supabase.co/functions/v1/generate-lover-cv",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4d2FwcmpwcmZjbXhseXBoc2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNDAyNDcsImV4cCI6MjA4NzYxNjI0N30.CJsKHJwfp8EOV1eIRYTIkBw__I5kBQ3hfNb2SG0km0I"},body:JSON.stringify({answers:t.answers,template_html:t.templateHtml,custom_prompt:t.customPrompt})});if(!r.ok){const s=await r.text();throw new Error(`Generation failed: ${r.status} ${r.statusText}${s?` - ${s}`:""}`)}const i=await r.json();if(!i.ok)throw new Error(i.error||"Generation failed.");return i.html??""}async function Ete(t){const{data:e,error:n}=await kr.from("lover_cv_generations").select("id, submission_id, html_content, custom_prompt, template_name, generated_by, created_at").eq("submission_id",t).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return e??[]}async function Qte(t){const{data:e,error:n}=await kr.from("lover_cv_generations").insert(t).select("id, submission_id, html_content, custom_prompt, template_name, generated_by, created_at").single();if(n)throw new Error(n.message);return e}async function Pte(t){const{error:e}=await kr.from("lover_cv_generations").delete().eq("id",t);if(e)throw new Error(e.message)}function pE(t){if(!t)return"--";const e=new Date(t);return Number.isNaN(e.getTime())?"--":e.toLocaleString("fr-FR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short",year:"numeric"})}function Ate(){const{submissionId:t}=wz(),e=ro(),r=Oi().state??null,[i,s]=w.useState([]),[a,l]=w.useState([]),[u,f]=w.useState([]),[d,m]=w.useState(null),[g,O]=w.useState(!0),[x,S]=w.useState(""),[C,k]=w.useState(!1),[T,R]=w.useState(null),Q=w.useMemo(()=>{if(r?.prenom||r?.nom)return{name:[r.prenom,r.nom].filter(Boolean).join(" "),age:r.age??"",email:r.email??null,phone:r.phone??null};if(i.length>0&&a.length>0){const Z=fE(i,a);return{name:[Z.Prnom,Z.Nom].filter(Boolean).join(" ")||"Candidat",age:Z.ge??Z.Age??"",email:Z.Email??null,phone:Z.Telephone??Z.Tlphone??null}}return{name:"Chargement...",age:"",email:null,phone:null}},[r,i,a]);w.useEffect(()=>{if(!t)return;let Z=!1;async function B(){O(!0);try{const[ee,re,H]=await Promise.all([zy(t),kb(),Ete(t)]);if(Z)return;s(ee),l(re),f(H),H.length>0&&m(H[0])}catch(ee){Z||R(ee instanceof Error?ee.message:String(ee))}finally{Z||O(!1)}}return B(),()=>{Z=!0}},[t]);const A=w.useCallback(async()=>{if(!(!t||C)){k(!0),R(null);try{const Z=await LM();if(!Z){R("Aucun template trouv. Crez-en un dans la page Templates.");return}const B=fE(i,a);Q.email&&(B.Email=Q.email),Q.phone&&(B.Telephone=Q.phone);const ee=await Rte({answers:B,templateHtml:Z.html_content,customPrompt:x||void 0}),re=qs(),H=await Qte({submission_id:t,html_content:ee,custom_prompt:x||null,template_name:Z.name,generated_by:re?.email??null});f(le=>[H,...le]),m(H),S("")}catch(Z){R(Z instanceof Error?Z.message:String(Z))}finally{k(!1)}}},[t,C,i,a,Q,x]),$=w.useCallback(async Z=>{try{await Pte(Z),f(B=>{const ee=B.filter(re=>re.id!==Z);return d?.id===Z&&m(ee[0]??null),ee})}catch(B){R(B instanceof Error?B.message:String(B))}},[d]),P=w.useCallback(()=>{if(!d)return;const Z=window.open("","_blank");Z&&(Z.document.open(),Z.document.write(d.html_content),Z.document.close())},[d]);return y.jsxs("div",{className:"flex h-full flex-col",children:[y.jsxs("div",{className:"flex items-center gap-4 border-b px-4 py-3 lg:px-6",children:[y.jsxs(Fe,{variant:"ghost",size:"sm",onClick:()=>e("/recherche"),className:"gap-1.5",children:[y.jsx(dZ,{className:"size-4"}),"Retour"]}),y.jsx(lh,{orientation:"vertical",className:"h-6"}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-lg font-semibold",children:[Q.name,Q.age?`, ${Q.age} ans`:""]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Lover CV"})]})]}),y.jsxs("div",{className:"flex min-h-0 flex-1 gap-4 p-4 lg:p-6",children:[y.jsxs("div",{className:"flex w-[380px] flex-shrink-0 flex-col gap-4",children:[y.jsxs(en,{children:[y.jsx(Tn,{className:"pb-3",children:y.jsxs(Hn,{className:"flex items-center gap-2 text-base",children:[y.jsx(al,{className:"size-4"}),"Nouvelle gnration"]})}),y.jsxs(rr,{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-1.5",children:[y.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Instructions personnalises (optionnel)"}),y.jsx("textarea",{value:x,onChange:Z=>S(Z.target.value),placeholder:"Ex: Choisis une charte graphique chaleureuse, enrichis le profil avec des dtails romantiques...",rows:4,disabled:C||g,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50"})]}),y.jsx(Fe,{onClick:A,disabled:C||g,className:"w-full gap-2",children:C?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"size-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Gnration en cours..."]}):y.jsxs(y.Fragment,{children:[y.jsx(al,{className:"size-4"}),"Gnrer"]})})]})]}),T&&y.jsx("div",{className:"rounded-lg border border-destructive/30 bg-destructive/5 px-3 py-2 text-sm text-destructive",children:T}),y.jsxs(en,{className:"flex min-h-0 flex-1 flex-col",children:[y.jsx(Tn,{className:"pb-3",children:y.jsxs(Hn,{className:"flex items-center gap-2 text-base",children:[y.jsx(ok,{className:"size-4"}),"Historique",u.length>0&&y.jsxs("span",{className:"ml-auto text-xs font-normal text-muted-foreground",children:[u.length," gnration",u.length>1?"s":""]})]})}),y.jsx(rr,{className:"min-h-0 flex-1 p-0",children:g?y.jsxs("div",{className:"space-y-2 p-4",children:[y.jsx(tt,{className:"h-16 w-full"}),y.jsx(tt,{className:"h-16 w-full"}),y.jsx(tt,{className:"h-16 w-full"})]}):u.length===0?y.jsx("p",{className:"px-4 py-8 text-center text-sm text-muted-foreground",children:"Aucune gnration pour ce profil."}):y.jsx(JM,{className:"h-full",children:y.jsx("div",{className:"space-y-2 p-3",children:u.map(Z=>y.jsxs("button",{type:"button",onClick:()=>m(Z),className:ue("w-full rounded-lg border p-3 text-left transition-colors hover:bg-accent",d?.id===Z.id&&"border-primary bg-primary/5"),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[y.jsx(ok,{className:"size-3"}),pE(Z.created_at)]}),y.jsx("button",{type:"button",onClick:B=>{B.stopPropagation(),$(Z.id)},className:"rounded p-1 text-muted-foreground transition-colors hover:text-destructive",children:y.jsx(iV,{className:"size-3.5"})})]}),y.jsx("p",{className:"mt-1 line-clamp-2 text-sm",children:Z.custom_prompt||"Aucun prompt personnalis"}),Z.generated_by&&y.jsxs("p",{className:"mt-0.5 truncate text-xs text-muted-foreground",children:["par ",Z.generated_by]})]},Z.id))})})})]})]}),y.jsx("div",{className:"flex min-h-0 flex-1 flex-col gap-3",children:d?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Aperu  ",pE(d.created_at)]}),y.jsxs(Fe,{size:"sm",variant:"outline",onClick:P,className:"gap-1.5",children:[y.jsx(kZ,{className:"size-3.5"}),"Ouvrir dans un nouvel onglet"]})]}),y.jsx("div",{className:"min-h-0 flex-1 overflow-hidden rounded-lg border bg-white",children:y.jsx("iframe",{title:"Aperu Lover CV",srcDoc:d.html_content,className:"h-full w-full",sandbox:"allow-same-origin allow-scripts"})})]}):y.jsx("div",{className:"flex flex-1 items-center justify-center rounded-lg border border-dashed",children:y.jsxs("div",{className:"text-center",children:[y.jsx(al,{className:"mx-auto size-12 text-muted-foreground/30"}),y.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:g?"Chargement...":u.length===0?"Gnrez votre premier Lover CV":"Slectionnez une gnration"})]})})})]})]})}function $te({children:t}){return y.jsx("div",{className:"min-h-[100dvh]",children:t})}const vy=768;function Mte(){const[t,e]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${vy-1}px)`),r=()=>{e(window.innerWidth<vy)};return n.addEventListener("change",r),e(window.innerWidth<vy),()=>n.removeEventListener("change",r)},[]),!!t}const jte=u2,Nte=h2,tj=w.forwardRef(({className:t,...e},n)=>y.jsx(Ab,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));tj.displayName=Ab.displayName;const Dte=nh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),nj=w.forwardRef(({side:t="right",className:e,children:n,...r},i)=>y.jsxs(Nte,{children:[y.jsx(tj,{}),y.jsxs($b,{ref:i,className:ue(Dte({side:t}),e),...r,children:[n,y.jsxs(aU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[y.jsx(fV,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nj.displayName=$b.displayName;const rj=({className:t,...e})=>y.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});rj.displayName="SheetHeader";const ij=w.forwardRef(({className:t,...e},n)=>y.jsx(f2,{ref:n,className:ue("text-lg font-semibold text-foreground",t),...e}));ij.displayName=f2.displayName;const sj=w.forwardRef(({className:t,...e},n)=>y.jsx(d2,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));sj.displayName=d2.displayName;var zte=Symbol("radix.slottable");function Lte(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zte,e}var Ite=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xte="VisuallyHidden",oj=w.forwardRef((t,e)=>y.jsx(nt.span,{...t,ref:e,style:{...Ite,...t.style}}));oj.displayName=Xte;var Zte=oj,[Cm]=os("Tooltip",[Il]),_m=Il(),aj="TooltipProvider",Vte=700,F0="tooltip.open",[Bte,Kw]=Cm(aj),lj=t=>{const{__scopeTooltip:e,delayDuration:n=Vte,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=w.useRef(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),y.jsx(Bte,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:s})};lj.displayName=aj;var Fu="Tooltip",[qte,km]=Cm(Fu),cj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=t,u=Kw(Fu,t.__scopeTooltip),f=_m(e),[d,m]=w.useState(null),g=$n(),O=w.useRef(0),x=a??u.disableHoverableContent,S=l??u.delayDuration,C=w.useRef(!1),[k,T]=rh({prop:r,defaultProp:i??!1,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(F0))):u.onClose(),s?.(P)},caller:Fu}),R=w.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),Q=w.useCallback(()=>{window.clearTimeout(O.current),O.current=0,C.current=!1,T(!0)},[T]),A=w.useCallback(()=>{window.clearTimeout(O.current),O.current=0,T(!1)},[T]),$=w.useCallback(()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{C.current=!0,T(!0),O.current=0},S)},[S,T]);return w.useEffect(()=>()=>{O.current&&(window.clearTimeout(O.current),O.current=0)},[]),y.jsx(Gb,{...f,children:y.jsx(qte,{scope:e,contentId:g,open:k,stateAttribute:R,trigger:d,onTriggerChange:m,onTriggerEnter:w.useCallback(()=>{u.isOpenDelayedRef.current?$():Q()},[u.isOpenDelayedRef,$,Q]),onTriggerLeave:w.useCallback(()=>{x?A():(window.clearTimeout(O.current),O.current=0)},[A,x]),onOpen:Q,onClose:A,disableHoverableContent:x,children:n})})};cj.displayName=Fu;var W0="TooltipTrigger",uj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=km(W0,n),s=Kw(W0,n),a=_m(n),l=w.useRef(null),u=ut(e,l,i.onTriggerChange),f=w.useRef(!1),d=w.useRef(!1),m=w.useCallback(()=>f.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),y.jsx(nm,{asChild:!0,...a,children:y.jsx(nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Se(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Se(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Se(t.onBlur,i.onClose),onClick:Se(t.onClick,i.onClose)})})});uj.displayName=W0;var Ute="TooltipPortal",[Eie,Yte]=Cm(Ute,{forceMount:void 0}),Pl="TooltipContent",hj=w.forwardRef((t,e)=>{const n=Yte(Pl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=km(Pl,t.__scopeTooltip);return y.jsx(On,{present:r||a.open,children:a.disableHoverableContent?y.jsx(fj,{side:i,...s,ref:e}):y.jsx(Gte,{side:i,...s,ref:e})})}),Gte=w.forwardRef((t,e)=>{const n=km(Pl,t.__scopeTooltip),r=Kw(Pl,t.__scopeTooltip),i=w.useRef(null),s=ut(e,i),[a,l]=w.useState(null),{trigger:u,onClose:f}=n,d=i.current,{onPointerInTransitChange:m}=r,g=w.useCallback(()=>{l(null),m(!1)},[m]),O=w.useCallback((x,S)=>{const C=x.currentTarget,k={x:x.clientX,y:x.clientY},T=Jte(k,C.getBoundingClientRect()),R=ene(k,T),Q=tne(S.getBoundingClientRect()),A=rne([...R,...Q]);l(A),m(!0)},[m]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(u&&d){const x=C=>O(C,d),S=C=>O(C,u);return u.addEventListener("pointerleave",x),d.addEventListener("pointerleave",S),()=>{u.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",S)}}},[u,d,O,g]),w.useEffect(()=>{if(a){const x=S=>{const C=S.target,k={x:S.clientX,y:S.clientY},T=u?.contains(C)||d?.contains(C),R=!nne(k,a);T?g():R&&(g(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,d,a,f,g]),y.jsx(fj,{...t,ref:s})}),[Fte,Wte]=Cm(Fu,{isInside:!1}),Hte=Lte("TooltipContent"),fj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,u=km(Pl,n),f=_m(n),{onClose:d}=u;return w.useEffect(()=>(document.addEventListener(F0,d),()=>document.removeEventListener(F0,d)),[d]),w.useEffect(()=>{if(u.trigger){const m=g=>{g.target?.contains(u.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,d]),y.jsx(ih,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:y.jsxs(Fb,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Hte,{children:r}),y.jsx(Fte,{scope:n,isInside:!0,children:y.jsx(Zte,{id:u.contentId,role:"tooltip",children:i||r})})]})})});hj.displayName=Pl;var dj="TooltipArrow",Kte=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_m(n);return Wte(dj,n).isInside?null:y.jsx(Wb,{...i,...r,ref:e})});Kte.displayName=dj;function Jte(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ene(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tne(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function nne(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],f=l.x,d=l.y,m=u.x,g=u.y;d>r!=g>r&&n<(m-f)*(r-d)/(g-d)+f&&(i=!i)}return i}function rne(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ine(e)}function ine(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sne=lj,one=cj,ane=uj,pj=hj;const lne=sne,cne=one,une=ane,mj=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(pj,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));mj.displayName=pj.displayName;const hne="sidebar_state",fne=3600*24*7,dne="16rem",pne="18rem",mne="3rem",gne="b",gj=w.createContext(null);function bh(){const t=w.useContext(gj);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Oj=w.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...a},l)=>{const u=Mte(),[f,d]=w.useState(!1),[m,g]=w.useState(t),O=e??m,x=w.useCallback(T=>{const R=typeof T=="function"?T(O):T;n?n(R):g(R),document.cookie=`${hne}=${R}; path=/; max-age=${fne}`},[n,O]),S=w.useCallback(()=>u?d(T=>!T):x(T=>!T),[u,x,d]);w.useEffect(()=>{const T=R=>{R.key===gne&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),S())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[S]);const C=O?"expanded":"collapsed",k=w.useMemo(()=>({state:C,open:O,setOpen:x,isMobile:u,openMobile:f,setOpenMobile:d,toggleSidebar:S}),[C,O,x,u,f,d,S]);return y.jsx(gj.Provider,{value:k,children:y.jsx(lne,{delayDuration:0,children:y.jsx("div",{style:{"--sidebar-width":dne,"--sidebar-width-icon":mne,...i},className:ue("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...a,children:s})})})});Oj.displayName="SidebarProvider";const vj=w.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s},a)=>{const{isMobile:l,state:u,openMobile:f,setOpenMobile:d}=bh();return n==="none"?y.jsx("div",{className:ue("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...s,children:i}):l?y.jsx(jte,{open:f,onOpenChange:d,...s,children:y.jsxs(nj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":pne},side:t,children:[y.jsxs(rj,{className:"sr-only",children:[y.jsx(ij,{children:"Sidebar"}),y.jsx(sj,{children:"Displays the mobile sidebar."})]}),y.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):y.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":u,"data-collapsible":u==="collapsed"?n:"","data-variant":e,"data-side":t,children:[y.jsx("div",{className:ue("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),y.jsx("div",{className:ue("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:y.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});vj.displayName="Sidebar";const yj=w.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:i}=bh();return y.jsxs(Fe,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ue("h-7 w-7",t),onClick:s=>{e?.(s),i()},...n,children:[y.jsx(qZ,{}),y.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});yj.displayName="SidebarTrigger";const One=w.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=bh();return y.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ue("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});One.displayName="SidebarRail";const bj=w.forwardRef(({className:t,...e},n)=>y.jsx("main",{ref:n,className:ue("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));bj.displayName="SidebarInset";const vne=w.forwardRef(({className:t,...e},n)=>y.jsx(Do,{ref:n,"data-sidebar":"input",className:ue("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));vne.displayName="SidebarInput";const wj=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"header",className:ue("flex flex-col gap-2 p-2",t),...e}));wj.displayName="SidebarHeader";const xj=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"footer",className:ue("flex flex-col gap-2 p-2",t),...e}));xj.displayName="SidebarFooter";const yne=w.forwardRef(({className:t,...e},n)=>y.jsx(lh,{ref:n,"data-sidebar":"separator",className:ue("mx-2 w-auto bg-sidebar-border",t),...e}));yne.displayName="SidebarSeparator";const Sj=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"content",className:ue("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Sj.displayName="SidebarContent";const H0=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"group",className:ue("relative flex w-full min-w-0 flex-col p-2",t),...e}));H0.displayName="SidebarGroup";const Cj=w.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?Nl:"div";return y.jsx(i,{ref:r,"data-sidebar":"group-label",className:ue("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});Cj.displayName="SidebarGroupLabel";const bne=w.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?Nl:"button";return y.jsx(i,{ref:r,"data-sidebar":"group-action",className:ue("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});bne.displayName="SidebarGroupAction";const K0=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"group-content",className:ue("w-full text-sm",t),...e}));K0.displayName="SidebarGroupContent";const su=w.forwardRef(({className:t,...e},n)=>y.jsx("ul",{ref:n,"data-sidebar":"menu",className:ue("flex w-full min-w-0 flex-col gap-1",t),...e}));su.displayName="SidebarMenu";const ou=w.forwardRef(({className:t,...e},n)=>y.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ue("group/menu-item relative",t),...e}));ou.displayName="SidebarMenuItem";const wne=nh("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),au=w.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a},l)=>{const u=t?Nl:"button",{isMobile:f,state:d}=bh(),m=y.jsx(u,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ue(wne({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),y.jsxs(cne,{children:[y.jsx(une,{asChild:!0,children:m}),y.jsx(mj,{side:"right",align:"center",hidden:d!=="collapsed"||f,...i})]})):m});au.displayName="SidebarMenuButton";const xne=w.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},i)=>{const s=e?Nl:"button";return y.jsx(s,{ref:i,"data-sidebar":"menu-action",className:ue("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});xne.displayName="SidebarMenuAction";const Sne=w.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ue("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Sne.displayName="SidebarMenuBadge";const Cne=w.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const i=w.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return y.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ue("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&y.jsx(tt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),y.jsx(tt,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Cne.displayName="SidebarMenuSkeleton";const _ne=w.forwardRef(({className:t,...e},n)=>y.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ue("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));_ne.displayName="SidebarMenuSub";const kne=w.forwardRef(({...t},e)=>y.jsx("li",{ref:e,...t}));kne.displayName="SidebarMenuSubItem";const Tne=w.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...i},s)=>{const a=t?Nl:"a";return y.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ue("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});Tne.displayName="SidebarMenuSubButton";const Rne=[{label:"Apercu",icon:$Z,route:null,disabled:!0},{label:"Import",icon:lV,route:"/dashboard"},{label:"Historique",icon:PZ,route:null,disabled:!0},{label:"Recherche",icon:Rd,route:"/recherche"},{label:"Modration",icon:SQ,route:"/moderation"},{label:"Templates",icon:al,route:"/templates"},{label:"Clients",icon:_Q,route:null,disabled:!0}],Ene=[{label:"Parametres",icon:eV,route:null,disabled:!0},{label:"Support",icon:jZ,route:null,disabled:!0}];function mE(t){const e=Qne(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,l=w.Children.toArray(s),u=l.find(Ane);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Qne(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=Mne(i),l=$ne(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pne=Symbol("radix.slottable");function Ane(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pne}function $ne(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Mne(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _j(t){const e=t+"CollectionProvider",[n,r]=os(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:C,children:k}=S,T=Ms.useRef(null),R=Ms.useRef(new Map).current;return y.jsx(i,{scope:C,itemMap:R,collectionRef:T,children:k})};a.displayName=e;const l=t+"CollectionSlot",u=mE(l),f=Ms.forwardRef((S,C)=>{const{scope:k,children:T}=S,R=s(l,k),Q=ut(C,R.collectionRef);return y.jsx(u,{ref:Q,children:T})});f.displayName=l;const d=t+"CollectionItemSlot",m="data-radix-collection-item",g=mE(d),O=Ms.forwardRef((S,C)=>{const{scope:k,children:T,...R}=S,Q=Ms.useRef(null),A=ut(C,Q),$=s(d,k);return Ms.useEffect(()=>($.itemMap.set(Q,{ref:Q,...R}),()=>{$.itemMap.delete(Q)})),y.jsx(g,{[m]:"",ref:A,children:T})});O.displayName=d;function x(S){const C=s(t+"CollectionConsumer",S);return Ms.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort(($,P)=>R.indexOf($.ref.current)-R.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:f,ItemSlot:O},x,r]}var yy="rovingFocusGroup.onEntryFocus",jne={bubbles:!1,cancelable:!0},wh="RovingFocusGroup",[J0,kj,Nne]=_j(wh),[Dne,Tj]=os(wh,[Nne]),[zne,Lne]=Dne(wh),Rj=w.forwardRef((t,e)=>y.jsx(J0.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(J0.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(Ine,{...t,ref:e})})}));Rj.displayName=wh;var Ine=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...m}=t,g=w.useRef(null),O=ut(e,g),x=Yw(s),[S,C]=rh({prop:a,defaultProp:l??null,onChange:u,caller:wh}),[k,T]=w.useState(!1),R=un(f),Q=kj(n),A=w.useRef(!1),[$,P]=w.useState(0);return w.useEffect(()=>{const Z=g.current;if(Z)return Z.addEventListener(yy,R),()=>Z.removeEventListener(yy,R)},[R]),y.jsx(zne,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:S,onItemFocus:w.useCallback(Z=>C(Z),[C]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(Z=>Z+1),[]),onFocusableItemRemove:w.useCallback(()=>P(Z=>Z-1),[]),children:y.jsx(nt.div,{tabIndex:k||$===0?-1:0,"data-orientation":r,...m,ref:O,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{A.current=!0}),onFocus:Se(t.onFocus,Z=>{const B=!A.current;if(Z.target===Z.currentTarget&&B&&!k){const ee=new CustomEvent(yy,jne);if(Z.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const re=Q().filter(I=>I.focusable),H=re.find(I=>I.active),le=re.find(I=>I.id===S),me=[H,le,...re].filter(Boolean).map(I=>I.ref.current);Pj(me,d)}}A.current=!1}),onBlur:Se(t.onBlur,()=>T(!1))})})}),Ej="RovingFocusGroupItem",Qj=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=$n(),f=s||u,d=Lne(Ej,n),m=d.currentTabStopId===f,g=kj(n),{onFocusableItemAdd:O,onFocusableItemRemove:x,currentTabStopId:S}=d;return w.useEffect(()=>{if(r)return O(),()=>x()},[r,O,x]),y.jsx(J0.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:y.jsx(nt.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Se(t.onMouseDown,C=>{r?d.onItemFocus(f):C.preventDefault()}),onFocus:Se(t.onFocus,()=>d.onItemFocus(f)),onKeyDown:Se(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=Vne(C,d.orientation,d.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let R=g().filter(Q=>Q.focusable).map(Q=>Q.ref.current);if(k==="last")R.reverse();else if(k==="prev"||k==="next"){k==="prev"&&R.reverse();const Q=R.indexOf(C.currentTarget);R=d.loop?Bne(R,Q+1):R.slice(Q+1)}setTimeout(()=>Pj(R))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:S!=null}):a})})});Qj.displayName=Ej;var Xne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Vne(t,e,n){const r=Zne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xne[r]}function Pj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Bne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qne=Rj,Une=Qj;function Yne(t){const e=Gne(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,l=w.Children.toArray(s),u=l.find(Wne);if(u){const f=u.props.children,d=l.map(m=>m===u?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:m);return y.jsx(e,{...a,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,d):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Gne(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=Kne(i),l=Hne(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Mn(r,a):a),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Fne=Symbol("radix.slottable");function Wne(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fne}function Hne(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Kne(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eb=["Enter"," "],Jne=["ArrowDown","PageUp","Home"],Aj=["ArrowUp","PageDown","End"],ere=[...Jne,...Aj],tre={ltr:[...eb,"ArrowRight"],rtl:[...eb,"ArrowLeft"]},nre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xh="Menu",[Wu,rre,ire]=_j(xh),[Ho,$j]=os(xh,[ire,Il,Tj]),Tm=Il(),Mj=Tj(),[sre,Ko]=Ho(xh),[ore,Sh]=Ho(xh),jj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=Tm(e),[u,f]=w.useState(null),d=w.useRef(!1),m=un(s),g=Yw(i);return w.useEffect(()=>{const O=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",O,{capture:!0}),()=>{document.removeEventListener("keydown",O,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),y.jsx(Gb,{...l,children:y.jsx(sre,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:f,children:y.jsx(ore,{scope:e,onClose:w.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:d,dir:g,modal:a,children:r})})})};jj.displayName=xh;var are="MenuAnchor",Jw=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Tm(n);return y.jsx(nm,{...i,...r,ref:e})});Jw.displayName=are;var ex="MenuPortal",[lre,Nj]=Ho(ex,{forceMount:void 0}),Dj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ko(ex,e);return y.jsx(lre,{scope:e,forceMount:n,children:y.jsx(On,{present:n||s.open,children:y.jsx(Yp,{asChild:!0,container:i,children:r})})})};Dj.displayName=ex;var _r="MenuContent",[cre,tx]=Ho(_r),zj=w.forwardRef((t,e)=>{const n=Nj(_r,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ko(_r,t.__scopeMenu),a=Sh(_r,t.__scopeMenu);return y.jsx(Wu.Provider,{scope:t.__scopeMenu,children:y.jsx(On,{present:r||s.open,children:y.jsx(Wu.Slot,{scope:t.__scopeMenu,children:a.modal?y.jsx(ure,{...i,ref:e}):y.jsx(hre,{...i,ref:e})})})})}),ure=w.forwardRef((t,e)=>{const n=Ko(_r,t.__scopeMenu),r=w.useRef(null),i=ut(e,r);return w.useEffect(()=>{const s=r.current;if(s)return Rb(s)},[]),y.jsx(nx,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hre=w.forwardRef((t,e)=>{const n=Ko(_r,t.__scopeMenu);return y.jsx(nx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fre=Yne("MenuContent.ScrollLock"),nx=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:g,onDismiss:O,disableOutsideScroll:x,...S}=t,C=Ko(_r,n),k=Sh(_r,n),T=Tm(n),R=Mj(n),Q=rre(n),[A,$]=w.useState(null),P=w.useRef(null),Z=ut(e,P,C.onContentChange),B=w.useRef(0),ee=w.useRef(""),re=w.useRef(0),H=w.useRef(null),le=w.useRef("right"),ae=w.useRef(0),me=x?Fp:w.Fragment,I=x?{as:fre,allowPinchZoom:!0}:void 0,L=G=>{const he=ee.current+G,M=Q().filter(fe=>!fe.disabled),N=document.activeElement,F=M.find(fe=>fe.ref.current===N)?.textValue,ie=M.map(fe=>fe.textValue),oe=Cre(ie,he,F),ce=M.find(fe=>fe.textValue===oe)?.ref.current;(function fe(ze){ee.current=ze,window.clearTimeout(B.current),ze!==""&&(B.current=window.setTimeout(()=>fe(""),1e3))})(he),ce&&setTimeout(()=>ce.focus())};w.useEffect(()=>()=>window.clearTimeout(B.current),[]),Tb();const K=w.useCallback(G=>le.current===H.current?.side&&kre(G,H.current?.area),[]);return y.jsx(cre,{scope:n,searchRef:ee,onItemEnter:w.useCallback(G=>{K(G)&&G.preventDefault()},[K]),onItemLeave:w.useCallback(G=>{K(G)||(P.current?.focus(),$(null))},[K]),onTriggerLeave:w.useCallback(G=>{K(G)&&G.preventDefault()},[K]),pointerGraceTimerRef:re,onPointerGraceIntentChange:w.useCallback(G=>{H.current=G},[]),children:y.jsx(me,{...I,children:y.jsx(Up,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,G=>{G.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:y.jsx(ih,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:g,onDismiss:O,children:y.jsx(qne,{asChild:!0,...R,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:$,onEntryFocus:Se(u,G=>{k.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(Fb,{role:"menu","aria-orientation":"vertical","data-state":eN(C.open),"data-radix-menu-content":"",dir:k.dir,...T,...S,ref:Z,style:{outline:"none",...S.style},onKeyDown:Se(S.onKeyDown,G=>{const M=G.target.closest("[data-radix-menu-content]")===G.currentTarget,N=G.ctrlKey||G.altKey||G.metaKey,F=G.key.length===1;M&&(G.key==="Tab"&&G.preventDefault(),!N&&F&&L(G.key));const ie=P.current;if(G.target!==ie||!ere.includes(G.key))return;G.preventDefault();const ce=Q().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);Aj.includes(G.key)&&ce.reverse(),xre(ce)}),onBlur:Se(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(B.current),ee.current="")}),onPointerMove:Se(t.onPointerMove,Hu(G=>{const he=G.target,M=ae.current!==G.clientX;if(G.currentTarget.contains(he)&&M){const N=G.clientX>ae.current?"right":"left";le.current=N,ae.current=G.clientX}}))})})})})})})});zj.displayName=_r;var dre="MenuGroup",rx=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(nt.div,{role:"group",...r,ref:e})});rx.displayName=dre;var pre="MenuLabel",Lj=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(nt.div,{...r,ref:e})});Lj.displayName=pre;var Mp="MenuItem",gE="menu.itemSelect",Rm=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=w.useRef(null),a=Sh(Mp,t.__scopeMenu),l=tx(Mp,t.__scopeMenu),u=ut(e,s),f=w.useRef(!1),d=()=>{const m=s.current;if(!n&&m){const g=new CustomEvent(gE,{bubbles:!0,cancelable:!0});m.addEventListener(gE,O=>r?.(O),{once:!0}),zQ(m,g),g.defaultPrevented?f.current=!1:a.onClose()}};return y.jsx(Ij,{...i,ref:u,disabled:n,onClick:Se(t.onClick,d),onPointerDown:m=>{t.onPointerDown?.(m),f.current=!0},onPointerUp:Se(t.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Se(t.onKeyDown,m=>{const g=l.searchRef.current!=="";n||g&&m.key===" "||eb.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Rm.displayName=Mp;var Ij=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=tx(Mp,n),l=Mj(n),u=w.useRef(null),f=ut(e,u),[d,m]=w.useState(!1),[g,O]=w.useState("");return w.useEffect(()=>{const x=u.current;x&&O((x.textContent??"").trim())},[s.children]),y.jsx(Wu.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:y.jsx(Une,{asChild:!0,...l,focusable:!r,children:y.jsx(nt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:Se(t.onPointerMove,Hu(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,Hu(x=>a.onItemLeave(x))),onFocus:Se(t.onFocus,()=>m(!0)),onBlur:Se(t.onBlur,()=>m(!1))})})})}),mre="MenuCheckboxItem",Xj=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return y.jsx(Uj,{scope:t.__scopeMenu,checked:n,children:y.jsx(Rm,{role:"menuitemcheckbox","aria-checked":jp(n)?"mixed":n,...i,ref:e,"data-state":sx(n),onSelect:Se(i.onSelect,()=>r?.(jp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Xj.displayName=mre;var Zj="MenuRadioGroup",[gre,Ore]=Ho(Zj,{value:void 0,onValueChange:()=>{}}),Vj=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=un(r);return y.jsx(gre,{scope:t.__scopeMenu,value:n,onValueChange:s,children:y.jsx(rx,{...i,ref:e})})});Vj.displayName=Zj;var Bj="MenuRadioItem",qj=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=Ore(Bj,t.__scopeMenu),s=n===i.value;return y.jsx(Uj,{scope:t.__scopeMenu,checked:s,children:y.jsx(Rm,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":sx(s),onSelect:Se(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});qj.displayName=Bj;var ix="MenuItemIndicator",[Uj,vre]=Ho(ix,{checked:!1}),Yj=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=vre(ix,n);return y.jsx(On,{present:r||jp(s.checked)||s.checked===!0,children:y.jsx(nt.span,{...i,ref:e,"data-state":sx(s.checked)})})});Yj.displayName=ix;var yre="MenuSeparator",Gj=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Gj.displayName=yre;var bre="MenuArrow",Fj=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Tm(n);return y.jsx(Wb,{...i,...r,ref:e})});Fj.displayName=bre;var wre="MenuSub",[Qie,Wj]=Ho(wre),lu="MenuSubTrigger",Hj=w.forwardRef((t,e)=>{const n=Ko(lu,t.__scopeMenu),r=Sh(lu,t.__scopeMenu),i=Wj(lu,t.__scopeMenu),s=tx(lu,t.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,f={__scopeMenu:t.__scopeMenu},d=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),u(null)}},[l,u]),y.jsx(Jw,{asChild:!0,...f,children:y.jsx(Ij,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":eN(n.open),...t,ref:Mn(e,i.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,Hu(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Se(t.onPointerLeave,Hu(m=>{d();const g=n.content?.getBoundingClientRect();if(g){const O=n.content?.dataset.side,x=O==="right",S=x?-5:5,C=g[x?"left":"right"],k=g[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+S,y:m.clientY},{x:C,y:g.top},{x:k,y:g.top},{x:k,y:g.bottom},{x:C,y:g.bottom}],side:O}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,m=>{const g=s.searchRef.current!=="";t.disabled||g&&m.key===" "||tre[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});Hj.displayName=lu;var Kj="MenuSubContent",Jj=w.forwardRef((t,e)=>{const n=Nj(_r,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ko(_r,t.__scopeMenu),a=Sh(_r,t.__scopeMenu),l=Wj(Kj,t.__scopeMenu),u=w.useRef(null),f=ut(e,u);return y.jsx(Wu.Provider,{scope:t.__scopeMenu,children:y.jsx(On,{present:r||s.open,children:y.jsx(Wu.Slot,{scope:t.__scopeMenu,children:y.jsx(nx,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&u.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Se(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Se(t.onKeyDown,d=>{const m=d.currentTarget.contains(d.target),g=nre[a.dir].includes(d.key);m&&g&&(s.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});Jj.displayName=Kj;function eN(t){return t?"open":"closed"}function jp(t){return t==="indeterminate"}function sx(t){return jp(t)?"indeterminate":t?"checked":"unchecked"}function xre(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Cre(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Sre(t,Math.max(s,0));i.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function _re(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],f=l.x,d=l.y,m=u.x,g=u.y;d>r!=g>r&&n<(m-f)*(r-d)/(g-d)+f&&(i=!i)}return i}function kre(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _re(n,e)}function Hu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Tre=jj,Rre=Jw,Ere=Dj,Qre=zj,Pre=rx,Are=Lj,$re=Rm,Mre=Xj,jre=Vj,Nre=qj,Dre=Yj,zre=Gj,Lre=Fj,Ire=Hj,Xre=Jj,Em="DropdownMenu",[Zre]=os(Em,[$j]),vn=$j(),[Vre,tN]=Zre(Em),nN=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,u=vn(e),f=w.useRef(null),[d,m]=rh({prop:i,defaultProp:s??!1,onChange:a,caller:Em});return y.jsx(Vre,{scope:e,triggerId:$n(),triggerRef:f,contentId:$n(),open:d,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:l,children:y.jsx(Tre,{...u,open:d,onOpenChange:m,dir:r,modal:l,children:n})})};nN.displayName=Em;var rN="DropdownMenuTrigger",iN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=tN(rN,n),a=vn(n);return y.jsx(Rre,{asChild:!0,...a,children:y.jsx(nt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Mn(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Se(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iN.displayName=rN;var Bre="DropdownMenuPortal",sN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vn(e);return y.jsx(Ere,{...r,...n})};sN.displayName=Bre;var oN="DropdownMenuContent",aN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=tN(oN,n),s=vn(n),a=w.useRef(!1);return y.jsx(Qre,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,l=>{a.current||i.triggerRef.current?.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,d=u.button===2||f;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aN.displayName=oN;var qre="DropdownMenuGroup",Ure=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Pre,{...i,...r,ref:e})});Ure.displayName=qre;var Yre="DropdownMenuLabel",lN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Are,{...i,...r,ref:e})});lN.displayName=Yre;var Gre="DropdownMenuItem",cN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx($re,{...i,...r,ref:e})});cN.displayName=Gre;var Fre="DropdownMenuCheckboxItem",uN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Mre,{...i,...r,ref:e})});uN.displayName=Fre;var Wre="DropdownMenuRadioGroup",Hre=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(jre,{...i,...r,ref:e})});Hre.displayName=Wre;var Kre="DropdownMenuRadioItem",hN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Nre,{...i,...r,ref:e})});hN.displayName=Kre;var Jre="DropdownMenuItemIndicator",eie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Dre,{...i,...r,ref:e})});eie.displayName=Jre;var tie="DropdownMenuSeparator",fN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(zre,{...i,...r,ref:e})});fN.displayName=tie;var nie="DropdownMenuArrow",rie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Lre,{...i,...r,ref:e})});rie.displayName=nie;var iie="DropdownMenuSubTrigger",dN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Ire,{...i,...r,ref:e})});dN.displayName=iie;var sie="DropdownMenuSubContent",pN=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vn(n);return y.jsx(Xre,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pN.displayName=sie;var oie=nN,aie=iN,lie=sN,mN=aN,gN=lN,ON=cN,vN=uN,yN=hN,bN=fN,wN=dN,xN=pN;const cie=oie,uie=aie,hie=w.forwardRef(({className:t,inset:e,children:n,...r},i)=>y.jsx(wN,{ref:i,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-muted data-[state=open]:bg-muted",e&&"pl-8",t),...r,children:n}));hie.displayName=wN.displayName;const fie=w.forwardRef(({className:t,...e},n)=>y.jsx(xN,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-foreground shadow-md",t),...e}));fie.displayName=xN.displayName;const SN=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(lie,{children:y.jsx(mN,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-foreground shadow-md",t),...n})}));SN.displayName=mN.displayName;const CN=w.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(ON,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));CN.displayName=ON.displayName;const die=w.forwardRef(({className:t,children:e,checked:n,...r},i)=>y.jsxs(vN,{ref:i,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center rounded-sm border",children:n?y.jsx("span",{className:"h-2 w-2 rounded-sm bg-primary"}):null}),e]}));die.displayName=vN.displayName;const pie=w.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(yN,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-muted data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center rounded-full border",children:y.jsx("span",{className:"h-2 w-2 rounded-full bg-primary"})}),e]}));pie.displayName=yN.displayName;const _N=w.forwardRef(({className:t,inset:e,...n},r)=>y.jsx(gN,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));_N.displayName=gN.displayName;const kN=w.forwardRef(({className:t,...e},n)=>y.jsx(bN,{ref:n,className:ue("-mx-1 my-1 h-px bg-border/60",t),...e}));kN.displayName=bN.displayName;function mie(t,e){if(t){const n=t.trim().split(/\s+/);return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():n[0].slice(0,2).toUpperCase()}return e?e.slice(0,2).toUpperCase():"?"}function OE({session:t}){const e=mie(t.displayName,t.email);return t.avatarUrl?y.jsx("img",{src:t.avatarUrl,alt:t.displayName??"Avatar",className:"size-8 shrink-0 rounded-full object-cover",referrerPolicy:"no-referrer"}):y.jsx("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-semibold text-primary-foreground",children:e})}function vE(t,e){return e.route?t===e.route||t.startsWith(e.route+"/"):!1}function gie({session:t,onLogout:e}){const n=Oi(),r=ro(),{isMobile:i,setOpenMobile:s}=bh(),a=w.useCallback(l=>{if(l.disabled||!l.route)return;const u=l.route;if(i){s(!1),setTimeout(()=>r(u),0);return}r(u)},[i,r,s]);return w.useEffect(()=>{i&&s(!1)},[i,n.pathname,s]),y.jsxs(vj,{variant:"inset",collapsible:"icon",children:[y.jsx(wj,{children:y.jsx(su,{children:y.jsx(ou,{children:y.jsx(au,{asChild:!0,className:"data-[slot=sidebar-menu-button]:!p-1.5 h-auto",children:y.jsxs("a",{href:"/dashboard",children:[y.jsx(bQ,{className:"group-data-[collapsible=icon]:hidden"}),y.jsx("span",{className:"text-base font-semibold text-terracotta hidden group-data-[collapsible=icon]:inline",children:"AM"})]})})})})}),y.jsxs(Sj,{children:[y.jsxs(H0,{children:[y.jsx(Cj,{children:"Navigation"}),y.jsx(K0,{children:y.jsx(su,{children:Rne.map(l=>{const u=l.icon,f=vE(n.pathname,l),d=l.disabled||!l.route;return y.jsx(ou,{children:y.jsxs(au,{tooltip:l.label,isActive:f,onClick:()=>a(l),"aria-disabled":d,className:ue(d&&"cursor-not-allowed opacity-50"),children:[y.jsx(u,{}),y.jsx("span",{children:l.label})]})},l.label)})})})]}),y.jsx(H0,{className:"mt-auto",children:y.jsx(K0,{children:y.jsx(su,{children:Ene.map(l=>{const u=l.icon,f=vE(n.pathname,l),d=l.disabled||!l.route;return y.jsx(ou,{children:y.jsxs(au,{tooltip:l.label,isActive:f,onClick:()=>a(l),"aria-disabled":d,className:ue(d&&"cursor-not-allowed opacity-50"),children:[y.jsx(u,{}),y.jsx("span",{children:l.label})]})},l.label)})})})})]}),y.jsx(xj,{children:t?y.jsx(y.Fragment,{children:y.jsx(su,{children:y.jsx(ou,{children:y.jsxs(cie,{children:[y.jsx(uie,{asChild:!0,children:y.jsxs(au,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[y.jsx(OE,{session:t}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:t.displayName||"Utilisateur"}),y.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email||""})]}),y.jsx(wZ,{className:"ml-auto size-4"})]})}),y.jsxs(SN,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:i?"bottom":"right",align:"end",sideOffset:4,children:[y.jsx(_N,{className:"p-0 font-normal",children:y.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[y.jsx(OE,{session:t}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:t.displayName||"Utilisateur"}),y.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email||""})]})]})}),y.jsx(kN,{}),y.jsxs(CN,{onClick:e,children:[y.jsx(LZ,{className:"mr-2 size-4"}),"Dconnexion"]})]})]})})})}):null})]})}function Oie(){return y.jsx("header",{className:"group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 flex h-12 shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear",children:y.jsxs("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:[y.jsx(yj,{className:"-ml-1"}),y.jsx(lh,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),y.jsx("h1",{className:"text-base font-medium",children:"Back office"})]})})}function vie(){const t=ro(),e=qs(),n=()=>{Zp(),t("/",{replace:!0})};return y.jsxs(Oj,{children:[y.jsx(gie,{session:e,onLogout:n}),y.jsxs(bj,{children:[y.jsx(Oie,{}),y.jsx("div",{className:"flex flex-1 flex-col",children:y.jsx("div",{className:"flex flex-1 flex-col gap-4 py-4 md:gap-6 md:py-6",children:y.jsx(ZE,{})})})]})]})}const yie=300*1e3;function bie(){const t=ro(),[e,n]=w.useState(()=>qs()),r=w.useRef(null),i="1049703629392-841b2v0l867freoutmn2e17c9ikbvso6.apps.googleusercontent.com";return w.useEffect(()=>{if(!r.current)try{r.current=GE({clientId:i,scope:["https://www.googleapis.com/auth/forms.responses.readonly","https://www.googleapis.com/auth/forms.body.readonly","openid","email","profile"].join(" "),callback:s=>{if(s.error||!s.access_token){console.warn("Silent token renewal failed:",s.error);return}const a=ZX(s.access_token);a&&n(a)}})}catch{}},[i]),w.useEffect(()=>{if(!e)return;const s=new Date(e.expiresAt).getTime(),a=s-Date.now()-yie;if(a>0){const l=setTimeout(()=>{r.current&&r.current.requestAccessToken({prompt:""})},a);return()=>clearTimeout(l)}s>Date.now()&&r.current&&r.current.requestAccessToken({prompt:""})},[e]),w.useEffect(()=>{const s=setInterval(()=>{qs()||(Zp(),t("/",{replace:!0}))},3e4);return()=>clearInterval(s)},[t]),!e||!e.accessToken?y.jsx(jz,{to:"/",replace:!0}):y.jsx(ZE,{})}function wie(){return y.jsx(aL,{children:y.jsxs(Dz,{children:[y.jsx(Vi,{path:"/",element:y.jsx($te,{children:y.jsx(HX,{})})}),y.jsx(Vi,{element:y.jsx(bie,{}),children:y.jsxs(Vi,{element:y.jsx(vie,{}),children:[y.jsx(Vi,{path:"/dashboard",element:y.jsx(oZ,{})}),y.jsx(Vi,{path:"/recherche",element:y.jsx(w7,{})}),y.jsx(Vi,{path:"/recherche/lover-cv/:submissionId",element:y.jsx(Ate,{})}),y.jsx(Vi,{path:"/moderation",element:y.jsx(e6,{})}),y.jsx(Vi,{path:"/templates",element:y.jsx(fte,{})})]})})]})})}const xie=new M3;s3.createRoot(document.getElementById("root")).render(y.jsx(w.StrictMode,{children:y.jsx(N3,{client:xie,children:y.jsx(wie,{})})}));
